GFX_Play_HUD_1PHuman: db $02
L1D4001: db $2E
L1D4002: db $2E
L1D4003: db $69
L1D4004: db $69
L1D4005: db $2E
L1D4006: db $2E
L1D4007: db $28
L1D4008: db $28
L1D4009: db $28
L1D400A: db $28
L1D400B: db $00
L1D400C: db $00
L1D400D: db $00
L1D400E: db $00
L1D400F: db $00
L1D4010: db $00
L1D4011: db $00
L1D4012: db $00
L1D4013: db $00
L1D4014: db $00
L1D4015: db $00
L1D4016: db $00
L1D4017: db $00
L1D4018: db $00
L1D4019: db $00
L1D401A: db $00
L1D401B: db $00
L1D401C: db $00
L1D401D: db $00
L1D401E: db $00
L1D401F: db $00
L1D4020: db $00
GFX_Play_HUD_2PHuman: db $02;X
L1D4022: db $01;X
L1D4023: db $01;X
L1D4024: db $00;X
L1D4025: db $00;X
L1D4026: db $01;X
L1D4027: db $01;X
L1D4028: db $02;X
L1D4029: db $02;X
L1D402A: db $03;X
L1D402B: db $03;X
L1D402C: db $00;X
L1D402D: db $00;X
L1D402E: db $00;X
L1D402F: db $00;X
L1D4030: db $00;X
L1D4031: db $00;X
L1D4032: db $9C;X
L1D4033: db $9C;X
L1D4034: db $52;X
L1D4035: db $52;X
L1D4036: db $9C;X
L1D4037: db $9C;X
L1D4038: db $10;X
L1D4039: db $10;X
L1D403A: db $90;X
L1D403B: db $90;X
L1D403C: db $00;X
L1D403D: db $00;X
L1D403E: db $00;X
L1D403F: db $00;X
L1D4040: db $00;X
L1D4041: db $00;X
GFX_Play_HUD_1PCPU: db $02
L1D4043: db $22
L1D4044: db $22
L1D4045: db $55
L1D4046: db $55
L1D4047: db $45
L1D4048: db $45
L1D4049: db $55
L1D404A: db $55
L1D404B: db $22
L1D404C: db $22
L1D404D: db $00
L1D404E: db $00
L1D404F: db $00
L1D4050: db $00
L1D4051: db $00
L1D4052: db $00
L1D4053: db $50
L1D4054: db $50
L1D4055: db $70
L1D4056: db $70
L1D4057: db $50
L1D4058: db $50
L1D4059: db $50
L1D405A: db $50
L1D405B: db $50
L1D405C: db $50
L1D405D: db $00
L1D405E: db $00
L1D405F: db $00
L1D4060: db $00
L1D4061: db $00
L1D4062: db $00
GFX_Play_HUD_2PCPU: db $02
L1D4064: db $04
L1D4065: db $04
L1D4066: db $0A
L1D4067: db $0A
L1D4068: db $08
L1D4069: db $08
L1D406A: db $0A
L1D406B: db $0A
L1D406C: db $04
L1D406D: db $04
L1D406E: db $00
L1D406F: db $00
L1D4070: db $00
L1D4071: db $00
L1D4072: db $00
L1D4073: db $00
L1D4074: db $4A
L1D4075: db $4A
L1D4076: db $AE
L1D4077: db $AE
L1D4078: db $AA
L1D4079: db $AA
L1D407A: db $AA
L1D407B: db $AA
L1D407C: db $4A
L1D407D: db $4A
L1D407E: db $00
L1D407F: db $00
L1D4080: db $00
L1D4081: db $00
L1D4082: db $00
L1D4083: db $00
GFXLZ_Play_HUD_CharNames: db $7A
L1D4085: db $80
L1D4086: db $7D
L1D4087: db $00
L1D4088: db $03
L1D4089: db $03
L1D408A: db $03
L1D408B: db $03
L1D408C: db $00
L1D408D: db $19
L1D408E: db $00
L1D408F: db $5A
L1D4090: db $1B
L1D4091: db $00
L1D4092: db $3E
L1D4093: db $00
L1D4094: db $18
L1D4095: db $38
L1D4096: db $04
L1D4097: db $3C
L1D4098: db $56
L1D4099: db $6E
L1D409A: db $08
L1D409B: db $66
L1D409C: db $3E
L1D409D: db $99
L1D409E: db $00
L1D409F: db $3D
L1D40A0: db $0E
L1D40A1: db $D7
L1D40A2: db $00
L1D40A3: db $18
L1D40A4: db $18
L1D40A5: db $05
L1D40A6: db $30
L1D40A7: db $08
L1D40A8: db $05
L1D40A9: db $01
L1D40AA: db $7A
L1D40AB: db $0F
L1D40AC: db $00
L1D40AD: db $3D
L1D40AE: db $01
L1D40AF: db $18
L1D40B0: db $33
L1D40B1: db $04
L1D40B2: db $32
L1D40B3: db $AD
L1D40B4: db $75
L1D40B5: db $7C
L1D40B6: db $3E
L1D40B7: db $06
L1D40B8: db $00
L1D40B9: db $75
L1D40BA: db $16
L1D40BB: db $00
L1D40BC: db $AA
L1D40BD: db $18
L1D40BE: db $26
L1D40BF: db $31
L1D40C0: db $ED
L1D40C1: db $08
L1D40C2: db $CD
L1D40C3: db $3E
L1D40C4: db $9E
L1D40C5: db $EC
L1D40C6: db $00
L1D40C7: db $68
L1D40C8: db $00
L1D40C9: db $63
L1D40CA: db $00
L1D40CB: db $EA
L1D40CC: db $C6
L1D40CD: db $CC
L1D40CE: db $B7
L1D40CF: db $08
L1D40D0: db $78
L1D40D1: db $3E
L1D40D2: db $35
L1D40D3: db $67
L1D40D4: db $02
L1D40D5: db $6A
L1D40D6: db $38
L1D40D7: db $75
L1D40D8: db $98
L1D40D9: db $08
L1D40DA: db $05
L1D40DB: db $01
L1D40DC: db $0C
L1D40DD: db $00
L1D40DE: db $39
L1D40DF: db $00
L1D40E0: db $6B
L1D40E1: db $FB
L1D40E2: db $00
L1D40E3: db $18
L1D40E4: db $B3
L1D40E5: db $04
L1D40E6: db $36
L1D40E7: db $89
L1D40E8: db $99
L1D40E9: db $AB
L1D40EA: db $01
L1D40EB: db $F0
L1D40EC: db $00
L1D40ED: db $99
L1D40EE: db $00
L1D40EF: db $19
L1D40F0: db $00
L1D40F1: db $99
L1D40F2: db $FA
L1D40F3: db $05
L1D40F4: db $CA
L1D40F5: db $3E
L1D40F6: db $98
L1D40F7: db $00
L1D40F8: db $D8
L1D40F9: db $00
L1D40FA: db $F8
L1D40FB: db $E7
L1D40FC: db $00
L1D40FD: db $59
L1D40FE: db $04
L1D40FF: db $70
L1D4100: db $60
L1D4101: db $08
L1D4102: db $05
L1D4103: db $01
L1D4104: db $5A
L1D4105: db $3F
L1D4106: db $00
L1D4107: db $18
L1D4108: db $02
L1D4109: db $18
L1D410A: db $30
L1D410B: db $05
L1D410C: db $61
L1D410D: db $EF
L1D410E: db $08
L1D410F: db $05
L1D4110: db $01
L1D4111: db $3E
L1D4112: db $00
L1D4113: db $54
L1D4114: db $02
L1D4115: db $18
L1D4116: db $4A
L1D4117: db $F1
L1D4118: db $04
L1D4119: db $C1
L1D411A: db $83
L1D411B: db $08
L1D411C: db $F3
L1D411D: db $3E
L1D411E: db $03
L1D411F: db $AD
L1D4120: db $00
L1D4121: db $07
L1D4122: db $00
L1D4123: db $0B
L1D4124: db $00
L1D4125: db $18
L1D4126: db $13
L1D4127: db $61
L1D4128: db $55
L1D4129: db $76
L1D412A: db $08
L1D412B: db $66
L1D412C: db $3E
L1D412D: db $0C
L1D412E: db $00
L1D412F: db $1D
L1D4130: db $00
L1D4131: db $76
L1D4132: db $1F
L1D4133: db $00
L1D4134: db $D9
L1D4135: db $04
L1D4136: db $37
L1D4137: db $35
L1D4138: db $3F
L1D4139: db $78
L1D413A: db $B4
L1D413B: db $00
L1D413C: db $CC
L1D413D: db $02
L1D413E: db $18
L1D413F: db $F9
L1D4140: db $04
L1D4141: db $E1
L1D4142: db $63
L1D4143: db $BA
L1D4144: db $08
L1D4145: db $33
L1D4146: db $3F
L1D4147: db $3F
L1D4148: db $3D
L1D4149: db $F8
L1D414A: db $04
L1D414B: db $E0
L1D414C: db $55
L1D414D: db $61
L1D414E: db $08
L1D414F: db $31
L1D4150: db $3E
L1D4151: db $CF
L1D4152: db $00
L1D4153: db $9B
L1D4154: db $02
L1D4155: db $AE
L1D4156: db $6A
L1D4157: db $32
L1D4158: db $B5
L1D4159: db $7C
L1D415A: db $3E
L1D415B: db $20
L1D415C: db $00
L1D415D: db $36
L1D415E: db $B5
L1D415F: db $00
L1D4160: db $1C
L1D4161: db $00
L1D4162: db $18
L1D4163: db $30
L1D4164: db $05
L1D4165: db $60
L1D4166: db $08
L1D4167: db $EB
L1D4168: db $05
L1D4169: db $01
L1D416A: db $AD
L1D416B: db $D8
L1D416C: db $00
L1D416D: db $70
L1D416E: db $00
L1D416F: db $18
L1D4170: db $5D
L1D4171: db $C0
L1D4172: db $05
L1D4173: db $80
L1D4174: db $08
L1D4175: db $05
L1D4176: db $01
L1D4177: db $0F
L1D4178: db $00
L1D4179: db $69
L1D417A: db $19
L1D417B: db $02
L1D417C: db $18
L1D417D: db $3F
L1D417E: db $04
L1D417F: db $3C
L1D4180: db $6C
L1D4181: db $08
L1D4182: db $F6
L1D4183: db $C5
L1D4184: db $01
L1D4185: db $2D
L1D4186: db $F5
L1D4187: db $8E
L1D4188: db $00
L1D4189: db $18
L1D418A: db $18
L1D418B: db $F5
L1D418C: db $05
L1D418D: db $CA
L1D418E: db $7F
L1D418F: db $00
L1D4190: db $99
L1D4191: db $00
L1D4192: db $B1
L1D4193: db $00
L1D4194: db $AF
L1D4195: db $18
L1D4196: db $33
L1D4197: db $04
L1D4198: db $63
L1D4199: db $75
L1D419A: db $88
L1D419B: db $3F
L1D419C: db $3E
L1D419D: db $D2
L1D419E: db $01
L1D419F: db $18
L1D41A0: db $3E
L1D41A1: db $04
L1D41A2: db $32
L1D41A3: db $62
L1D41A4: db $08
L1D41A5: db $7C
L1D41A6: db $BD
L1D41A7: db $3E
L1D41A8: db $1F
L1D41A9: db $00
L1D41AA: db $94
L1D41AB: db $02
L1D41AC: db $18
L1D41AD: db $78
L1D41AE: db $04
L1D41AF: db $2F
L1D41B0: db $60
L1D41B1: db $C1
L1D41B2: db $08
L1D41B3: db $F9
L1D41B4: db $3E
L1D41B5: db $8C
L1D41B6: db $00
L1D41B7: db $9C
L1D41B8: db $D7
L1D41B9: db $02
L1D41BA: db $18
L1D41BB: db $FC
L1D41BC: db $04
L1D41BD: db $F0
L1D41BE: db $D1
L1D41BF: db $99
L1D41C0: db $01
L1D41C1: db $FA
L1D41C2: db $20
L1D41C3: db $00
L1D41C4: db $60
L1D41C5: db $02
L1D41C6: db $18
L1D41C7: db $C0
L1D41C8: db $05
L1D41C9: db $80
L1D41CA: db $EB
L1D41CB: db $08
L1D41CC: db $05
L1D41CD: db $01
L1D41CE: db $06
L1D41CF: db $00
L1D41D0: db $0C
L1D41D1: db $02
L1D41D2: db $18
L1D41D3: db $6E
L1D41D4: db $18
L1D41D5: db $05
L1D41D6: db $D1
L1D41D7: db $3E
L1D41D8: db $FF
L1D41D9: db $FF
L1D41DA: db $FF
L1D41DB: db $61
L1D41DC: db $AA
L1D41DD: db $FD
L1D41DE: db $F8
L1D41DF: db $3E
L1D41E0: db $01
L1D41E1: db $00
L1D41E2: db $03
L1D41E3: db $00
L1D41E4: db $05
L1D41E5: db $D5
L1D41E6: db $00
L1D41E7: db $18
L1D41E8: db $09
L1D41E9: db $61
L1D41EA: db $3B
L1D41EB: db $08
L1D41EC: db $33
L1D41ED: db $3E
L1D41EE: db $5B
L1D41EF: db $9F
L1D41F0: db $00
L1D41F1: db $8C
L1D41F2: db $02
L1D41F3: db $18
L1D41F4: db $98
L1D41F5: db $BF
L1D41F6: db $05
L1D41F7: db $AB
L1D41F8: db $01
L1D41F9: db $3C
L1D41FA: db $00
L1D41FB: db $66
L1D41FC: db $00
L1D41FD: db $C6
L1D41FE: db $00
L1D41FF: db $18
L1D4200: db $6B
L1D4201: db $CC
L1D4202: db $04
L1D4203: db $4C
L1D4204: db $99
L1D4205: db $08
L1D4206: db $F1
L1D4207: db $3E
L1D4208: db $8C
L1D4209: db $AD
L1D420A: db $00
L1D420B: db $76
L1D420C: db $00
L1D420D: db $7E
L1D420E: db $00
L1D420F: db $18
L1D4210: db $FC
L1D4211: db $04
L1D4212: db $7F
L1D4213: db $DC
L1D4214: db $3D
L1D4215: db $05
L1D4216: db $01
L1D4217: db $0C
L1D4218: db $00
L1D4219: db $45
L1D421A: db $01
L1D421B: db $FF
L1D421C: db $18
L1D421D: db $45
L1D421E: db $94
L1D421F: db $89
L1D4220: db $05
L1D4221: db $FF
L1D4222: db $D4
L1D4223: db $02
L1D4224: db $A5
L1D4225: db $18
L1D4226: db $78
L1D4227: db $04
L1D4228: db $60
L1D4229: db $C1
L1D422A: db $08
L1D422B: db $F9
L1D422C: db $3E
L1D422D: db $56
L1D422E: db $0C
L1D422F: db $00
L1D4230: db $1C
L1D4231: db $00
L1D4232: db $2C
L1D4233: db $00
L1D4234: db $18
L1D4235: db $4C
L1D4236: db $96
L1D4237: db $04
L1D4238: db $F8
L1D4239: db $D8
L1D423A: db $08
L1D423B: db $98
L1D423C: db $3F
L1D423D: db $3E
L1D423E: db $1F
L1D423F: db $DB
L1D4240: db $00
L1D4241: db $18
L1D4242: db $36
L1D4243: db $04
L1D4244: db $8C
L1D4245: db $61
L1D4246: db $08
L1D4247: db $05
L1D4248: db $D6
L1D4249: db $01
L1D424A: db $AD
L1D424B: db $E1
L1D424C: db $00
L1D424D: db $E2
L1D424E: db $00
L1D424F: db $18
L1D4250: db $C4
L1D4251: db $95
L1D4252: db $04
L1D4253: db $CF
L1D4254: db $9D
L1D4255: db $08
L1D4256: db $99
L1D4257: db $3E
L1D4258: db $03
L1D4259: db $00
L1D425A: db $77
L1D425B: db $06
L1D425C: db $02
L1D425D: db $99
L1D425E: db $05
L1D425F: db $18
L1D4260: db $08
L1D4261: db $05
L1D4262: db $01
L1D4263: db $56
L1D4264: db $1E
L1D4265: db $00
L1D4266: db $33
L1D4267: db $00
L1D4268: db $63
L1D4269: db $00
L1D426A: db $18
L1D426B: db $66
L1D426C: db $95
L1D426D: db $04
L1D426E: db $C6
L1D426F: db $CC
L1D4270: db $08
L1D4271: db $78
L1D4272: db $3E
L1D4273: db $C3
L1D4274: db $00
L1D4275: db $F3
L1D4276: db $20
L1D4277: db $02
L1D4278: db $18
L1D4279: db $31
L1D427A: db $8C
L1D427B: db $98
L1D427C: db $08
L1D427D: db $05
L1D427E: db $F5
L1D427F: db $7F
L1D4280: db $7D
L1D4281: db $01
L1D4282: db $18
L1D4283: db $7E
L1D4284: db $71
L1D4285: db $D8
L1D4286: db $52
L1D4287: db $ED
L1D4288: db $01
L1D4289: db $CC
L1D428A: db $00
L1D428B: db $30
L1D428C: db $02
L1D428D: db $18
L1D428E: db $60
L1D428F: db $05
L1D4290: db $75
L1D4291: db $C0
L1D4292: db $08
L1D4293: db $05
L1D4294: db $01
L1D4295: db $0F
L1D4296: db $00
L1D4297: db $19
L1D4298: db $00
L1D4299: db $D2
L1D429A: db $4D
L1D429B: db $18
L1D429C: db $37
L1D429D: db $04
L1D429E: db $32
L1D429F: db $66
L1D42A0: db $08
L1D42A1: db $3C
L1D42A2: db $FF
L1D42A3: db $3F
L1D42A4: db $00
L1D42A5: db $D4
L1D42A6: db $00
L1D42A7: db $3E
L1D42A8: db $29
L1D42A9: db $8C
L1D42AA: db $89
L1D42AB: db $56
L1D42AC: db $7C
L1D42AD: db $3E
L1D42AE: db $CF
L1D42AF: db $00
L1D42B0: db $C6
L1D42B1: db $02
L1D42B2: db $EA
L1D42B3: db $8C
L1D42B4: db $FF
L1D42B5: db $58
L1D42B6: db $08
L1D42B7: db $05
L1D42B8: db $01
L1D42B9: db $20
L1D42BA: db $00
L1D42BB: db $BD
L1D42BC: db $01
L1D42BD: db $BB
L1D42BE: db $18
L1D42BF: db $33
L1D42C0: db $05
L1D42C1: db $BF
L1D42C2: db $01
L1D42C3: db $9F
L1D42C4: db $00
L1D42C5: db $A0
L1D42C6: db $DA
L1D42C7: db $02
L1D42C8: db $18
L1D42C9: db $78
L1D42CA: db $04
L1D42CB: db $B8
L1D42CC: db $C1
L1D42CD: db $08
L1D42CE: db $F8
L1D42CF: db $FE
L1D42D0: db $3E
L1D42D1: db $4C
L1D42D2: db $00
L1D42D3: db $5C
L1D42D4: db $00
L1D42D5: db $28
L1D42D6: db $E9
L1D42D7: db $38
L1D42D8: db $96
L1D42D9: db $04
L1D42DA: db $0C
L1D42DB: db $9D
L1D42DC: db $08
L1D42DD: db $F9
L1D42DE: db $FF
L1D42DF: db $00
L1D42E0: db $99
L1D42E1: db $D7
L1D42E2: db $02
L1D42E3: db $18
L1D42E4: db $3F
L1D42E5: db $61
L1D42E6: db $6C
L1D42E7: db $08
L1D42E8: db $C5
L1D42E9: db $01
L1D42EA: db $5B
L1D42EB: db $0F
L1D42EC: db $00
L1D42ED: db $98
L1D42EE: db $02
L1D42EF: db $18
L1D42F0: db $3E
L1D42F1: db $04
L1D42F2: db $CC
L1D42F3: db $BE
L1D42F4: db $91
L1D42F5: db $7C
L1D42F6: db $3E
L1D42F7: db $20
L1D42F8: db $00
L1D42F9: db $B5
L1D42FA: db $BE
L1D42FB: db $F0
L1D42FC: db $9A
L1D42FD: db $04
L1D42FE: db $C0
L1D42FF: db $80
L1D4300: db $12
L1D4301: db $01
L1D4302: db $32
L1D4303: db $00
L1D4304: db $36
L1D4305: db $EA
L1D4306: db $00
L1D4307: db $5C
L1D4308: db $61
L1D4309: db $71
L1D430A: db $05
L1D430B: db $DB
L1D430C: db $08
L1D430D: db $CB
L1D430E: db $AD
L1D430F: db $3E
L1D4310: db $78
L1D4311: db $00
L1D4312: db $CC
L1D4313: db $02
L1D4314: db $18
L1D4315: db $F9
L1D4316: db $04
L1D4317: db $3E
L1D4318: db $E3
L1D4319: db $77
L1D431A: db $08
L1D431B: db $60
L1D431C: db $3E
L1D431D: db $D8
L1D431E: db $00
L1D431F: db $E0
L1D4320: db $B6
L1D4321: db $00
L1D4322: db $ED
L1D4323: db $00
L1D4324: db $18
L1D4325: db $CE
L1D4326: db $04
L1D4327: db $4C
L1D4328: db $98
L1D4329: db $EA
L1D432A: db $08
L1D432B: db $05
L1D432C: db $01
L1D432D: db $33
L1D432E: db $00
L1D432F: db $72
L1D4330: db $00
L1D4331: db $B6
L1D4332: db $D2
L1D4333: db $00
L1D4334: db $18
L1D4335: db $24
L1D4336: db $04
L1D4337: db $EC
L1D4338: db $6F
L1D4339: db $08
L1D433A: db $67
L1D433B: db $ED
L1D433C: db $3F
L1D433D: db $00
L1D433E: db $FD
L1D433F: db $66
L1D4340: db $00
L1D4341: db $18
L1D4342: db $63
L1D4343: db $04
L1D4344: db $5A
L1D4345: db $C1
L1D4346: db $FD
L1D4347: db $8F
L1D4348: db $3E
L1D4349: db $01
L1D434A: db $01
L1D434B: db $00
L1D434C: db $81
L1D434D: db $D6
L1D434E: db $00
L1D434F: db $10
L1D4350: db $03
L1D4351: db $05
L1D4352: db $06
L1D4353: db $7F
L1D4354: db $00
L1D4355: db $F1
L1D4356: db $B4
L1D4357: db $00
L1D4358: db $93
L1D4359: db $02
L1D435A: db $18
L1D435B: db $E6
L1D435C: db $04
L1D435D: db $26
L1D435E: db $2C
L1D435F: db $AA
L1D4360: db $08
L1D4361: db $CC
L1D4362: db $3E
L1D4363: db $C7
L1D4364: db $00
L1D4365: db $6C
L1D4366: db $00
L1D4367: db $0C
L1D4368: db $D2
L1D4369: db $00
L1D436A: db $18
L1D436B: db $1E
L1D436C: db $04
L1D436D: db $98
L1D436E: db $B0
L1D436F: db $08
L1D4370: db $3E
L1D4371: db $AD
L1D4372: db $3E
L1D4373: db $DE
L1D4374: db $00
L1D4375: db $33
L1D4376: db $02
L1D4377: db $18
L1D4378: db $7E
L1D4379: db $04
L1D437A: db $36
L1D437B: db $78
L1D437C: db $D8
L1D437D: db $7F
L1D437E: db $00
L1D437F: db $9E
L1D4380: db $00
L1D4381: db $35
L1D4382: db $30
L1D4383: db $D7
L1D4384: db $00
L1D4385: db $18
L1D4386: db $6E
L1D4387: db $04
L1D4388: db $64
L1D4389: db $35
L1D438A: db $48
L1D438B: db $3E
L1D438C: db $57
L1D438D: db $0F
L1D438E: db $00
L1D438F: db $19
L1D4390: db $00
L1D4391: db $31
L1D4392: db $00
L1D4393: db $18
L1D4394: db $45
L1D4395: db $2D
L1D4396: db $60
L1D4397: db $66
L1D4398: db $08
L1D4399: db $3C
L1D439A: db $3E
L1D439B: db $35
L1D439C: db $B3
L1D439D: db $02
L1D439E: db $DD
L1D439F: db $BE
L1D43A0: db $38
L1D43A1: db $CD
L1D43A2: db $08
L1D43A3: db $05
L1D43A4: db $01
L1D43A5: db $07
L1D43A6: db $00
L1D43A7: db $6E
L1D43A8: db $0C
L1D43A9: db $02
L1D43AA: db $18
L1D43AB: db $1B
L1D43AC: db $61
L1D43AD: db $D8
L1D43AE: db $08
L1D43AF: db $1E
L1D43B0: db $AE
L1D43B1: db $3E
L1D43B2: db $8F
L1D43B3: db $00
L1D43B4: db $D9
L1D43B5: db $00
L1D43B6: db $BE
L1D43B7: db $85
L1D43B8: db $63
L1D43B9: db $D7
L1D43BA: db $BF
L1D43BB: db $01
L1D43BC: db $B7
L1D43BD: db $00
L1D43BE: db $61
L1D43BF: db $00
L1D43C0: db $28
L1D43C1: db $00
L1D43C2: db $A5
L1D43C3: db $18
L1D43C4: db $CE
L1D43C5: db $04
L1D43C6: db $D8
L1D43C7: db $B0
L1D43C8: db $08
L1D43C9: db $BE
L1D43CA: db $3E
L1D43CB: db $F5
L1D43CC: db $75
L1D43CD: db $F5
L1D43CE: db $3E
L1D43CF: db $71
L1D43D0: db $C6
L1D43D1: db $F5
L1D43D2: db $79
L1D43D3: db $3E
L1D43D4: db $7D
L1D43D5: db $1F
L1D43D6: db $00
L1D43D7: db $5C
L1D43D8: db $02
L1D43D9: db $2A
L1D43DA: db $94
L1D43DB: db $C3
L1D43DC: db $08
L1D43DD: db $55
L1D43DE: db $FB
L1D43DF: db $3E
L1D43E0: db $76
L1D43E1: db $00
L1D43E2: db $EC
L1D43E3: db $00
L1D43E4: db $FC
L1D43E5: db $00
L1D43E6: db $A7
L1D43E7: db $18
L1D43E8: db $F9
L1D43E9: db $04
L1D43EA: db $B9
L1D43EB: db $33
L1D43EC: db $08
L1D43ED: db $05
L1D43EE: db $01
L1D43EF: db $76
L1D43F0: db $BC
L1D43F1: db $00
L1D43F2: db $A8
L1D43F3: db $00
L1D43F4: db $65
L1D43F5: db $00
L1D43F6: db $18
L1D43F7: db $FD
L1D43F8: db $B5
L1D43F9: db $04
L1D43FA: db $F3
L1D43FB: db $D8
L1D43FC: db $08
L1D43FD: db $99
L1D43FE: db $3E
L1D43FF: db $CC
L1D4400: db $02
L1D4401: db $69
L1D4402: db $88
L1D4403: db $00
L1D4404: db $18
L1D4405: db $98
L1D4406: db $04
L1D4407: db $10
L1D4408: db $30
L1D4409: db $08
L1D440A: db $56
L1D440B: db $E0
L1D440C: db $3E
L1D440D: db $6F
L1D440E: db $00
L1D440F: db $C6
L1D4410: db $02
L1D4411: db $18
L1D4412: db $8C
L1D4413: db $BA
L1D4414: db $05
L1D4415: db $19
L1D4416: db $08
L1D4417: db $05
L1D4418: db $01
L1D4419: db $BE
L1D441A: db $00
L1D441B: db $0C
L1D441C: db $B4
L1D441D: db $00
L1D441E: db $18
L1D441F: db $00
L1D4420: db $18
L1D4421: db $70
L1D4422: db $04
L1D4423: db $C0
L1D4424: db $80
L1D4425: db $BB
L1D4426: db $08
L1D4427: db $F0
L1D4428: db $3E
L1D4429: db $94
L1D442A: db $00
L1D442B: db $38
L1D442C: db $00
L1D442D: db $30
L1D442E: db $BA
L1D442F: db $35
L1D4430: db $60
L1D4431: db $38
L1D4432: db $2E
L1D4433: db $03
L1D4434: db $86
L1D4435: db $00
L1D4436: db $0E
L1D4437: db $B4
L1D4438: db $00
L1D4439: db $16
L1D443A: db $00
L1D443B: db $18
L1D443C: db $24
L1D443D: db $04
L1D443E: db $7C
L1D443F: db $ED
L1D4440: db $AB
L1D4441: db $08
L1D4442: db $CC
L1D4443: db $3E
L1D4444: db $33
L1D4445: db $02
L1D4446: db $7F
L1D4447: db $00
L1D4448: db $18
L1D4449: db $4E
L1D444A: db $6B
L1D444B: db $04
L1D444C: db $62
L1D444D: db $C6
L1D444E: db $08
L1D444F: db $05
L1D4450: db $01
L1D4451: db $01
L1D4452: db $B5
L1D4453: db $02
L1D4454: db $53
L1D4455: db $00
L1D4456: db $18
L1D4457: db $63
L1D4458: db $04
L1D4459: db $43
L1D445A: db $35
L1D445B: db $57
L1D445C: db $D6
L1D445D: db $3E
L1D445E: db $3C
L1D445F: db $00
L1D4460: db $66
L1D4461: db $00
L1D4462: db $F0
L1D4463: db $00
L1D4464: db $A5
L1D4465: db $18
L1D4466: db $DD
L1D4467: db $04
L1D4468: db $C9
L1D4469: db $9B
L1D446A: db $08
L1D446B: db $F1
L1D446C: db $3E
L1D446D: db $F7
L1D446E: db $35
L1D446F: db $D4
L1D4470: db $02
L1D4471: db $18
L1D4472: db $99
L1D4473: db $05
L1D4474: db $D8
L1D4475: db $08
L1D4476: db $55
L1D4477: db $E3
L1D4478: db $3E
L1D4479: db $B3
L1D447A: db $00
L1D447B: db $67
L1D447C: db $00
L1D447D: db $C5
L1D447E: db $00
L1D447F: db $A5
L1D4480: db $18
L1D4481: db $8D
L1D4482: db $04
L1D4483: db $8F
L1D4484: db $DB
L1D4485: db $08
L1D4486: db $5B
L1D4487: db $3E
L1D4488: db $5C
L1D4489: db $1C
L1D448A: db $00
L1D448B: db $16
L1D448C: db $02
L1D448D: db $D9
L1D448E: db $04
L1D448F: db $38
L1D4490: db $6D
L1D4491: db $AE
L1D4492: db $08
L1D4493: db $65
L1D4494: db $3E
L1D4495: db $78
L1D4496: db $00
L1D4497: db $BF
L1D4498: db $18
L1D4499: db $F9
L1D449A: db $EA
L1D449B: db $B1
L1D449C: db $98
L1D449D: db $08
L1D449E: db $36
L1D449F: db $3E
L1D44A0: db $30
L1D44A1: db $00
L1D44A2: db $70
L1D44A3: db $B4
L1D44A4: db $00
L1D44A5: db $B0
L1D44A6: db $00
L1D44A7: db $18
L1D44A8: db $20
L1D44A9: db $04
L1D44AA: db $E0
L1D44AB: db $60
L1D44AC: db $EA
L1D44AD: db $08
L1D44AE: db $05
L1D44AF: db $01
L1D44B0: db $37
L1D44B1: db $00
L1D44B2: db $71
L1D44B3: db $00
L1D44B4: db $51
L1D44B5: db $D3
L1D44B6: db $00
L1D44B7: db $18
L1D44B8: db $D3
L1D44B9: db $04
L1D44BA: db $F3
L1D44BB: db $B6
L1D44BC: db $08
L1D44BD: db $05
L1D44BE: db $AF
L1D44BF: db $01
L1D44C0: db $EF
L1D44C1: db $00
L1D44C2: db $98
L1D44C3: db $02
L1D44C4: db $FE
L1D44C5: db $9C
L1D44C6: db $75
L1D44C7: db $7F
L1D44C8: db $7C
L1D44C9: db $3E
L1D44CA: db $03
L1D44CB: db $03
L1D44CC: db $03
L1D44CD: db $03
L1D44CE: db $03
L1D44CF: db $03
L1D44D0: db $FC
L1D44D1: db $03
L1D44D2: db $03
L1D44D3: db $03
L1D44D4: db $03
L1D44D5: db $03
L1D44D6: db $01
L1D44D7: db $00

; "Tilemaps" for the character names in the HUD
BGXDef_Play_HUD_CharName_Kyo: mBinDef "data/bg/play_hud_charname_kyo.bin"
BGXDef_Play_HUD_CharName_Daimon: mBinDef "data/bg/play_hud_charname_daimon.bin"
BGXDef_Play_HUD_CharName_Terry: mBinDef "data/bg/play_hud_charname_terry.bin"
BGXDef_Play_HUD_CharName_Andy: mBinDef "data/bg/play_hud_charname_andy.bin"
BGXDef_Play_HUD_CharName_Ryo: mBinDef "data/bg/play_hud_charname_ryo.bin"
BGXDef_Play_HUD_CharName_Robert: mBinDef "data/bg/play_hud_charname_robert.bin"
BGXDef_Play_HUD_CharName_Athena: mBinDef "data/bg/play_hud_charname_athena.bin"
BGXDef_Play_HUD_CharName_Mai: mBinDef "data/bg/play_hud_charname_mai.bin"
BGXDef_Play_HUD_CharName_Leona: mBinDef "data/bg/play_hud_charname_leona.bin"
BGXDef_Play_HUD_CharName_Geese: mBinDef "data/bg/play_hud_charname_geese.bin"
BGXDef_Play_HUD_CharName_Krauser: mBinDef "data/bg/play_hud_charname_krauser.bin"
BGXDef_Play_HUD_CharName_MrBig: mBinDef "data/bg/play_hud_charname_mrbig.bin"
BGXDef_Play_HUD_CharName_Iori: mBinDef "data/bg/play_hud_charname_iori.bin"
BGXDef_Play_HUD_CharName_Mature: mBinDef "data/bg/play_hud_charname_mature.bin"
BGXDef_Play_HUD_CharName_Chizuru: mBinDef "data/bg/play_hud_charname_chizuru.bin"
BGXDef_Play_HUD_CharName_Goenitz: mBinDef "data/bg/play_hud_charname_goenitz.bin"
BGXDef_Play_HUD_CharName_MrKarate: mBinDef "data/bg/play_hud_charname_mrkarate.bin"
BGXDef_Play_HUD_CharName_OIori: mBinDef "data/bg/play_hud_charname_oiori.bin"
BGXDef_Play_HUD_CharName_OLeona: mBinDef "data/bg/play_hud_charname_oleona.bin"
BGXDef_Play_HUD_CharName_Kagura: mBinDef "data/bg/play_hud_charname_kagura.bin"

GFX_Char_Icons: INCBIN "data/gfx/char_icons.bin"
GFXLZ_Play_HUD: db $2B
L1D4A53: db $40
L1D4A54: db $55
L1D4A55: db $00
L1D4A56: db $02
L1D4A57: db $EA
L1D4A58: db $00
L1D4A59: db $4B
L1D4A5A: db $00
L1D4A5B: db $4A
L1D4A5C: db $04
L1D4A5D: db $D5
L1D4A5E: db $6B
L1D4A5F: db $01
L1D4A60: db $2E
L1D4A61: db $00
L1D4A62: db $68
L1D4A63: db $00
L1D4A64: db $AC
L1D4A65: db $00
L1D4A66: db $77
L1D4A67: db $28
L1D4A68: db $00
L1D4A69: db $39
L1D4A6A: db $6B
L1D4A6B: db $01
L1D4A6C: db $07
L1D4A6D: db $02
L1D4A6E: db $7B
L1D4A6F: db $75
L1D4A70: db $80
L1D4A71: db $07
L1D4A72: db $02
L1D4A73: db $69
L1D4A74: db $6D
L1D4A75: db $08
L1D4A76: db $FF
L1D4A77: db $10
L1D4A78: db $BA
L1D4A79: db $0A
L1D4A7A: db $7D
L1D4A7B: db $0A
L1D4A7C: db $3A
L1D4A7D: db $69
L1D4A7E: db $BC
L1D4A7F: db $08
L1D4A80: db $FE
L1D4A81: db $CE
L1D4A82: db $10
L1D4A83: db $0A
L1D4A84: db $98
L1D4A85: db $FC
L1D4A86: db $0C
L1D4A87: db $69
L1D4A88: db $02
L1D4A89: db $18
L1D4A8A: db $AA
L1D4A8B: db $08
L1D4A8C: db $14
L1D4A8D: db $08
L1D4A8E: db $35
L1D4A8F: db $08
L1D4A90: db $3A
L1D4A91: db $08
L1D4A92: db $62
L1D4A93: db $B5
L1D4A94: db $08
L1D4A95: db $63
L1D4A96: db $73
L1D4A97: db $02
L1D4A98: db $22
L1D4A99: db $08
L1D4A9A: db $AA
L1D4A9B: db $08
L1D4A9C: db $56
L1D4A9D: db $BE
L1D4A9E: db $08
L1D4A9F: db $B4
L1D4AA0: db $08
L1D4AA1: db $24
L1D4AA2: db $F4
L1D4AA3: db $00
L1D4AA4: db $39
L1D4AA5: db $B5
L1D4AA6: db $00
L1D4AA7: db $3F
L1D4AA8: db $00
L1D4AA9: db $30
L1D4AAA: db $6D
L1D4AAB: db $08
L1D4AAC: db $61
L1D4AAD: db $08
L1D4AAE: db $6A
L1D4AAF: db $C3
L1D4AB0: db $0A
L1D4AB1: db $00
L1D4AB2: db $63
L1D4AB3: db $00
L1D4AB4: db $C7
L1D4AB5: db $00
L1D4AB6: db $CB
L1D4AB7: db $D5
L1D4AB8: db $00
L1D4AB9: db $30
L1D4ABA: db $93
L1D4ABB: db $08
L1D4ABC: db $BF
L1D4ABD: db $08
L1D4ABE: db $76
L1D4ABF: db $08
L1D4AC0: db $55
L1D4AC1: db $66
L1D4AC2: db $79
L1D4AC3: db $99
L1D4AC4: db $00
L1D4AC5: db $9B
L1D4AC6: db $00
L1D4AC7: db $1E
L1D4AC8: db $00
L1D4AC9: db $AA
L1D4ACA: db $30
L1D4ACB: db $1C
L1D4ACC: db $08
L1D4ACD: db $38
L1D4ACE: db $08
L1D4ACF: db $ED
L1D4AD0: db $08
L1D4AD1: db $CD
L1D4AD2: db $AD
L1D4AD3: db $79
L1D4AD4: db $33
L1D4AD5: db $00
L1D4AD6: db $67
L1D4AD7: db $02
L1D4AD8: db $4A
L1D4AD9: db $CC
L1D4ADA: db $08
L1D4ADB: db $6A
L1D4ADC: db $98
L1D4ADD: db $0A
L1D4ADE: db $00
L1D4ADF: db $0C
L1D4AE0: db $00
L1D4AE1: db $39
L1D4AE2: db $00
L1D4AE3: db $F9
L1D4AE4: db $DA
L1D4AE5: db $00
L1D4AE6: db $30
L1D4AE7: db $B3
L1D4AE8: db $C1
L1D4AE9: db $08
L1D4AEA: db $66
L1D4AEB: db $08
L1D4AEC: db $63
L1D4AED: db $EE
L1D4AEE: db $79
L1D4AEF: db $B0
L1D4AF0: db $00
L1D4AF1: db $99
L1D4AF2: db $02
L1D4AF3: db $6A
L1D4AF4: db $7B
L1D4AF5: db $C6
L1D4AF6: db $AB
L1D4AF7: db $79
L1D4AF8: db $C3
L1D4AF9: db $00
L1D4AFA: db $CE
L1D4AFB: db $00
L1D4AFC: db $FE
L1D4AFD: db $00
L1D4AFE: db $30
L1D4AFF: db $56
L1D4B00: db $6C
L1D4B01: db $08
L1D4B02: db $0C
L1D4B03: db $08
L1D4B04: db $18
L1D4B05: db $0A
L1D4B06: db $00
L1D4B07: db $FF
L1D4B08: db $FF
L1D4B09: db $01
L1D4B0A: db $22
L1D4B0B: db $0B
L1D4B0C: db $43
L1D4B0D: db $7D
L1D4B0E: db $0E
L1D4B0F: db $7F
L1D4B10: db $18
L1D4B11: db $39
L1D4B12: db $7F
L1D4B13: db $80
L1D4B14: db $0B
L1D4B15: db $7F
L1D4B16: db $31
L1D4B17: db $3F
L1D4B18: db $C0
L1D4B19: db $0B
L1D4B1A: db $CE
L1D4B1B: db $7F
L1D4B1C: db $31
L1D4B1D: db $1F
L1D4B1E: db $E0
L1D4B1F: db $0B
L1D4B20: db $7F
L1D4B21: db $31
L1D4B22: db $0F
L1D4B23: db $73
L1D4B24: db $F0
L1D4B25: db $0B
L1D4B26: db $7F
L1D4B27: db $31
L1D4B28: db $07
L1D4B29: db $F8
L1D4B2A: db $0B
L1D4B2B: db $7F
L1D4B2C: db $9C
L1D4B2D: db $31
L1D4B2E: db $03
L1D4B2F: db $FC
L1D4B30: db $0B
L1D4B31: db $7F
L1D4B32: db $31
L1D4B33: db $01
L1D4B34: db $FE
L1D4B35: db $FE
L1D4B36: db $0B
L1D4B37: db $7F
L1D4B38: db $31
L1D4B39: db $74
L1D4B3A: db $08
L1D4B3B: db $7F
L1D4B3C: db $31
L1D4B3D: db $FC
L1D4B3E: db $73
L1D4B3F: db $03
L1D4B40: db $0B
L1D4B41: db $7F
L1D4B42: db $31
L1D4B43: db $F8
L1D4B44: db $07
L1D4B45: db $0B
L1D4B46: db $7F
L1D4B47: db $9C
L1D4B48: db $31
L1D4B49: db $F0
L1D4B4A: db $0F
L1D4B4B: db $0B
L1D4B4C: db $7F
L1D4B4D: db $31
L1D4B4E: db $E0
L1D4B4F: db $1F
L1D4B50: db $E7
L1D4B51: db $0B
L1D4B52: db $7F
L1D4B53: db $31
L1D4B54: db $C0
L1D4B55: db $3F
L1D4B56: db $0B
L1D4B57: db $7F
L1D4B58: db $31
L1D4B59: db $34
L1D4B5A: db $80
L1D4B5B: db $7F
L1D4B5C: db $0B
L1D4B5D: db $7D
L1D4B5E: db $3C
L1D4B5F: db $00
L1D4B60: db $7E
L1D4B61: db $66
L1D4B62: db $55
L1D4B63: db $77
L1D4B64: db $0C
L1D4B65: db $3F
L1D4B66: db $48
L1D4B67: db $1E
L1D4B68: db $7A
L1D4B69: db $18
L1D4B6A: db $00
L1D4B6B: db $9F
L1D4B6C: db $30
L1D4B6D: db $38
L1D4B6E: db $1C
L1D4B6F: db $18
L1D4B70: db $0B
L1D4B71: db $C9
L1D4B72: db $7B
L1D4B73: db $FB
L1D4B74: db $13
L1D4B75: db $37
L1D4B76: db $06
L1D4B77: db $1F
L1D4B78: db $70
L1D4B79: db $3E
L1D4B7A: db $30
L1D4B7B: db $38
L1D4B7C: db $00
L1D4B7D: db $6D
L1D4B7E: db $3F
L1D4B7F: db $7E
L1D4B80: db $38
L1D4B81: db $0C
L1D4B82: db $80
L1D4B83: db $00
L1D4B84: db $67
L1D4B85: db $29
L1D4B86: db $E5
L1D4B87: db $FC
L1D4B88: db $C0
L1D4B89: db $00
L1D4B8A: db $2E
L1D4B8B: db $2C
L1D4B8C: db $88
L1D4B8D: db $6C
L1D4B8E: db $0A
L1D4B8F: db $F1
L1D4B90: db $E9
L1D4B91: db $A9
L1D4B92: db $7A
L1D4B93: db $39
L1D4B94: db $7F
L1D4B95: db $60
L1D4B96: db $7C
L1D4B97: db $00
L1D4B98: db $7F
L1D4B99: db $3E
L1D4B9A: db $FF
L1D4B9B: db $00
L1D4B9C: db $48
L1D4B9D: db $00
L1D4B9E: db $7B
L1D4B9F: db $A0
L1D4BA0: db $68
L1D4BA1: db $74
L1D4BA2: db $77
L1D4BA3: db $7E
L1D4BA4: db $FA
L1D4BA5: db $49
L1D4BA6: db $0C
L1D4BA7: db $48
L1D4BA8: db $18
L1D4BA9: db $1C
L1D4BAA: db $FF
L1D4BAB: db $0A
L1D4BAC: db $30
L1D4BAD: db $7A
L1D4BAE: db $A0
L1D4BAF: db $00
L1D4BB0: db $D9
L1D4BB1: db $C9
L1D4BB2: db $FF
L1D4BB3: db $C1
L1D4BB4: db $7D
L1D4BB5: db $5A
L1D4BB6: db $3E
L1D4BB7: db $1F
L1D4BB8: db $06
L1D4BB9: db $7F
L1D4BBA: db $7C
L1D4BBB: db $79
L1D4BBC: db $55
L1D4BBD: db $E3
L1D4BBE: db $00
L1D4BBF: db $94
L1D4BC0: db $02
L1D4BC1: db $E7
L1D4BC2: db $00
L1D4BC3: db $84
L1D4BC4: db $04
L1D4BC5: db $AA
L1D4BC6: db $E9
L1D4BC7: db $24
L1D4BC8: db $00
L1D4BC9: db $A5
L1D4BCA: db $02
L1D4BCB: db $A4
L1D4BCC: db $04
L1D4BCD: db $99
L1D4BCE: db $D5
L1D4BCF: db $00
L1D4BD0: db $79
L1D4BD1: db $EF
L1D4BD2: db $00
L1D4BD3: db $08
L1D4BD4: db $02
L1D4BD5: db $CE
L1D4BD6: db $00
L1D4BD7: db $58
L1D4BD8: db $28
L1D4BD9: db $02
L1D4BDA: db $CF
L1D4BDB: db $00
L1D4BDC: db $79
L1D4BDD: db $00
BG_Play_HUD_Time: db $D0
L1D4BDF: db $D1
BG_Play_HUD_HealthBarL: db $D2
BG_Play_HUD_HealthBarR: db $D3
BG_Play_HUD_BlankPowBar: db $D6
L1D4BE3: db $D7
L1D4BE4: db $D2
L1D4BE5: db $E0
L1D4BE6: db $E0
L1D4BE7: db $E0
L1D4BE8: db $E0
L1D4BE9: db $E0
L1D4BEA: db $D3
L1D4BEB: db $00
L1D4BEC: db $00
L1D4BED: db $D2
L1D4BEE: db $E0
L1D4BEF: db $E0
L1D4BF0: db $E0
L1D4BF1: db $E0
L1D4BF2: db $E0
L1D4BF3: db $D3
L1D4BF4: db $D6
L1D4BF5: db $D7
BG_Play_HUD_1PMarker: db $FC
L1D4BF7: db $FD
BG_Play_HUD_2PMarker: db $FE
L1D4BF9: db $FF
GFX_Play_HUD_SingleWinMarker: db $00
L1D4BFB: db $00
L1D4BFC: db $FF
L1D4BFD: db $FF
L1D4BFE: db $81
L1D4BFF: db $81
L1D4C00: db $81
L1D4C01: db $BF
L1D4C02: db $81
L1D4C03: db $BF
L1D4C04: db $81
L1D4C05: db $BF
L1D4C06: db $81
L1D4C07: db $BF
L1D4C08: db $FF
L1D4C09: db $FF
L1D4C0A: db $00
L1D4C0B: db $00
L1D4C0C: db $FF
L1D4C0D: db $FF
L1D4C0E: db $81
L1D4C0F: db $81
L1D4C10: db $81
L1D4C11: db $81
L1D4C12: db $81
L1D4C13: db $81
L1D4C14: db $81
L1D4C15: db $81
L1D4C16: db $81
L1D4C17: db $81
L1D4C18: db $FF
L1D4C19: db $FF
GFX_Play_HUD_Cross: db $00
L1D4C1B: db $20
L1D4C1C: db $00
L1D4C1D: db $10
L1D4C1E: db $00
L1D4C1F: db $18
L1D4C20: db $00
L1D4C21: db $0C
L1D4C22: db $00
L1D4C23: db $04
L1D4C24: db $00
L1D4C25: db $06
L1D4C26: db $00
L1D4C27: db $03
L1D4C28: db $00
L1D4C29: db $01
L1D4C2A: db $00
L1D4C2B: db $03
L1D4C2C: db $00
L1D4C2D: db $06
L1D4C2E: db $00
L1D4C2F: db $1C
L1D4C30: db $00
L1D4C31: db $30
L1D4C32: db $00
L1D4C33: db $60
L1D4C34: db $00
L1D4C35: db $80
L1D4C36: db $00
L1D4C37: db $00
L1D4C38: db $00
L1D4C39: db $00
L1D4C3A: db $00
L1D4C3B: db $00
L1D4C3C: db $00
L1D4C3D: db $00
L1D4C3E: db $00
L1D4C3F: db $01
L1D4C40: db $00
L1D4C41: db $03
L1D4C42: db $00
L1D4C43: db $0E
L1D4C44: db $00
L1D4C45: db $18
L1D4C46: db $00
L1D4C47: db $70
L1D4C48: db $00
L1D4C49: db $C0
L1D4C4A: db $00
L1D4C4B: db $80
L1D4C4C: db $00
L1D4C4D: db $C0
L1D4C4E: db $00
L1D4C4F: db $40
L1D4C50: db $00
L1D4C51: db $60
L1D4C52: db $00
L1D4C53: db $30
L1D4C54: db $00
L1D4C55: db $10
L1D4C56: db $00
L1D4C57: db $18
L1D4C58: db $00
L1D4C59: db $0C
GFX_Play_HUD_Cross_Mask: db $8F
L1D4C5B: db $8F
L1D4C5C: db $C7
L1D4C5D: db $C7
L1D4C5E: db $C3
L1D4C5F: db $C3
L1D4C60: db $E1
L1D4C61: db $E1
L1D4C62: db $F1
L1D4C63: db $F1
L1D4C64: db $F0
L1D4C65: db $F0
L1D4C66: db $F8
L1D4C67: db $F8
L1D4C68: db $FC
L1D4C69: db $FC
L1D4C6A: db $F8
L1D4C6B: db $F8
L1D4C6C: db $E0
L1D4C6D: db $E0
L1D4C6E: db $C1
L1D4C6F: db $C1
L1D4C70: db $83
L1D4C71: db $83
L1D4C72: db $0F
L1D4C73: db $0F
L1D4C74: db $1F
L1D4C75: db $1F
L1D4C76: db $7F
L1D4C77: db $7F
L1D4C78: db $FF
L1D4C79: db $FF
L1D4C7A: db $FF
L1D4C7B: db $FF
L1D4C7C: db $FE
L1D4C7D: db $FE
L1D4C7E: db $FC
L1D4C7F: db $FC
L1D4C80: db $F0
L1D4C81: db $F0
L1D4C82: db $E0
L1D4C83: db $E0
L1D4C84: db $81
L1D4C85: db $81
L1D4C86: db $07
L1D4C87: db $07
L1D4C88: db $0F
L1D4C89: db $0F
L1D4C8A: db $3F
L1D4C8B: db $3F
L1D4C8C: db $1F
L1D4C8D: db $1F
L1D4C8E: db $1F
L1D4C8F: db $1F
L1D4C90: db $0F
L1D4C91: db $0F
L1D4C92: db $87
L1D4C93: db $87
L1D4C94: db $C7
L1D4C95: db $C7
L1D4C96: db $C3
L1D4C97: db $C3
L1D4C98: db $E1
L1D4C99: db $E1

; Note that the actual BGP palette used effectively inverts white/black
FontDef_Default:
	dw $9000 	; Destination ptr
	db $80 		; Tiles to copy
.col:
	db COL_WHITE ; Bit0 color map (background)
	db COL_BLACK ; Bit1 color map (foreground)
	; 1bpp font gfx
.gfx: 
	INCBIN "data/gfx/font.bin"
	
; 
; =============== START OF MODULE Win ===============
;
; =============== Module_Win ===============
; Entry point for the post-stage module. Called by rst $00 jump from Module_Play -> Play_ChkEnd_ChkNewRound.
; This handles everything between rounds:
; - Win Screen
; - Stage progression / Bonus Fights
; - "DRAW" Screen
; - Continue/Game Over
; - Cutscenes
; - Credits
Module_Win:

	;
	; Shared initialization code.
	; Depending on what we're doing, other initialization code may be also called (ie: SubModule_WinScr)
	;

	ld   sp, $DD00
	di
	;-----------------------------------
	rst  $10				; Stop LCD
	
	; We're no longer in gameplay, so disable the player/sprite range enforcement
	ld   hl, wMisc_C028
	res  MISCB_PL_RANGE_CHECK, [hl]
	
	; Reset DMG pal
	xor  a
	ldh  [rBGP], a
	ldh  [rOBP0], a
	ldh  [rOBP1], a
	
	; Reset tilemaps
	call ClearBGMap
	call ClearWINDOWMap
	
	; Reset screen scrolling
	xor  a
	ldh  [hScrollX], a
	ldh  [hScrollY], a
	ld   [wOBJScrollX], a
	ld   [wOBJScrollY], a
	
	; Load font GFX
	call LoadGFX_1bppFont_Default
	
	; Clear all sprites
	call ClearOBJInfo
	
	; If serial is enabled, syncronize with other GB.
	; The win screen timing should 100% match across the two GBs, like with gameplay.
	call Serial_DoHandshake
	
	;
	; Determine which path of execution we're taking, depending on who won/lost the last round.
	;
	
	; If the last round ended in a draw, display the "DRAW" screen.
	ld   a, [wStageDraw]
	or   a
	jp   nz, .draw
	
.chkWon1P:
	; Note that wLastWinner can have only one bit set at most.
	; ie: if 1P is marked as winner, 2P definitely isn't marked.
	ld   a, [wLastWinner]
	bit  PLB1, a			; Did 1P win the last round?
	jp   z, .chkWon2P		; If not, jump
.won1P:
	; Save the address of the winner (1P) to wWinPlInfoPtr.
	; This will be the player sprite that gets animated in SubModule_WinScr.
	ld   bc, wPlInfo_Pl1
	ld   a, c
	ld   [wWinPlInfoPtr_Low], a
	ld   a, b
	ld   [wWinPlInfoPtr_High], a
	
	; VS mode doesn't distinguish between winning/losing.
	ld   a, [wPlayMode]
	bit  MODEB_VS, a		; Playing in VS mode?
	jp   nz, .vsWon1P		; If so, jump
	
	; Single mode, obviously, have to distinguish between those.
	; Winning lets you continue, while losing throws you
	; Determine if the active player won or lost the round.
	ld   a, [wJoyActivePl]
	or   a					; Is the current player on the 1P side? (wJoyActivePl == PL1)
	jp   nz, .lost			; If not, jump (2P lost)
	jp   .won				; (1P won)
.chkWon2P:
	
	; 1P didn't win.
	; If 2P didn't win too, this also counts as a draw.
	ld   a, [wLastWinner]
	bit  PLB2, a		; Did 2P win the stage?
	jp   z, .draw		; If not, jump
.won2P:

	; Save the address of the winner (2P) to wWinPlInfoPtr.
	; This will be the player sprite that gets animated in SubModule_WinScr.
	ld   bc, wPlInfo_Pl2
	ld   a, c
	ld   [wWinPlInfoPtr_Low], a
	ld   a, b
	ld   [wWinPlInfoPtr_High], a
	
	; VS mode doesn't distinguish between winning/losing.
	ld   a, [wPlayMode]
	bit  MODEB_VS, a		; Playing in VS mode?
	jp   nz, .vsWon2P		; If so, jump
	
	; Determine if the active player won or lost the round.
	ld   a, [wJoyActivePl]
	or   a					; Is the current player on the 1P side? (wJoyActivePl == PL1)
	jp   z, .lost			; If so, jump (1P lost)
	jp   .won				; (2P won)
	
.draw:
	; Print out "DRAW" to the center of the screen
	ld   hl, TextDef_Win_Draw
	call TextPrinter_Instant
	
	; A draw counts as a loss, and just like losing the round:
	; - In Single mode, you are thrown to the continue screen
	; - In VS mode, you return back to the character select screen
	ld   a, [wPlayMode]
	bit  MODEB_VS, a
	jp   nz, .vsDraw
	
.singleDraw:
	jp   Win_Mode_SingleDraw
.vsDraw:
	jp   Win_Mode_VSDraw
; Both point to the same location, as in VS mode, regardless of winning or losing,
; both players return to the character select.
.vsWon1P:
	jp   Win_Mode_VS
.vsWon2P:
	jp   Win_Mode_VS
.won:
	jp   Win_Mode_SingleWon
.lost:
	jp   Win_Mode_SingleLost
	
; =============== Win_Mode_VS ===============
; VS Match ended.
Win_Mode_VS:
	; Show win screen with the character who won
	call Win_DoWinScr
	; .
	call Win_ResetCharsOnUnusedVsModeCpuVsCpu
	; We're done
	jp   Win_SwitchToCharSel
; =============== Win_Mode_SingleWon ===============
; Won a stage in Single Mode.
Win_Mode_SingleWon:
	; Show win screen with the character who won
	call Win_DoWinScr
	; Fall-through
	
; =============== Win_StartNextStage ===============
; Advances the stage progession for Single mode, handling cutscenes and bonus rounds.
Win_StartNextStage:
	; Increment stage sequence number
	call Win_IncStageSeq
	
	; Display cutscenes when the higher stage sequence numbers are reached.
	; Note that all of the cutscenes skip the character select screen, and either
	; jump to gameplay (1P mode), or put you into the order select screen (team mode).
	ld   a, [wCharSeqId]				; A = New stage number
	cp   STAGESEQ_KAGURA				; Is KAGURA's stage next?
	jp   z, Win_KaguraCutscene			; If so, jump
	cp   STAGESEQ_GOENITZ				; Is GOENITZ's stage next?
	jp   z, Win_GoenitzCutscene			; If so, jump
	cp   STAGESEQ_GOENITZ+1				; Did we just defeat Goenitz?
	jp   z, Win_EndingCutscene			; If so, jump
	cp   STAGESEQ_BONUS+1				; Did we just defeat the bonus O.Iori/O.Leona opponent?
	jp   z, Win_CreditsStub				; If so, jump
	cp   STAGESEQ_MRKARATE+1			; Did we just defeat Mr.Karate?
	jp   z, Win_MrKarateDefeatCutscene	; If so, jump
	
	; Otherwise, go back to the character select screen
	jp   Win_SwitchToCharSel
	
; =============== Win_KaguraCutscene ===============
; Displays the pre-match Kagura cutscene.
Win_KaguraCutscene:
	; Execute cutscene
	ld   b, BANK(SubModule_CutsceneKagura) ; BANK $1D
	ld   hl, SubModule_CutsceneKagura
	rst  $08
.cont:
	;---
	ld   bc, $0000 				; Not needed
	; Set new opponent
	call Win_SetSpecRoundChar
	
	ld   a, [wPlayMode]
	bit  MODEB_TEAM, a		; Playing in Team Mode?
	jp   nz, .team			; If so, jump
.single:
	; Since there's no order select screen in 1P mode, Immediately proceed to gameplay.
	call Pl_InitBeforeStageLoad
	jp   Module_Play
.team:
	; Switch to the order select screen.
	call Pl_InitBeforeStageLoad
	ld   b, BANK(Module_OrdSel) ; BANK $1E
	ld   hl, Module_OrdSel
	rst  $00
	
; =============== Win_GoenitzCutscene ===============
; Displays the pre-match Goenitz cutscene.
Win_GoenitzCutscene:
	; Execute cutscene
	ld   b, BANK(SubModule_CutsceneGoenitz) ; BANK $1D
	ld   hl, SubModule_CutsceneGoenitz
	rst  $08
	
	;
	; The game ends here on EASY mode, you don't get to fight Goenitz.
	;
	ld   a, [wDifficulty]
	cp   DIFFICULTY_EASY	; Playing on EASY, eh?
	jp   nz, .cont			; If not, jump
.easy:
	; Display the credits
	ld   b, BANK(SubModule_Credits) ; BANK $1D
	ld   hl, SubModule_Credits
	rst  $08
	
	; THE END
	ld   b, BANK(SubModule_TheEnd) ; BANK $1D
	ld   hl, SubModule_TheEnd
	rst  $08
	
	; Reset!
	ld   b, BANK(Module_TakaraLogo) ; BANK $0A
	ld   hl, Module_TakaraLogo
	rst  $00
	
.cont:
	;---
	ld   bc, $0000 				; Not needed
	; Set new opponent
	call Win_SetSpecRoundChar
	
	ld   a, [wPlayMode]
	bit  MODEB_TEAM, a		; Playing in Team Mode?
	jp   nz, .team			; If so, jump
.single:
	; Since there's no order select screen in 1P mode, Immediately proceed to gameplay.
	call Pl_InitBeforeStageLoad
	jp   Module_Play
.team:
	; Switch to the order select screen.
	call Pl_InitBeforeStageLoad
	ld   b, BANK(Module_OrdSel) ; BANK $1E
	ld   hl, Module_OrdSel
	rst  $00
; =============== Win_EndingCutscene ===============
; Displays the post-match Goenitz cutscene.
Win_EndingCutscene:
	;
	; There are multiple variations of the ending, depending on the team used.
	; Some variations just add extra lines to the end of the cutscene, while others
	; are completely different (ie: Team Sacred Treasure's ending).
	;
	; Every special team triggers a bonus 1 vs 2 / 2 vs 1 fight, which is the
	; only time teams can be made of two characters.
	;
	
	; A = Speciala Team ID
	call Win_GetSpecTeamId
	; Depending on that...
	cp   TEAM_ID_SACRED_TREASURES
	jp   z, .teamSacTre
	cp   TEAM_ID_OLEONA
	jp   z, .teamOLeona
	cp   TEAM_ID_FFGEESE
	jp   z, .teamFFGeese
	cp   TEAM_ID_AOFMRBIG
	jp   z, .teamAOFMrBig
	cp   TEAM_ID_KTR
	jp   z, .teamKTR
	cp   TEAM_ID_BOSS
	jp   z, .teamBoss
.noSpec:
	; Generic ending with no extra scenes
	ld   b, BANK(SubModule_Ending_Generic) ; BANK $1D
	ld   hl, SubModule_Ending_Generic
	rst  $08
	jp   Win_Credits
.teamSacTre:
	; Unique ending #1
	ld   b, BANK(SubModule_Ending_SacredTreasures) ; BANK $1D
	ld   hl, SubModule_Ending_SacredTreasures
	rst  $08
	jp   .setBonusFight
.teamOLeona:
	; Unique ending #2
	ld   b, BANK(SubModule_Ending_OLeona) ; BANK $1D
	ld   hl, SubModule_Ending_OLeona
	rst  $08
	jp   .setBonusFight
.teamFFGeese:
	ld   b, BANK(SubModule_Ending_Generic) ; BANK $1D
	ld   hl, SubModule_Ending_Generic
	rst  $08
	ld   b, BANK(SubModule_EndingPost_FFGeese) ; BANK $1D
	ld   hl, SubModule_EndingPost_FFGeese
	rst  $08
	jp   .setBonusFight
.teamAOFMrBig:
	ld   b, BANK(SubModule_Ending_Generic) ; BANK $1D
	ld   hl, SubModule_Ending_Generic
	rst  $08
	ld   b, BANK(SubModule_EndingPost_AOFMrBig) ; BANK $1D
	ld   hl, SubModule_EndingPost_AOFMrBig
	rst  $08
	jp   .setBonusFight
.teamKTR:
	ld   b, BANK(SubModule_Ending_Generic) ; BANK $1D
	ld   hl, SubModule_Ending_Generic
	rst  $08
	ld   b, BANK(SubModule_EndingPost_KTR) ; BANK $1D
	ld   hl, SubModule_EndingPost_KTR
	rst  $08
	jp   .setBonusFight
.teamBoss:
	ld   b, BANK(SubModule_Ending_Generic) ; BANK $1D
	ld   hl, SubModule_Ending_Generic
	rst  $08
	ld   b, BANK(SubModule_EndingPost_Boss) ; BANK $1D
	ld   hl, SubModule_EndingPost_Boss
	rst  $08
	jp   .setBonusFight
.setBonusFight:

	; Set up team members for bonus fight
	ld   a, [wBonusFightId]
	call Win_InitBonusFightTeams
	
	; Switch to bonus stage from the Goenitz one
	ld   a, STAGESEQ_BONUS
	ld   [wCharSeqId], a
	
	; Switch to order select screen.
	; We only get here from Team Mode, so we can call this directly.
	call Pl_InitBeforeStageLoad
	ld   b, BANK(Module_OrdSel) ; BANK $1E
	ld   hl, Module_OrdSel
	rst  $00
	
; =============== Win_CreditsStub ===============
; Wrapper for Win_Credits called when defeating the bonus opponent.
Win_CreditsStub:
	jp   Win_Credits
	
; =============== Win_MrKarateDefeatCutscene ===============
; Displays the cutscene for defeating Mr.Karate.
; This is a congratulatory speech that also tells how to unlock him.
Win_MrKarateDefeatCutscene:
	ld   b, BANK(SubModule_CutsceneMrKarateDefeat) ; BANK $1D
	ld   hl, SubModule_CutsceneMrKarateDefeat
	rst  $08
	
	; Reset!
	ld   b, BANK(Module_TakaraLogo) ; BANK $0A
	ld   hl, Module_TakaraLogo
	rst  $00
	
; =============== Win_Credits ===============
; Displays the credits.
; This isn't called on EASY difficulties, to not give away the cheats. (it just calls the submodules)
Win_Credits:
	; Display the main credits
	ld   b, BANK(SubModule_Credits) ; BANK $1D
	ld   hl, SubModule_Credits
	rst  $08
	
	; THE END
	ld   b, BANK(SubModule_TheEnd) ; BANK $1D
	ld   hl, SubModule_TheEnd
	rst  $08
	
	;
	; On HARD mode, there's an extra Mr.Karate fight on hard difficulty.
	;
	ld   a, [wDifficulty]
	cp   DIFFICULTY_HARD	; Playing on HARD?
	jp   nz, .showCheats	; If not, jump
	
	; Display intro cutscene
	ld   b, BANK(SubModule_CutsceneMrKarate); BANK $1D
	ld   hl, SubModule_CutsceneMrKarate
	rst  $08
	
	; Set next stage
	ld   a, STAGESEQ_MRKARATE
	ld   [wCharSeqId], a
	
	; Set opponent team
	ld   bc, $0000
	call Win_SetSpecRoundChar
	
	; Start gameplay, completely skipping the Order Select screen even in Team Mode.
	call Pl_InitBeforeStageLoad
	jp   Module_Play
	
.showCheats:
	;
	; On NORMAL mode, display codes for the TAKARA logo.
	;
	ld   b, BANK(SubModule_CutsceneCheat); BANK $1D
	ld   hl, SubModule_CutsceneCheat
	rst  $08
	
	; Reset!
	ld   b, BANK(Module_TakaraLogo) ; BANK $0A
	ld   hl, Module_TakaraLogo
	rst  $00
	
; =============== Win_Unused_TheEnd ===============
; [TCRF] Unreferenced code showing "THE END", then resetting the game.
Win_Unused_TheEnd:
	ld   b, BANK(SubModule_TheEnd) ; BANK $1D
	ld   hl, SubModule_TheEnd
	rst  $08
	
	; Reset!
	ld   b, BANK(Module_TakaraLogo) ; BANK $0A
	ld   hl, Module_TakaraLogo
	rst  $00

; =============== Win_GetSpecTeamId ===============
; Checks if the team used is eligible for a special ending.
; OUT
; - A: Special Team ID (TEAM_ID_*)
; - wBonusFightId: Bonus Fight ID (BONUS_ID_*)
;                  Every special team has at least one bonus fight assigned to it,
;                  so this will be filled if a valid special team is set.
Win_GetSpecTeamId:
	; Not applicable outside of team mode, as 3 characters are required.
	ld   a, [wPlayMode]
	bit  MODEB_TEAM, a
	jp   z, .none
	
	; Seek to the team of the active wPlInfo
	ld   a, [wJoyActivePl]
	or   a				; Playing on the 1P side?
	jp   nz, .tm2P		; If not, jump
.tm1P:
	ld   hl, wPlInfo_Pl1+iPlInfo_TeamCharId0
	ld   a, [wPlInfo_Pl1+iPlInfo_CharId]
	jp   .mkList
.tm2P:
	ld   hl, wPlInfo_Pl2+iPlInfo_TeamCharId0
	ld   a, [wPlInfo_Pl2+iPlInfo_CharId]
	

	; Generate ordered CHAR_ID_* list
.mkList:
	ld   b, a
	call Win_MakeSortedCharIdList
	
	
	;
	; Check special character combinations one by one.
	; The first one that matches returns a team ID.
	; Each of these Win_IsSpecTeam* also sets the bonus fight id.
	;
	
.chk1:
	call Win_IsSpecTeamSacTre			; Playing as spec. team #1?
	jr   nc, .chk2						; If not, check the next one
	ld   a, TEAM_ID_SACRED_TREASURES	; Otherwise, return this group id
	jp   .ret
.chk2:
	call Win_IsSpecTeamOLeona			; ...
	jr   nc, .chk3
	ld   a, TEAM_ID_OLEONA
	jp   .ret
.chk3:
	call Win_IsSpecTeamFFGeese
	jr   nc, .chk4
	ld   a, TEAM_ID_FFGEESE
	jp   .ret
.chk4:
	call Win_IsSpecTeamAOFMrBig
	jr   nc, .chk5
	ld   a, TEAM_ID_AOFMRBIG
	jp   .ret
.chk5:
	call Win_IsSpecTeamKTR
	jr   nc, .chk6
	ld   a, TEAM_ID_KTR
	jp   .ret
.chk6:
	call Win_IsSpecTeamBoss
	jr   nc, .none
	ld   a, TEAM_ID_BOSS
	jp   .ret
.ret:
	ret
.none:
	; No special team found, or not in team mode.
	ld   a, BONUS_ID_NONE
	ld   [wBonusFightId], a
	ret
	
; =============== Win_MakeSortedCharIdList ===============
; Generates a sorted list of team members from the specified wPlInfo, ordered by ID in ascending order.
; This must be done before starting the checks to determine the value for wBonusFightId,
; as the character ID checks are made on this list. 
; IN
; - HL: Ptr to active iPlInfo_TeamCharId0 (source)
Win_MakeSortedCharIdList:
	push bc
	
		;
		; First, perform a direct copy of the table from the wPlInfo to wSpecTeamActiveCharId*
		;
		ld   de, wSpecTeamActiveCharId0	; DE = Destination
		ld   b, $03						; B = Bytes to copy (3 team members)
	.loop:
		ldi  a, [hl]	; Read from iPlInfo_TeamCharId*, seek to next
		ld   [de], a	; Write to wSpecTeamActiveCharId0
		inc  de			; Seek to next dest. entry
		dec  b			; Done copying?
		jr   nz, .loop	; If not, loop
		
		;
		; Then, sort the IDs from lowest to highest.
		;
		; This is done by comparing all of the unique combinations
		; of the slots, and switching them around when the one on
		; the left is > than the one on the right.
		;
		; The sorting is done to simplify the character ID checks, as they
		; guarantee that, for any given special team, the character IDs will
		; be in specific slots. (only need to check 3 slots instead of 3*3)
		;
		
		; HL = DE = Ptr to Slot0
		ld   hl, wSpecTeamActiveCharId0
		push hl
		pop  de
		
		; Since there are three slots, there are three unique combinations, as seen below.
		
		; Compare Slot0 with Slot1
		inc  de				; Seek DE to Slot1
		call .sortOrder
		; Compare Slot0 with Slot2
		inc  de				; Seek DE to Slot2
		call .sortOrder
		; Compare Slot1 with Slot2
		inc  hl				; Seek HL to Slot1
		call .sortOrder
	pop  bc
	ret
	
; =============== .sortOrder ===============
; Helper function to switch two wSpecTeamActiveCharId* slots depending on their order.
; If Id1 > Id2, the slots are switched.
; IN
; - HL: "SlotA". Ptr to a wSpecTeamActiveCharId* slot.
; - DE: "SlotB". Ptr to a later wSpecTeamActiveCharId* slot.
.sortOrder:
	ld   a, [de]	; A = Id2 from SlotB
	ld   b, [hl]	; B = Id1 from SlotA
	cp   a, b		; Id2 >= Id1?
	jr   nc, .ret	; If so, return
	; Otherwise, Id2 < Id1.
	; Switch the slots for A and B to fix that.
	ld   [hl], a	; SlotA = Id2
	ld   a, b
	ld   [de], a	; SlotB = Id1
.ret:
	ret

; =============== mWinIsSpecTeam ===============
; Generates code to check if we're playing with a specific special team.
;
; To have a special team set, the player team must have all three specified characters.
; If checks pass, then the bonus fight type is determined.
;
; The fight type depends on the current team lead character (the one who defeated Goenitz).
; Fights can check for either one or two lead characters:
; - In the case of 1, it's for fights that pit two characters against one.
;   (ie: Kyo and Chizuru vs O.Iori, and the other way around) (2 fights assigned)
; - In the case of 2, every character always fights two other ones.
;   (ie: Kyo vs Terry and Ryo, but *not* the other way around) (3 fights assigned)
;
; Note that the IDs passed to this macro must be sorted from lowest to highest,
; to go with the sorting order of wSpecTeamActiveCharId*.
;
; IN (2 VS 1)
; - 1: Fight ID (without lead character matching)
; - 2: Fight ID (when the lead character matches)
; - 3: Lead character ID
; - 4: Character ID 1
; - 5: Character ID 2
; - 6: Character ID 3
; - B: Current lead character (active team member)
; IN (1 VS 1 VS 1)
; - 1: Fight ID (when the lead character 1 matches)
; - 2: Fight ID (when the lead character 2 matches)
; - 3: Fight ID (when the lead character 3 matches)
; - 4: Lead character ID 1
; - 5: Lead character ID 2
; - 6: Character ID 1
; - 7: Character ID 2
; - 8: Character ID 3
; - B: Current lead character (active team member)
; OUT
; - C flag: If set, we're using that special team.
; - wBonusFightId: Set to the bonus team ID when C is set.
mWinIsSpecTeam: MACRO

IF _NARG < 7
	;
	; 2 VS 1 VARIANT
	;

	; Check if all three characters match. If any check fails, return.
	ld   hl, wSpecTeamActiveCharId0	; Seek to first entry to check
	ldi  a, [hl]		
	cp   \4				; wSpecTeamActiveCharId0 != CharId1?
	jr   nz, .retNone	; If so, return
	ldi  a, [hl]
	cp   \5				; wSpecTeamActiveCharId1 != CharId2?
	jr   nz, .retNone	; If so, return
	ldi  a, [hl]
	cp   \6				; wSpecTeamActiveCharId2 != CharId3?
	jr   nz, .retNone	; If so, return
	
	; Determine the bonus fight type, depending on who the current active character is.
	ld   a, b			; A = CurLeadCharId
	cp   \3				; A != LeadCharId?
	jr   nz, .noLead	; If so, jump
.leadMatch:
	ld   a, \2			; Lead character matches
	jr   .retOk
.noLead:
	ld   a, \1			; Lead character didn't match
	jr   .retOk
.retOk:
	ld   [wBonusFightId], a	; Save fight ID
	scf					; C flag set (can use wBonusFightId)
	ret
.retNone:
	xor  a	; C flag clear
	ret
ELSE
	;
	; 1 VS 1 VS 1 VARIANT
	;
	
	; Check if all three characters match. If any check fails, return.
	ld   hl, wSpecTeamActiveCharId0	; Seek to first entry to check
	ldi  a, [hl]		
	cp   \6				; wSpecTeamActiveCharId0 != CharId1?
	jr   nz, .retNone	; If so, return
	ldi  a, [hl]
	cp   \7				; wSpecTeamActiveCharId1 != CharId2?
	jr   nz, .retNone	; If so, return
	ldi  a, [hl]
	cp   \8				; wSpecTeamActiveCharId2 != CharId3?
	jr   nz, .retNone	; If so, return
	
	; Determine the bonus fight type, depending on who the current active character is.
	ld   a, b			; A = CurLeadCharId
	cp   a, \4			; A == LeadCharId1?
	jr   z, .leadMatch1	; If so, jump
	cp   a, \5			; A == LeadCharId2?
	jr   z, .leadMatch2	; If so, jump
.leadMatch3:			; Otherwise, it's the third character
	ld   a, \3			; Lead character 3 matches
	jr   .retOk
.leadMatch2:
	ld   a, \2			; Lead character 2 matches
	jr   .retOk
.leadMatch1:
	ld   a, \1			; Lead character 1 matches
	jr   .retOk
.retOk:
	ld   [wBonusFightId], a	; Save fight ID
	scf 				 ; C flag set (can use wBonusFightId)
	ret  
.retNone:
	xor  a	; C flag clear
	ret
ENDC
ENDM
	                                                       
; BONUS FIGHT DEF (2 VS 1)           |            FIGHT |   FIGHT W/ LEAD |                     LEAD CHAR ID |                     CHAR ID 1 |     CHAR ID 2 |       CHAR ID 3     
Win_IsSpecTeamSacTre:   mWinIsSpecTeam     BONUS_ID_KC_I,    BONUS_ID_I_KC,                      CHAR_ID_IORI,                    CHAR_ID_KYO,   CHAR_ID_IORI, CHAR_ID_CHIZURU
Win_IsSpecTeamOLeona:   mWinIsSpecTeam     BONUS_ID_IM_L,    BONUS_ID_L_IM,                     CHAR_ID_LEONA,                  CHAR_ID_LEONA,   CHAR_ID_IORI,  CHAR_ID_MATURE
Win_IsSpecTeamFFGeese:  mWinIsSpecTeam     BONUS_ID_TA_G,    BONUS_ID_G_TA,                     CHAR_ID_GEESE,                  CHAR_ID_TERRY,   CHAR_ID_ANDY,   CHAR_ID_GEESE
Win_IsSpecTeamAOFMrBig: mWinIsSpecTeam     BONUS_ID_RR_B,    BONUS_ID_B_RR,                     CHAR_ID_MRBIG,                    CHAR_ID_RYO, CHAR_ID_ROBERT,   CHAR_ID_MRBIG
; BONUS FIGHT DEF (1 VS 1 VS 1)      |  FIGHT W/ LEAD 1 | FIGHT W/ LEAD 2 | FIGHT W/ LEAD 3 | LEAD CHAR ID 1 | LEAD CHAR ID 2 |    CHAR ID 1 |      CHAR ID 2 |      CHAR ID 3     
Win_IsSpecTeamKTR:      mWinIsSpecTeam     BONUS_ID_K_TR,    BONUS_ID_T_KR,    BONUS_ID_R_KT,     CHAR_ID_KYO,   CHAR_ID_TERRY,   CHAR_ID_KYO,   CHAR_ID_TERRY,    CHAR_ID_RYO
Win_IsSpecTeamBoss:     mWinIsSpecTeam     BONUS_ID_G_KB,    BONUS_ID_K_GB,    BONUS_ID_B_GK,   CHAR_ID_GEESE, CHAR_ID_KRAUSER, CHAR_ID_GEESE, CHAR_ID_KRAUSER,  CHAR_ID_MRBIG


; =============== Win_InitBonusFightTeams ===============
; Sets up the teams for the specified bonus fight.
; IN
; - A: Bonus Fight ID
Win_InitBonusFightTeams:
	;
	; Get the destination ptrs
	; HL = Ptr to active player character ID
	; DE = Ptr to CPU opponent character ID
	;
	push af
		ld   a, [wJoyActivePl]
		or   a				; Playing on the 1P side?
		jp   nz, .d2P	; If not, jump
	.d1P:
		ld   hl, wPlInfo_Pl1+iPlInfo_CharId
		ld   de, wPlInfo_Pl2+iPlInfo_CharId
		jp   .setChars
	.d2P:
		ld   hl, wPlInfo_Pl2+iPlInfo_CharId
		ld   de, wPlInfo_Pl1+iPlInfo_CharId
	.setChars:
	pop  af
	
	;
	; Index the entry from the table of bonus fight definitions. (source)
	; Each entry is 8 bytes long, and it contains character IDs.
	;
	
	push hl	; Save active charId ptr
		ld   hl, Win_BonusFightTbl	; HL = Table base
		ld   b, $00					; BC = A * 8
		sla  a
		sla  a
		sla  a
		ld   c, a
		add  hl, bc					; Offset it
	pop  bc	; BC = Ptr to active player character ID
	
	;
	; Copy its data over
	;
	
	;--
	; Player Team
	
	ldi  a, [hl]	; Read from byte0, SrcPtr++
	ld   [bc], a	; Copy to player iPlInfo_CharId
	inc  bc			; Seek to iPlInfo_TeamLossCount
	inc  bc			; Seek to iPlInfo_TeamCharId0
	
	; For some reason, this is a separate value even though it has to be always the same
	ldi  a, [hl]	; Read from byte1, SrcPtr++
	ld   [bc], a	; Copy to player iPlInfo_TeamCharId0
	
	inc  bc			; Seek to iPlInfo_TeamCharId1
	ldi  a, [hl]	; Read from byte2, SrcPtr++
	ld   [bc], a	; Copy to player iPlInfo_TeamCharId1
	inc  bc			; Seek to iPlInfo_TeamCharId2
	ldi  a, [hl]	; Read from byte3, SrcPtr++
	ld   [bc], a	; Copy to player iPlInfo_TeamCharId2
	
	;--
	; CPU Opponent Team
	
	ldi  a, [hl]	; Read from byte4, SrcPtr++
	ld   [de], a	; Copy to opponent iPlInfo_CharId
	inc  de			; Seek to iPlInfo_TeamLossCount
	inc  de			; Seek to iPlInfo_TeamCharId0
	
	; For some reason, this is a separate value even though it has to be always the same
	ldi  a, [hl]	; Read from byte5, SrcPtr++
	ld   [de], a	; Copy to opponent iPlInfo_TeamCharId0
	
	inc  de			; Seek to iPlInfo_TeamCharId1
	ldi  a, [hl]	; Read from byte6, SrcPtr++
	ld   [de], a	; Copy to opponent iPlInfo_TeamCharId1
	inc  de			; Seek to iPlInfo_TeamCharId2
	ldi  a, [hl]	; Read from byte7, SrcPtr++
	ld   [de], a	; Copy to opponent iPlInfo_TeamCharId2
	ret
	
; =============== Win_BonusFightTbl ===============
; Team definitions for bonus fights (STAGESEQ_BONUS).
Win_BonusFightTbl:
	; PLAYER SIDE                                                        | OPPONENT SIDE
	;        CUR CHAR |    TEAM CHAR 1 |    TEAM CHAR 2 |    TEAM CHAR 3 |       CUR CHAR |    TEAM CHAR 1 |    TEAM CHAR 2 |     TEAM CHAR 3 |      BONUS ID
	db   CHAR_ID_OIORI,   CHAR_ID_OIORI,    CHAR_ID_NONE,    CHAR_ID_NONE,     CHAR_ID_KYO,     CHAR_ID_KYO, CHAR_ID_CHIZURU,    CHAR_ID_NONE ; BONUS_ID_I_KC
	db     CHAR_ID_KYO,     CHAR_ID_KYO, CHAR_ID_CHIZURU,    CHAR_ID_NONE,   CHAR_ID_OIORI,   CHAR_ID_OIORI,    CHAR_ID_NONE,    CHAR_ID_NONE ; BONUS_ID_KC_I
	db  CHAR_ID_OLEONA,  CHAR_ID_OLEONA,    CHAR_ID_NONE,    CHAR_ID_NONE,    CHAR_ID_IORI,    CHAR_ID_IORI,  CHAR_ID_MATURE,    CHAR_ID_NONE ; BONUS_ID_L_IM
	db    CHAR_ID_IORI,    CHAR_ID_IORI,  CHAR_ID_MATURE,    CHAR_ID_NONE,  CHAR_ID_OLEONA,  CHAR_ID_OLEONA,    CHAR_ID_NONE,    CHAR_ID_NONE ; BONUS_ID_IM_L
	db   CHAR_ID_TERRY,   CHAR_ID_TERRY,    CHAR_ID_ANDY,    CHAR_ID_NONE,   CHAR_ID_GEESE,   CHAR_ID_GEESE,    CHAR_ID_NONE,    CHAR_ID_NONE ; BONUS_ID_TA_G
	db   CHAR_ID_GEESE,   CHAR_ID_GEESE,    CHAR_ID_NONE,    CHAR_ID_NONE,   CHAR_ID_TERRY,   CHAR_ID_TERRY,    CHAR_ID_ANDY,    CHAR_ID_NONE ; BONUS_ID_G_TA
	db     CHAR_ID_RYO,     CHAR_ID_RYO,  CHAR_ID_ROBERT,    CHAR_ID_NONE,   CHAR_ID_MRBIG,   CHAR_ID_MRBIG,    CHAR_ID_NONE,    CHAR_ID_NONE ; BONUS_ID_RR_B
	db   CHAR_ID_MRBIG,   CHAR_ID_MRBIG,    CHAR_ID_NONE,    CHAR_ID_NONE,     CHAR_ID_RYO,     CHAR_ID_RYO,  CHAR_ID_ROBERT,    CHAR_ID_NONE ; BONUS_ID_B_RR
	db     CHAR_ID_KYO,     CHAR_ID_KYO,    CHAR_ID_NONE,    CHAR_ID_NONE,   CHAR_ID_TERRY,   CHAR_ID_TERRY,     CHAR_ID_RYO,    CHAR_ID_NONE ; BONUS_ID_K_TR
	db   CHAR_ID_TERRY,   CHAR_ID_TERRY,    CHAR_ID_NONE,    CHAR_ID_NONE,     CHAR_ID_KYO,     CHAR_ID_KYO,     CHAR_ID_RYO,    CHAR_ID_NONE ; BONUS_ID_T_KR
	db     CHAR_ID_RYO,     CHAR_ID_RYO,    CHAR_ID_NONE,    CHAR_ID_NONE,     CHAR_ID_KYO,     CHAR_ID_KYO,   CHAR_ID_TERRY,    CHAR_ID_NONE ; BONUS_ID_R_KT
	db   CHAR_ID_GEESE,   CHAR_ID_GEESE,    CHAR_ID_NONE,    CHAR_ID_NONE, CHAR_ID_KRAUSER, CHAR_ID_KRAUSER,   CHAR_ID_MRBIG,    CHAR_ID_NONE ; BONUS_ID_G_KB
	db CHAR_ID_KRAUSER, CHAR_ID_KRAUSER,    CHAR_ID_NONE,    CHAR_ID_NONE,   CHAR_ID_GEESE,   CHAR_ID_GEESE,   CHAR_ID_MRBIG,    CHAR_ID_NONE ; BONUS_ID_K_GB
	db   CHAR_ID_MRBIG,   CHAR_ID_MRBIG,    CHAR_ID_NONE,    CHAR_ID_NONE,   CHAR_ID_GEESE,   CHAR_ID_GEESE, CHAR_ID_KRAUSER,    CHAR_ID_NONE ; BONUS_ID_B_GK
	
; =============== Win_SetSpecRoundChar ===============
; Sets the CPU opponent character to fight for the new boss/extra stage.
; This should not be used for the bonus fight (STAGESEQ_BONUS), since it uses a special team definition.
Win_SetSpecRoundChar:
	;
	; Read out the character ID off the current wCharSeqTbl entry.
	; This subroutine is expected to be called only for boss/extra rounds, 
	; as those are the only rounds that contain straight CHAR_ID_* entries
	; compared to the normal CHARSEL_ID_*.
	;
	ld   a, [wCharSeqId]	; A = Stage sequence ID
	ld   hl, wCharSeqTbl	; HL = Sequence table
	ld   d, $00				; DE = A
	ld   e, a
	add  hl, de				; Index it
	ld   a, [hl]			; Read out character ID

	; These entries are one of the very few times the game stores character IDs
	; without having them already multiplied by two.
	; So we've got to do it manually.
	sla  a					; A * = 2
	
	;
	; Update the team members for the inactive side/CPU opponent side.
	; All of the boss/extra rounds make you fight one CPU opponent at most,
	; so A gets written into the first slot, and the other two get CHAR_ID_NONE.
	;
	push af
		; Determine the inactive side
		ld   a, [wJoyActivePl]
		or   a				; wJoyActivePl == PL1? (Playing as 1P?)
		jp   nz, .op1P		; If not, jump (Playing as 2P)
	.op2P:
		; Playing as 1P, CPU is 2P
		ld   hl, wPlInfo_Pl2+iPlInfo_TeamCharId0
		ld   de, wPlInfo_Pl2+iPlInfo_CharId
		jp   .setChar
	.op1P:
		; Playing as 2P, CPU is 1P
		ld   hl, wPlInfo_Pl1+iPlInfo_TeamCharId0
		ld   de, wPlInfo_Pl1+iPlInfo_CharId
	.setChar:
		; Write the character ID to the current character slot + first team member
	pop  af		; A = CHAR_ID_*
	
	ld   [de], a	; Save it to iPlInfo_CharId
	ldi  [hl], a	; Save it to iPlInfo_TeamCharId0, seek to next
	; Clear out the other two team members
	ld   a, CHAR_ID_NONE
	ldi  [hl], a	; Save it to iPlInfo_TeamCharId1, seek to next
	ld   [hl], a	; Save it to iPlInfo_TeamCharId2
	ret
	
; =============== Win_Mode_SingleLost ===============
; Lost a round on Single Mode by having the opponent win.
Win_Mode_SingleLost:
	; Losing the bonus fights doesn't affect anything.
	ld   a, [wCharSeqId]
	cp   STAGESEQ_BONUS			; Did we lose to the bonus opponent or Mr.Karate?
	jp   nc, Win_Mode_SingleWon	; If so, pretend we won anyway
	
	; Display the opponent team's win animation
	call Win_DoWinScr
	
	;
	; INITIALIZE CONTINUE SCREEN
	;
	
	;-----------------------------------
	rst  $10				; Stop LCD
	
	; Black out palette
	ld   a, $FF
	ldh  [rBGP], a
	
	; Hide opponent team off-screen
	ld   a, $80
	ldh  [hScrollY], a
	
	; Load standard font
	call LoadGFX_1bppFont_Default
	
	; Delete opponent team tilemap
	call ClearBGMap
	
	; Load SGB palette
	ld   de, SCRPAL_INTRO
	call HomeCall_SGB_ApplyScreenPalSet
	
	; Display "CONTINUE 9" text
	ld   hl, TextDef_Continue
	call TextPrinter_Instant
	
	; Init continue timer
	ld   a, $09					; 9 seconds
	ld   [wWinContinueTimer], a
	ld   a, 60					; Decrement after 60 frames
	ld   [wWinContinueTimerSub], a
	
	; Set real text palette
	ld   a, $1B
	ldh  [rBGP], a
	
	ld   a, LCDC_PRIORITY|LCDC_OBJENABLE|LCDC_OBJSIZE|LCDC_WTILEMAP|LCDC_ENABLE
	rst  $18				; Resume LCD
	;-----------------------------------
	
	jp   Win_Continue

; =============== Win_Mode_SingleDraw ===============
; Lost a round on Single Mode by ending the stage on a DRAW.
; Note that, by the time we get here, "DRAW" should already be in the tilemap.
Win_Mode_SingleDraw:
	; Music kills itself in shame
	ld   a, SND_MUTE
	call HomeCall_Sound_ReqPlayExId_Stub
	
	ld   a, LCDC_PRIORITY|LCDC_OBJENABLE|LCDC_OBJSIZE|LCDC_WTILEMAP|LCDC_ENABLE
	rst  $18				; Resume LCD
	;-----------------------------------
	call Task_PassControl_NoDelay
	; Enable palette
	ld   a, $1B
	ldh  [rBGP], a
.wait:
	call Win_IdleWaitLong
	jp   c, .toContinue
	;--
	; [TCRF] C is always set, so we never get here.
	;        Seems like pressing START would have reset the wait timer.
	;        See also: other instances of Win_IdleWaitLong calls.
	call Task_PassControl_NoDelay
	jp   .wait
	;--
.toContinue:
	; Losing the bonus fights doesn't affect anything.
	ld   a, [wCharSeqId]
	cp   STAGESEQ_BONUS			; Did we lose to the bonus opponent or Mr.Karate?
	jp   nc, Win_StartNextStage	; If so, pretend we won anyway
	
	;
	; INITIALIZE CONTINUE SCREEN
	;
	
	;-----------------------------------
	rst  $10				; Stop LCD
	
	; Black out palette
	ld   a, $FF
	ldh  [rBGP], a
	
	; Hide opponent team off-screen
	ld   a, $80
	ldh  [hScrollY], a
	
	; Load standard font
	call LoadGFX_1bppFont_Default
	
	; Delete opponent team tilemap
	call ClearBGMap
	
	; Load SGB palette
	ld   de, SCRPAL_INTRO
	call HomeCall_SGB_ApplyScreenPalSet
	
	; Display "CONTINUE 9" text
	ld   hl, TextDef_Continue
	call TextPrinter_Instant
	
	; Init continue timer
	ld   a, $09					; 9 seconds
	ld   [wWinContinueTimer], a
	ld   a, 60					; Decrement after 60 frames
	ld   [wWinContinueTimerSub], a
	
	; Set real text palette
	ld   a, $1B
	ldh  [rBGP], a
	
	ld   a, LCDC_PRIORITY|LCDC_OBJENABLE|LCDC_OBJSIZE|LCDC_WTILEMAP|LCDC_ENABLE
	rst  $18				; Resume LCD
	;-----------------------------------
	
	jp   Win_Continue
; =============== Win_Mode_SingleDraw ===============
; Lost in VS mode by ending the stage on a DRAW.
; Note that, by the time we get here, "DRAW" should already be in the tilemap.
Win_Mode_VSDraw:
	; Music kills itself in shame
	ld   a, SND_MUTE
	call HomeCall_Sound_ReqPlayExId_Stub
	
	ld   a, LCDC_PRIORITY|LCDC_OBJENABLE|LCDC_OBJSIZE|LCDC_WTILEMAP|LCDC_ENABLE
	rst  $18				; Resume LCD
	;-----------------------------------
	call Task_PassControl_NoDelay
	; Enable palette
	ld   a, $1B
	ldh  [rBGP], a
.wait:
	call Win_IdleWaitLong
	jp   c, .toCharSel
	;--
	; [TCRF] We never get here
	call Task_PassControl_NoDelay
	jp   .wait
	;--
	; [TCRF] Unreferenced code
.unused_resetChar:
	call Win_ResetCharsOnUnusedVsModeCpuVsCpu
	;--
.toCharSel:
	jp   Win_SwitchToCharSel
	
; =============== Win_ResetCharsOnUnusedVsModeCpuVsCpu ===============
; [TCRF] In a CPU vs CPU battle in VS mode, force the game to pick new characters for both teams.
Win_ResetCharsOnUnusedVsModeCpuVsCpu:
	; Not applicable if not in VS mode
	ld   a, [wPlayMode]
	bit  MODEB_VS, a
	ret  z
	
	; Not applicable if
	ld   a, [wPlInfo_Pl1+iPlInfo_Flags0]
	ld   b, a								; B = 1P Flags
	ld   a, [wPlInfo_Pl2+iPlInfo_Flags0]	; A = 2P Flags
	and  b									; Merge both
	bit  PF0B_CPU, a						; Are both players CPUs?
	ret  z									; If not, return
	
	; Clear selected team characters
	ld   a, $FF
	ld   [wCharSelP1Char0], a
	ld   [wCharSelP1Char1], a
	ld   [wCharSelP1Char2], a
	ld   [wCharSelP2Char0], a
	ld   [wCharSelP2Char1], a
	ld   [wCharSelP2Char2], a
	ret 
	
; =============== Win_Continue ===============
; Handles the Continue screen.
Win_Continue:
	call Task_PassControl_NoDelay
.loop:
	; Pressing START returns to the character select.
	call Win_IsStartPressed
	jp   c, .toCharSel
	
.decSubSec:
	; Decrement the subsecond timer
	ld   a, [wWinContinueTimerSub]
	or   a				; TimerSub == 0?
	jp   z, .decSec		; If so, jump
	dec  a				; Otherwise, TimerSub--
	ld   [wWinContinueTimerSub], a
	call Task_PassControl_NoDelay
	jp   .loop
.decSec:
	; Reset subtimer to 60 frames
	ld   a, 60
	ld   [wWinContinueTimerSub], a
	
	; Decrement second timer
	ld   a, [wWinContinueTimer]
	or   a				; Timer == 0?
	jp   z, .gameOver	; If so, jump
	dec  a				; Otherwise, Timer--
	ld   [wWinContinueTimer], a
	
	; Play sound when second ticks away
	ld   a, SFX_CHARCURSORMOVE
	call HomeCall_Sound_ReqPlayExId
	
	;
	; Update tilemap with new number.
	; Because NumberPrinter_Instant writes two digits, after that
	; replace the leading 0 with a space.
	;
	ld   a, [wWinContinueTimer]
	ld   de, $9AED
	call NumberPrinter_Instant
	ld   hl, TextDef_ContinueNumSpace
	call TextPrinter_Instant
	
	call Task_PassControl_NoDelay
	jp   .loop
	
.gameOver:
	ld   a, SFX_GAMEOVER
	call HomeCall_Sound_ReqPlayExId
	
	ld   hl, TextDef_GameOver
	call TextPrinter_Instant
	jp   .toTitle
	
.toCharSel:
	;--
	; [TCRF] Mark that a continue was used. This is never read from.
	ld   a, $01
	ld   [wUnused_ContinueUsed], a
	;--
	jp   Win_SwitchToCharSel
	
.toTitle:
	call Win_IdleWaitLong
	jp   c, Win_SwitchToTitle
	; [TCRF] Unreachable code, Win_IdleWaitLong always returns C flag set.
	call Task_PassControl_NoDelay
	jp   .toTitle
; =============== Win_SwitchToTitle ===============
; Switches to the Title screen.
Win_SwitchToTitle:
	ld   b, BANK(Module_Title) ; BANK $1C
	ld   hl, Module_Title
	rst  $00
; =============== Win_SwitchToCharSel ===============
; Switches to the Character Select screen.
Win_SwitchToCharSel:
	ld   b, BANK(Module_CharSel) ; BANK $1E
	ld   hl, Module_CharSel
	rst  $00
; =============== Win_DoWinScr ===============
; Performs initialization of the Win Screen.
Win_DoWinScr:
	ld   b, BANK(SubModule_WinScr) ; BANK $1E
	ld   hl, SubModule_WinScr
	rst  $08
	ret
; =============== Win_Unused_IdleWaitShort ===============
; [TCRF] Unreferenced code.
; Waits for $F0 frames, or until someone presses START.
; OUT
; - C flag: Always set (leftover from WnScr_IdleWait)
Win_Unused_IdleWaitShort:
	ld   b, $F0			; B = Number of frames
.loop:
	; If any player presses START, the wait ends early
	ldh  a, [hJoyNewKeys]
	bit  KEYB_START, a
	jp   nz, .abort
	ldh  a, [hJoyNewKeys2]
	bit  KEYB_START, a
	jp   nz, .abort
	; Wait a frame
	call Task_PassControl_NoDelay
	dec  b				; Are we finished?
	jp   nz, .loop		; If not, loop
.abort:
	scf  
	ret
	
; =============== Win_IdleWaitLong ===============
; Waits for $01E0 frames, or until someone presses START.
; OUT
; - C flag: Always set (leftover from WnScr_IdleWait)
Win_IdleWaitLong:
	ld   bc, $01E0			; BC = Number of frames
.loop:
	; If any player presses START, the wait ends early
	ldh  a, [hJoyNewKeys]
	bit  KEYB_START, a
	jp   nz, .abort
	ldh  a, [hJoyNewKeys2]
	bit  KEYB_START, a
	jp   nz, .abort
	; Wait a frame
	call Task_PassControl_NoDelay
	dec  bc			; FramesLeft--
	ld   a, b
	or   a, c		; B == 0 && C == 0?
	jp   nz, .loop	; If not, loop
	; Otherwise, we're done
.abort:
	scf
	ret
	
; =============== Win_IsStartPressed ===============
; Checks if any player pressed START.
; OUT
; - C flag: If set, someone did
Win_IsStartPressed:
	; If any player presses START, return set
	ldh  a, [hJoyNewKeys]
	bit  KEYB_START, a
	jp   nz, .abort
	ldh  a, [hJoyNewKeys2]
	bit  KEYB_START, a
	jp   nz, .abort
	; Otherwise, return clear
	xor  a
	ret
.abort:
	scf
	ret
	
; =============== Win_IncStageSeq ===============
; Increases the stage sequence id by the number of opponents in the stage.
;
; This also marks them as defeated, which allows CharSel_DrawCrossOnDefeatedChars
; to display crosses over defeated character icons
;
; Calling this allows the game to progress in Single Modes, and shouldn't be called in VS modes.
Win_IncStageSeq:
	;
	; Seek to the current slot in the stage sequence table.
	; DE = Ptr to current CHARSEL_ID_* entry in the opponent sequence table.
	;
	ld   hl, wCharSeqTbl	; HL = Sequence table
	ld   a, [wCharSeqId]	; A = RoundId
	add  a, l				; Index the table
	jp   nc, .noOvf			; (we never overflow L)
	inc  h
.noOvf:
	ld   l, a				; Save it back
	push hl					; Move ptr to DE
	pop  de
	
	; HL = Ptr to wCharSeqId
	; This will later be incremented for every opponent marked as defeated.
	ld   hl, wCharSeqId
	
	;
	; Determine by how much to increase the stage sequence id.
	;
	
	; There's only one opponent in the boss and extra rounds.
	ld   a, [wCharSeqId]	; A = RoundSeqId
	cp   STAGESEQ_KAGURA	; On KAGURA's stage?
	jp   z, .set1			; If so, jump
	cp   STAGESEQ_GOENITZ	; ...
	jp   z, .set1
	cp   STAGESEQ_BONUS
	jp   z, .set1
	cp   STAGESEQ_MRKARATE
	jp   z, .set1
	
	; Otherwise, if we're in team mode, there are three opponents, so the stage sequence
	; should increment by three.
	ld   b, $03				; B = Slots to mark
	ld   a, [wPlayMode]		
	bit  MODEB_TEAM, a		; Are we in team mode?
	jp   nz, .loop			; If so, skip
.set1:						; Otherwise, there's only one opponent in single modes.
	ld   b, $01				; B = Slots to mark
	
	;
	; Advance the stage progress B times.
	;
.loop:
	; Mark the opponent as defeated
	ld   a, [de]					; A = Slot
	set  CHARSEL_POSFB_DEFEATED, a	; Mark as defeated
	ld   [de], a					; Save it back
	inc  de							; Seek to next slot
	
	; Increment stage id
	inc  [hl]						; wCharSeqId++
	
	dec  b							; Are we done?
	jp   nz, .loop					; If not, loop
	ret
	
TextDef_Win_Draw:
	dw $9888
	db $04
	db "DRAW"
TextDef_Continue:
	dw $9AE5
	db $0A
	db "CONTINUE 9"
TextDef_ContinueNumSpace:
	dw $9AED
	db $01
	db " "
TextDef_GameOver:
	dw $9AE5
	db $0A
	db "GAME  OVER"

GFXLZ_Cutscene_StadiumBG: db $97
L1D56FC: db $80
L1D56FD: db $7B
L1D56FE: db $00
L1D56FF: db $03
L1D5700: db $03
L1D5701: db $03
L1D5702: db $02
L1D5703: db $FF
L1D5704: db $03
L1D5705: db $03
L1D5706: db $F9
L1D5707: db $03
L1D5708: db $03
L1D5709: db $03
L1D570A: db $03
L1D570B: db $02
L1D570C: db $FD
L1D570D: db $FE
L1D570E: db $17
L1D570F: db $E5
L1D5710: db $03
L1D5711: db $03
L1D5712: db $01
L1D5713: db $DF
L1D5714: db $BF
L1D5715: db $08
L1D5716: db $7F
L1D5717: db $1F
L1D5718: db $EF
L1D5719: db $03
L1D571A: db $03
L1D571B: db $01
L1D571C: db $C1
L1D571D: db $13
L1D571E: db $03
L1D571F: db $03
L1D5720: db $01
L1D5721: db $7B
L1D5722: db $00
L1D5723: db $00
L1D5724: db $09
L1D5725: db $16
L1D5726: db $98
L1D5727: db $40
L1D5728: db $06
L1D5729: db $A4
L1D572A: db $FA
L1D572B: db $07
L1D572C: db $1D
L1D572D: db $3F
L1D572E: db $07
L1D572F: db $04
L1D5730: db $FD
L1D5731: db $00
L1D5732: db $F6
L1D5733: db $AF
L1D5734: db $04
L1D5735: db $FB
L1D5736: db $14
L1D5737: db $02
L1D5738: db $3F
L1D5739: db $07
L1D573A: db $04
L1D573B: db $68
L1D573C: db $2B
L1D573D: db $DF
L1D573E: db $6F
L1D573F: db $0C
L1D5740: db $9F
L1D5741: db $80
L1D5742: db $C0
L1D5743: db $3F
L1D5744: db $07
L1D5745: db $FF
L1D5746: db $FB
L1D5747: db $02
L1D5748: db $1C
L1D5749: db $3F
L1D574A: db $04
L1D574B: db $59
L1D574C: db $04
L1D574D: db $0C
L1D574E: db $87
L1D574F: db $E4
L1D5750: db $EA
L1D5751: db $55
L1D5752: db $F5
L1D5753: db $4A
L1D5754: db $0D
L1D5755: db $3F
L1D5756: db $0B
L1D5757: db $BE
L1D5758: db $09
L1D5759: db $AA
L1D575A: db $2C
L1D575B: db $00
L1D575C: db $08
L1D575D: db $7F
L1D575E: db $0D
L1D575F: db $FE
L1D5760: db $B0
L1D5761: db $08
L1D5762: db $02
L1D5763: db $04
L1D5764: db $0C
L1D5765: db $03
L1D5766: db $AE
L1D5767: db $53
L1D5768: db $56
L1D5769: db $6D
L1D576A: db $AB
L1D576B: db $0D
L1D576C: db $3F
L1D576D: db $FD
L1D576E: db $38
L1D576F: db $06
L1D5770: db $FB
L1D5771: db $07
L1D5772: db $CB
L1D5773: db $1D
L1D5774: db $39
L1D5775: db $77
L1D5776: db $AF
L1D5777: db $08
L1D5778: db $DF
L1D5779: db $15
L1D577A: db $03
L1D577B: db $D5
L1D577C: db $B7
L1D577D: db $AD
L1D577E: db $F8
L1D577F: db $04
L1D5780: db $F0
L1D5781: db $04
L1D5782: db $E0
L1D5783: db $06
L1D5784: db $78
L1D5785: db $C0
L1D5786: db $3F
L1D5787: db $09
L1D5788: db $BF
L1D5789: db $BE
L1D578A: db $E4
L1D578B: db $BB
L1D578C: db $D4
L1D578D: db $07
L1D578E: db $6B
L1D578F: db $F4
L1D5790: db $9B
L1D5791: db $7D
L1D5792: db $C2
L1D5793: db $47
L1D5794: db $07
L1D5795: db $07
L1D5796: db $F8
L1D5797: db $7F
L1D5798: db $17
L1D5799: db $07
L1D579A: db $13
L1D579B: db $2F
L1D579C: db $B9
L1D579D: db $46
L1D579E: db $88
L1D579F: db $18
L1D57A0: db $77
L1D57A1: db $BF
L1D57A2: db $40
L1D57A3: db $0C
L1D57A4: db $57
L1D57A5: db $11
L1D57A6: db $99
L1D57A7: db $66
L1D57A8: db $97
L1D57A9: db $16
L1D57AA: db $7F
L1D57AB: db $D5
L1D57AC: db $04
L1D57AD: db $AA
L1D57AE: db $04
L1D57AF: db $67
L1D57B0: db $04
L1D57B1: db $00
L1D57B2: db $42
L1D57B3: db $FB
L1D57B4: db $15
L1D57B5: db $9D
L1D57B6: db $62
L1D57B7: db $8F
L1D57B8: db $75
L1D57B9: db $0E
L1D57BA: db $41
L1D57BB: db $F1
L1D57BC: db $24
L1D57BD: db $02
L1D57BE: db $03
L1D57BF: db $FC
L1D57C0: db $DF
L1D57C1: db $21
L1D57C2: db $04
L1D57C3: db $50
L1D57C4: db $31
L1D57C5: db $5C
L1D57C6: db $55
L1D57C7: db $24
L1D57C8: db $01
L1D57C9: db $E9
L1D57CA: db $B6
L1D57CB: db $A8
L1D57CC: db $41
L1D57CD: db $57
L1D57CE: db $78
L1D57CF: db $C0
L1D57D0: db $E0
L1D57D1: db $1F
L1D57D2: db $BD
L1D57D3: db $C2
L1D57D4: db $04
L1D57D5: db $1B
L1D57D6: db $D3
L1D57D7: db $3A
L1D57D8: db $C5
L1D57D9: db $E4
L1D57DA: db $24
L1D57DB: db $FD
L1D57DC: db $48
L1D57DD: db $38
L1D57DE: db $BD
L1D57DF: db $08
L1D57E0: db $AB
L1D57E1: db $04
L1D57E2: db $7C
L1D57E3: db $19
L1D57E4: db $64
L1D57E5: db $67
L1D57E6: db $F8
L1D57E7: db $F7
L1D57E8: db $85
L1D57E9: db $24
L1D57EA: db $84
L1D57EB: db $44
L1D57EC: db $D7
L1D57ED: db $5C
L1D57EE: db $04
L1D57EF: db $9C
L1D57F0: db $B2
L1D57F1: db $04
L1D57F2: db $A0
L1D57F3: db $28
L1D57F4: db $65
L1D57F5: db $AF
L1D57F6: db $D4
L1D57F7: db $0C
L1D57F8: db $D1
L1D57F9: db $06
L1D57FA: db $A9
L1D57FB: db $D6
L1D57FC: db $B8
L1D57FD: db $47
L1D57FE: db $80
L1D57FF: db $B8
L1D5800: db $1C
L1D5801: db $40
L1D5802: db $08
L1D5803: db $D8
L1D5804: db $B7
L1D5805: db $ED
L1D5806: db $52
L1D5807: db $88
L1D5808: db $6B
L1D5809: db $DA
L1D580A: db $B5
L1D580B: db $BB
L1D580C: db $25
L1D580D: db $98
L1D580E: db $98
L1D580F: db $3D
L1D5810: db $AC
L1D5811: db $00
L1D5812: db $0C
L1D5813: db $08
L1D5814: db $A2
L1D5815: db $34
L1D5816: db $02
L1D5817: db $04
L1D5818: db $13
L1D5819: db $9A
L1D581A: db $65
L1D581B: db $25
L1D581C: db $5F
L1D581D: db $53
L1D581E: db $EF
L1D581F: db $50
L1D5820: db $4F
L1D5821: db $5C
L1D5822: db $6F
L1D5823: db $D0
L1D5824: db $04
L1D5825: db $C0
L1D5826: db $40
L1D5827: db $60
L1D5828: db $06
L1D5829: db $61
L1D582A: db $D9
L1D582B: db $66
L1D582C: db $F5
L1D582D: db $FA
L1D582E: db $5E
L1D582F: db $85
L1D5830: db $08
L1D5831: db $BE
L1D5832: db $EB
L1D5833: db $09
L1D5834: db $F6
L1D5835: db $64
L1D5836: db $04
L1D5837: db $7C
L1D5838: db $48
L1D5839: db $06
L1D583A: db $04
L1D583B: db $17
L1D583C: db $9D
L1D583D: db $3D
L1D583E: db $4A
L1D583F: db $EA
L1D5840: db $55
L1D5841: db $F1
L1D5842: db $0F
L1D5843: db $0F
L1D5844: db $0F
L1D5845: db $A0
L1D5846: db $99
L1D5847: db $BF
L1D5848: db $46
L1D5849: db $10
L1D584A: db $42
L1D584B: db $AF
L1D584C: db $00
L1D584D: db $52
L1D584E: db $57
L1D584F: db $A9
L1D5850: db $AB
L1D5851: db $18
L1D5852: db $56
L1D5853: db $F4
L1D5854: db $0C
L1D5855: db $00
L1D5856: db $08
L1D5857: db $9C
L1D5858: db $40
L1D5859: db $04
L1D585A: db $7F
L1D585B: db $C2
L1D585C: db $3C
L1D585D: db $7D
L1D585E: db $C0
L1D585F: db $0C
L1D5860: db $54
L1D5861: db $1C
L1D5862: db $FE
L1D5863: db $68
L1D5864: db $D7
L1D5865: db $18
L1D5866: db $6C
L1D5867: db $FE
L1D5868: db $01
L1D5869: db $3C
L1D586A: db $00
L1D586B: db $23
L1D586C: db $DE
L1D586D: db $00
L1D586E: db $90
L1D586F: db $51
L1D5870: db $81
L1D5871: db $BD
L1D5872: db $58
L1D5873: db $BE
L1D5874: db $D3
L1D5875: db $B3
L1D5876: db $CC
L1D5877: db $84
L1D5878: db $04
L1D5879: db $7C
L1D587A: db $F6
L1D587B: db $69
L1D587C: db $ED
L1D587D: db $B4
L1D587E: db $DA
L1D587F: db $A5
L1D5880: db $C6
L1D5881: db $EF
L1D5882: db $0C
L1D5883: db $8A
L1D5884: db $CA
L1D5885: db $35
L1D5886: db $C0
L1D5887: db $D8
L1D5888: db $AE
L1D5889: db $7F
L1D588A: db $53
L1D588B: db $0F
L1D588C: db $0F
L1D588D: db $0F
L1D588E: db $A0
L1D588F: db $A8
L1D5890: db $A4
L1D5891: db $08
L1D5892: db $1D
L1D5893: db $82
L1D5894: db $FD
L1D5895: db $80
L1D5896: db $0C
L1D5897: db $08
L1D5898: db $10
L1D5899: db $6E
L1D589A: db $B4
L1D589B: db $0B
L1D589C: db $CE
L1D589D: db $F3
L1D589E: db $AA
L1D589F: db $77
L1D58A0: db $FC
L1D58A1: db $03
L1D58A2: db $04
L1D58A3: db $2C
L1D58A4: db $6E
L1D58A5: db $21
L1D58A6: db $FE
L1D58A7: db $3C
L1D58A8: db $02
L1D58A9: db $26
L1D58AA: db $74
L1D58AB: db $3C
L1D58AC: db $57
L1D58AD: db $0F
L1D58AE: db $95
L1D58AF: db $6A
L1D58B0: db $84
L1D58B1: db $7B
L1D58B2: db $2D
L1D58B3: db $7E
L1D58B4: db $0C
L1D58B5: db $04
L1D58B6: db $10
L1D58B7: db $13
L1D58B8: db $9A
L1D58B9: db $65
L1D58BA: db $B5
L1D58BB: db $89
L1D58BC: db $76
L1D58BD: db $08
L1D58BE: db $F7
L1D58BF: db $94
L1D58C0: db $15
L1D58C1: db $8D
L1D58C2: db $FB
L1D58C3: db $6C
L1D58C4: db $05
L1D58C5: db $14
L1D58C6: db $16
L1D58C7: db $9D
L1D58C8: db $44
L1D58C9: db $6B
L1D58CA: db $25
L1D58CB: db $5F
L1D58CC: db $AF
L1D58CD: db $E5
L1D58CE: db $08
L1D58CF: db $EA
L1D58D0: db $BF
L1D58D1: db $00
L1D58D2: db $90
L1D58D3: db $6F
L1D58D4: db $DF
L1D58D5: db $60
L1D58D6: db $D6
L1D58D7: db $6D
L1D58D8: db $DD
L1D58D9: db $73
L1D58DA: db $70
L1D58DB: db $DA
L1D58DC: db $84
L1D58DD: db $94
L1D58DE: db $7C
L1D58DF: db $DB
L1D58E0: db $74
L1D58E1: db $A5
L1D58E2: db $7E
L1D58E3: db $2B
L1D58E4: db $0D
L1D58E5: db $F6
L1D58E6: db $1C
L1D58E7: db $06
L1D58E8: db $04
L1D58E9: db $46
L1D58EA: db $04
L1D58EB: db $85
L1D58EC: db $06
L1D58ED: db $66
L1D58EE: db $8F
L1D58EF: db $75
L1D58F0: db $0E
L1D58F1: db $F1
L1D58F2: db $94
L1D58F3: db $EC
L1D58F4: db $83
L1D58F5: db $51
L1D58F6: db $7C
L1D58F7: db $7C
L1D58F8: db $21
L1D58F9: db $04
L1D58FA: db $B1
L1D58FB: db $AA
L1D58FC: db $55
L1D58FD: db $24
L1D58FE: db $40
L1D58FF: db $01
L1D5900: db $B4
L1D5901: db $BA
L1D5902: db $A4
L1D5903: db $5B
L1D5904: db $7D
L1D5905: db $C2
L1D5906: db $E8
L1D5907: db $51
L1D5908: db $1F
L1D5909: db $C8
L1D590A: db $C0
L1D590B: db $04
L1D590C: db $D1
L1D590D: db $39
L1D590E: db $C6
L1D590F: db $15
L1D5910: db $D5
L1D5911: db $8C
L1D5912: db $48
L1D5913: db $57
L1D5914: db $08
L1D5915: db $AB
L1D5916: db $04
L1D5917: db $03
L1D5918: db $19
L1D5919: db $93
L1D591A: db $64
L1D591B: db $F7
L1D591C: db $49
L1D591D: db $0C
L1D591E: db $11
L1D591F: db $9B
L1D5920: db $FC
L1D5921: db $0C
L1D5922: db $F6
L1D5923: db $00
L1D5924: db $91
L1D5925: db $9C
L1D5926: db $04
L1D5927: db $00
L1D5928: db $19
L1D5929: db $08
L1D592A: db $F6
L1D592B: db $85
L1D592C: db $3C
L1D592D: db $BD
L1D592E: db $53
L1D592F: db $CA
L1D5930: db $35
L1D5931: db $54
L1D5932: db $08
L1D5933: db $29
L1D5934: db $FF
L1D5935: db $3A
L1D5936: db $07
L1D5937: db $06
L1D5938: db $64
L1D5939: db $70
L1D593A: db $00
L1D593B: db $08
L1D593C: db $23
L1D593D: db $EE
L1D593E: db $4F
L1D593F: db $15
L1D5940: db $A7
L1D5941: db $EF
L1D5942: db $CC
L1D5943: db $E9
L1D5944: db $ED
L1D5945: db $F9
L1D5946: db $B4
L1D5947: db $04
L1D5948: db $F0
L1D5949: db $38
L1D594A: db $05
L1D594B: db $F1
L1D594C: db $14
L1D594D: db $80
L1D594E: db $40
L1D594F: db $0B
L1D5950: db $B7
L1D5951: db $C8
L1D5952: db $BF
L1D5953: db $DF
L1D5954: db $04
L1D5955: db $C0
L1D5956: db $07
L1D5957: db $04
L1D5958: db $CE
L1D5959: db $2C
L1D595A: db $0D
L1D595B: db $8A
L1D595C: db $F5
L1D595D: db $50
L1D595E: db $48
L1D595F: db $06
L1D5960: db $20
L1D5961: db $57
L1D5962: db $10
L1D5963: db $00
L1D5964: db $A0
L1D5965: db $BD
L1D5966: db $E0
L1D5967: db $40
L1D5968: db $3C
L1D5969: db $28
L1D596A: db $32
L1D596B: db $C4
L1D596C: db $95
L1D596D: db $48
L1D596E: db $1C
L1D596F: db $1F
L1D5970: db $27
L1D5971: db $04
L1D5972: db $7F
L1D5973: db $0B
L1D5974: db $78
L1D5975: db $F8
L1D5976: db $07
L1D5977: db $02
L1D5978: db $FE
L1D5979: db $2B
L1D597A: db $20
L1D597B: db $B0
L1D597C: db $10
L1D597D: db $61
L1D597E: db $5F
L1D597F: db $EF
L1D5980: db $0C
L1D5981: db $60
L1D5982: db $D9
L1D5983: db $66
L1D5984: db $D0
L1D5985: db $EC
L1D5986: db $1C
L1D5987: db $F4
L1D5988: db $60
L1D5989: db $D1
L1D598A: db $1C
L1D598B: db $85
L1D598C: db $FD
L1D598D: db $86
L1D598E: db $AA
L1D598F: db $04
L1D5990: db $F7
L1D5991: db $04
L1D5992: db $06
L1D5993: db $07
L1D5994: db $F9
L1D5995: db $04
L1D5996: db $C7
L1D5997: db $1D
L1D5998: db $3B
L1D5999: db $03
L1D599A: db $DC
L1D599B: db $F5
L1D599C: db $01
L1D599D: db $50
L1D599E: db $01
L1D599F: db $ED
L1D59A0: db $1E
L1D59A1: db $51
L1D59A2: db $F0
L1D59A3: db $A0
L1D59A4: db $0C
L1D59A5: db $1C
L1D59A6: db $04
L1D59A7: db $01
L1D59A8: db $0A
L1D59A9: db $00
L1D59AA: db $1D
L1D59AB: db $37
L1D59AC: db $2A
L1D59AD: db $F5
L1D59AE: db $FA
L1D59AF: db $BF
L1D59B0: db $77
L1D59B1: db $7B
L1D59B2: db $17
L1D59B3: db $A7
L1D59B4: db $6D
L1D59B5: db $B3
L1D59B6: db $00
L1D59B7: db $CF
L1D59B8: db $F8
L1D59B9: db $00
L1D59BA: db $28
L1D59BB: db $3F
L1D59BC: db $05
L1D59BD: db $FF
L1D59BE: db $01
L1D59BF: db $78
L1D59C0: db $05
L1D59C1: db $B4
L1D59C2: db $04
L1D59C3: db $80
L1D59C4: db $CA
L1D59C5: db $91
L1D59C6: db $08
L1D59C7: db $C1
L1D59C8: db $20
L1D59C9: db $1C
L1D59CA: db $07
L1D59CB: db $2C
L1D59CC: db $FC
L1D59CD: db $8B
L1D59CE: db $35
L1D59CF: db $C9
L1D59D0: db $3F
L1D59D1: db $B7
L1D59D2: db $64
L1D59D3: db $6F
L1D59D4: db $62
L1D59D5: db $25
L1D59D6: db $FB
L1D59D7: db $FF
L1D59D8: db $0D
L1D59D9: db $E4
L1D59DA: db $EB
L1D59DB: db $00
L1D59DC: db $81
L1D59DD: db $78
L1D59DE: db $01
L1D59DF: db $FD
L1D59E0: db $2C
L1D59E1: db $5C
L1D59E2: db $F8
L1D59E3: db $6C
L1D59E4: db $03
L1D59E5: db $E5
L1D59E6: db $F7
L1D59E7: db $70
L1D59E8: db $AD
L1D59E9: db $85
L1D59EA: db $BC
L1D59EB: db $04
L1D59EC: db $DF
L1D59ED: db $54
L1D59EE: db $08
L1D59EF: db $1F
L1D59F0: db $95
L1D59F1: db $6C
L1D59F2: db $43
L1D59F3: db $CC
L1D59F4: db $DC
L1D59F5: db $FE
L1D59F6: db $21
L1D59F7: db $BF
L1D59F8: db $EF
L1D59F9: db $10
L1D59FA: db $FB
L1D59FB: db $17
L1D59FC: db $07
L1D59FD: db $06
L1D59FE: db $FF
L1D59FF: db $08
L1D5A00: db $AA
L1D5A01: db $5F
L1D5A02: db $02
L1D5A03: db $53
L1D5A04: db $BB
L1D5A05: db $0E
L1D5A06: db $77
L1D5A07: db $04
L1D5A08: db $DE
L1D5A09: db $61
L1D5A0A: db $C4
L1D5A0B: db $E4
L1D5A0C: db $A8
L1D5A0D: db $04
L1D5A0E: db $60
L1D5A0F: db $07
L1D5A10: db $9F
L1D5A11: db $04
L1D5A12: db $E3
L1D5A13: db $DC
L1D5A14: db $C6
L1D5A15: db $00
L1D5A16: db $3B
L1D5A17: db $BD
L1D5A18: db $46
L1D5A19: db $FD
L1D5A1A: db $F6
L1D5A1B: db $9D
L1D5A1C: db $06
L1D5A1D: db $0D
L1D5A1E: db $8B
L1D5A1F: db $04
L1D5A20: db $85
L1D5A21: db $0E
L1D5A22: db $87
L1D5A23: db $A8
L1D5A24: db $03
L1D5A25: db $14
L1D5A26: db $05
L1D5A27: db $10
L1D5A28: db $57
L1D5A29: db $BF
L1D5A2A: db $EF
L1D5A2B: db $08
L1D5A2C: db $AE
L1D5A2D: db $5E
L1D5A2E: db $F4
L1D5A2F: db $EE
L1D5A30: db $82
L1D5A31: db $9C
L1D5A32: db $E4
L1D5A33: db $37
L1D5A34: db $CD
L1D5A35: db $8C
L1D5A36: db $F3
L1D5A37: db $C5
L1D5A38: db $01
L1D5A39: db $7D
L1D5A3A: db $02
L1D5A3B: db $4C
L1D5A3C: db $05
L1D5A3D: db $10
L1D5A3E: db $15
L1D5A3F: db $00
L1D5A40: db $07
L1D5A41: db $14
L1D5A42: db $8F
L1D5A43: db $04
L1D5A44: db $27
L1D5A45: db $2F
L1D5A46: db $A7
L1D5A47: db $00
L1D5A48: db $41
L1D5A49: db $BC
L1D5A4A: db $52
L1D5A4B: db $F2
L1D5A4C: db $07
L1D5A4D: db $04
L1D5A4E: db $BC
L1D5A4F: db $0D
L1D5A50: db $AB
L1D5A51: db $55
L1D5A52: db $B8
L1D5A53: db $C0
L1D5A54: db $BC
L1D5A55: db $04
L1D5A56: db $DF
L1D5A57: db $0E
L1D5A58: db $06
L1D5A59: db $3D
L1D5A5A: db $0D
L1D5A5B: db $AA
L1D5A5C: db $D5
L1D5A5D: db $B5
L1D5A5E: db $F0
L1D5A5F: db $A9
L1D5A60: db $9C
L1D5A61: db $80
L1D5A62: db $E2
L1D5A63: db $89
L1D5A64: db $1F
L1D5A65: db $00
L1D5A66: db $3A
L1D5A67: db $E0
L1D5A68: db $A0
L1D5A69: db $10
L1D5A6A: db $30
L1D5A6B: db $04
L1D5A6C: db $FA
L1D5A6D: db $04
L1D5A6E: db $95
L1D5A6F: db $3F
L1D5A70: db $EA
L1D5A71: db $80
L1D5A72: db $A2
L1D5A73: db $02
L1D5A74: db $10
L1D5A75: db $15
L1D5A76: db $B0
L1D5A77: db $04
L1D5A78: db $CF
L1D5A79: db $7C
L1D5A7A: db $04
L1D5A7B: db $BE
L1D5A7C: db $41
L1D5A7D: db $2F
L1D5A7E: db $07
L1D5A7F: db $07
L1D5A80: db $3C
L1D5A81: db $D5
L1D5A82: db $49
L1D5A83: db $00
L1D5A84: db $37
L1D5A85: db $04
L1D5A86: db $DC
L1D5A87: db $04
L1D5A88: db $7B
L1D5A89: db $04
L1D5A8A: db $48
L1D5A8B: db $A7
L1D5A8C: db $04
L1D5A8D: db $1A
L1D5A8E: db $FE
L1D5A8F: db $C8
L1D5A90: db $F4
L1D5A91: db $48
L1D5A92: db $E8
L1D5A93: db $F4
L1D5A94: db $B4
L1D5A95: db $00
L1D5A96: db $50
L1D5A97: db $07
L1D5A98: db $01
L1D5A99: db $B9
L1D5A9A: db $05
L1D5A9B: db $0F
L1D5A9C: db $22
L1D5A9D: db $2B
L1D5A9E: db $3F
L1D5A9F: db $ED
L1D5AA0: db $C4
L1D5AA1: db $CC
L1D5AA2: db $CE
L1D5AA3: db $00
L1D5AA4: db $8E
L1D5AA5: db $82
L1D5AA6: db $00
L1D5AA7: db $1D
L1D5AA8: db $1F
L1D5AA9: db $24
L1D5AAA: db $3C
L1D5AAB: db $30
L1D5AAC: db $00
L1D5AAD: db $02
L1D5AAE: db $6E
L1D5AAF: db $43
L1D5AB0: db $48
L1D5AB1: db $00
L1D5AB2: db $7F
L1D5AB3: db $00
L1D5AB4: db $AC
L1D5AB5: db $04
L1D5AB6: db $2F
L1D5AB7: db $D0
L1D5AB8: db $5C
L1D5AB9: db $3D
L1D5ABA: db $1C
L1D5ABB: db $3C
L1D5ABC: db $F0
L1D5ABD: db $F8
L1D5ABE: db $D0
L1D5ABF: db $D1
L1D5AC0: db $48
L1D5AC1: db $20
L1D5AC2: db $00
L1D5AC3: db $04
L1D5AC4: db $1E
L1D5AC5: db $00
L1D5AC6: db $3E
L1D5AC7: db $10
L1D5AC8: db $DE
L1D5AC9: db $C5
L1D5ACA: db $08
L1D5ACB: db $00
L1D5ACC: db $D4
L1D5ACD: db $FC
L1D5ACE: db $18
L1D5ACF: db $3C
L1D5AD0: db $C8
L1D5AD1: db $04
L1D5AD2: db $FF
L1D5AD3: db $94
L1D5AD4: db $BC
L1D5AD5: db $DD
L1D5AD6: db $01
L1D5AD7: db $F0
L1D5AD8: db $00
L1D5AD9: db $A4
L1D5ADA: db $00
L1D5ADB: db $AA
L1D5ADC: db $11
L1D5ADD: db $27
L1D5ADE: db $94
L1D5ADF: db $59
L1D5AE0: db $34
L1D5AE1: db $87
L1D5AE2: db $04
L1D5AE3: db $C6
L1D5AE4: db $AB
L1D5AE5: db $00
L1D5AE6: db $0A
L1D5AE7: db $FC
L1D5AE8: db $8C
L1D5AE9: db $FC
L1D5AEA: db $16
L1D5AEB: db $90
L1D5AEC: db $B8
L1D5AED: db $80
L1D5AEE: db $00
L1D5AEF: db $60
L1D5AF0: db $70
L1D5AF1: db $41
L1D5AF2: db $C1
L1D5AF3: db $06
L1D5AF4: db $07
L1D5AF5: db $5F
L1D5AF6: db $B3
L1D5AF7: db $FE
L1D5AF8: db $4D
L1D5AF9: db $04
L1D5AFA: db $BD
L1D5AFB: db $50
L1D5AFC: db $7C
L1D5AFD: db $B0
L1D5AFE: db $00
L1D5AFF: db $9D
L1D5B00: db $F0
L1D5B01: db $E0
L1D5B02: db $C0
L1D5B03: db $00
L1D5B04: db $9C
L1D5B05: db $64
L1D5B06: db $38
L1D5B07: db $1C
L1D5B08: db $B7
L1D5B09: db $FC
L1D5B0A: db $F0
L1D5B0B: db $08
L1D5B0C: db $F4
L1D5B0D: db $D0
L1D5B0E: db $0C
L1D5B0F: db $24
L1D5B10: db $34
L1D5B11: db $5E
L1D5B12: db $F1
L1D5B13: db $00
L1D5B14: db $33
L1D5B15: db $FF
L1D5B16: db $03
L1D5B17: db $01
L1D5B18: db $F8
L1D5B19: db $1D
L1D5B1A: db $F8
L1D5B1B: db $94
L1D5B1C: db $C4
L1D5B1D: db $34
L1D5B1E: db $70
L1D5B1F: db $04
L1D5B20: db $08
L1D5B21: db $88
L1D5B22: db $9C
L1D5B23: db $F8
L1D5B24: db $00
L1D5B25: db $14
L1D5B26: db $00
L1D5B27: db $84
L1D5B28: db $F4
L1D5B29: db $30
L1D5B2A: db $31
L1D5B2B: db $01
L1D5B2C: db $4B
L1D5B2D: db $43
L1D5B2E: db $F4
L1D5B2F: db $8F
L1D5B30: db $1F
L1D5B31: db $00
L1D5B32: db $E7
L1D5B33: db $44
L1D5B34: db $58
L1D5B35: db $B5
L1D5B36: db $00
L1D5B37: db $7B
L1D5B38: db $09
L1D5B39: db $00
L1D5B3A: db $F3
L1D5B3B: db $1C
L1D5B3C: db $AF
L1D5B3D: db $04
L1D5B3E: db $AB
L1D5B3F: db $01
L1D5B40: db $E3
L1D5B41: db $04
L1D5B42: db $51
L1D5B43: db $24
L1D5B44: db $3F
L1D5B45: db $04
L1D5B46: db $64
L1D5B47: db $FA
L1D5B48: db $08
L1D5B49: db $25
L1D5B4A: db $AD
L1D5B4B: db $88
L1D5B4C: db $3E
L1D5B4D: db $45
L1D5B4E: db $04
L1D5B4F: db $FD
L1D5B50: db $AA
L1D5B51: db $04
L1D5B52: db $9F
L1D5B53: db $04
L1D5B54: db $CC
L1D5B55: db $04
L1D5B56: db $77
L1D5B57: db $04
L1D5B58: db $97
L1D5B59: db $AB
L1D5B5A: db $04
L1D5B5B: db $79
L1D5B5C: db $04
L1D5B5D: db $C3
L1D5B5E: db $04
L1D5B5F: db $E6
L1D5B60: db $3F
L1D5B61: db $C5
L1D5B62: db $AA
L1D5B63: db $04
L1D5B64: db $FC
L1D5B65: db $04
L1D5B66: db $D7
L1D5B67: db $16
L1D5B68: db $EF
L1D5B69: db $04
L1D5B6A: db $FE
L1D5B6B: db $DE
L1D5B6C: db $3F
L1D5B6D: db $04
L1D5B6E: db $78
L1D5B6F: db $A6
L1D5B70: db $3F
L1D5B71: db $01
L1D5B72: db $95
L1D5B73: db $DF
L1D5B74: db $AA
L1D5B75: db $9E
L1D5B76: db $E7
L1D5B77: db $04
L1D5B78: db $28
L1D5B79: db $56
L1D5B7A: db $73
L1D5B7B: db $76
L1D5B7C: db $1F
L1D5B7D: db $AE
L1D5B7E: db $04
L1D5B7F: db $F8
L1D5B80: db $10
L1D5B81: db $1C
L1D5B82: db $B0
L1D5B83: db $0C
L1D5B84: db $04
L1D5B85: db $E4
L1D5B86: db $80
L1D5B87: db $04
L1D5B88: db $70
L1D5B89: db $F0
L1D5B8A: db $80
L1D5B8B: db $C0
L1D5B8C: db $40
L1D5B8D: db $E0
L1D5B8E: db $E2
L1D5B8F: db $55
L1D5B90: db $F3
L1D5B91: db $BD
L1D5B92: db $CF
L1D5B93: db $9E
L1D5B94: db $E6
L1D5B95: db $54
L1D5B96: db $7C
L1D5B97: db $44
L1D5B98: db $54
L1D5B99: db $E9
L1D5B9A: db $00
L1D5B9B: db $90
L1D5B9C: db $00
L1D5B9D: db $00
L1D5B9E: db $00
L1D5B9F: db $B3
L1D5BA0: db $B7
L1D5BA1: db $23
L1D5BA2: db $32
L1D5BA3: db $33
L1D5BA4: db $01
L1D5BA5: db $21
L1D5BA6: db $61
L1D5BA7: db $C7
L1D5BA8: db $00
L1D5BA9: db $AC
L1D5BAA: db $8D
L1D5BAB: db $00
L1D5BAC: db $3E
L1D5BAD: db $3F
L1D5BAE: db $7F
L1D5BAF: db $00
L1D5BB0: db $45
L1D5BB1: db $01
L1D5BB2: db $00
L1D5BB3: db $8B
L1D5BB4: db $0F
L1D5BB5: db $02
L1D5BB6: db $07
L1D5BB7: db $0D
L1D5BB8: db $3C
L1D5BB9: db $BF
L1D5BBA: db $9C
L1D5BBB: db $DC
L1D5BBC: db $AB
L1D5BBD: db $04
L1D5BBE: db $EF
L1D5BBF: db $04
L1D5BC0: db $17
L1D5BC1: db $04
L1D5BC2: db $F9
L1D5BC3: db $04
L1D5BC4: db $70
L1D5BC5: db $B7
L1D5BC6: db $CE
L1D5BC7: db $6D
L1D5BC8: db $04
L1D5BC9: db $3D
L1D5BCA: db $E7
L1D5BCB: db $1E
L1D5BCC: db $3F
L1D5BCD: db $3F
L1D5BCE: db $6A
L1D5BCF: db $CF
L1D5BD0: db $0E
L1D5BD1: db $01
L1D5BD2: db $A3
L1D5BD3: db $04
L1D5BD4: db $5C
L1D5BD5: db $04
L1D5BD6: db $30
L1D5BD7: db $AB
L1D5BD8: db $04
L1D5BD9: db $1E
L1D5BDA: db $04
L1D5BDB: db $80
L1D5BDC: db $04
L1D5BDD: db $13
L1D5BDE: db $04
L1D5BDF: db $D8
L1D5BE0: db $AA
L1D5BE1: db $06
L1D5BE2: db $D0
L1D5BE3: db $04
L1D5BE4: db $21
L1D5BE5: db $04
L1D5BE6: db $86
L1D5BE7: db $1E
L1D5BE8: db $60
L1D5BE9: db $AA
L1D5BEA: db $04
L1D5BEB: db $88
L1D5BEC: db $04
L1D5BED: db $01
L1D5BEE: db $1E
L1D5BEF: db $6C
L1D5BF0: db $04
L1D5BF1: db $97
L1D5BF2: db $AA
L1D5BF3: db $16
L1D5BF4: db $07
L1D5BF5: db $04
L1D5BF6: db $B0
L1D5BF7: db $04
L1D5BF8: db $04
L1D5BF9: db $04
L1D5BFA: db $C3
L1D5BFB: db $EA
L1D5BFC: db $26
L1D5BFD: db $BF
L1D5BFE: db $5D
L1D5BFF: db $9F
L1D5C00: db $04
L1D5C01: db $68
L1D5C02: db $04
L1D5C03: db $03
L1D5C04: db $AA
L1D5C05: db $04
L1D5C06: db $20
L1D5C07: db $0E
L1D5C08: db $A0
L1D5C09: db $3E
L1D5C0A: db $F0
L1D5C0B: db $3E
L1D5C0C: db $E8
L1D5C0D: db $AA
L1D5C0E: db $6E
L1D5C0F: db $F8
L1D5C10: db $04
L1D5C11: db $83
L1D5C12: db $04
L1D5C13: db $3F
L1D5C14: db $04
L1D5C15: db $90
L1D5C16: db $AA
L1D5C17: db $04
L1D5C18: db $06
L1D5C19: db $04
L1D5C1A: db $11
L1D5C1B: db $04
L1D5C1C: db $C7
L1D5C1D: db $3E
L1D5C1E: db $CC
L1D5C1F: db $B6
L1D5C20: db $04
L1D5C21: db $B9
L1D5C22: db $BF
L1D5C23: db $04
L1D5C24: db $31
L1D5C25: db $2E
L1D5C26: db $7D
L1D5C27: db $17
L1D5C28: db $D5
L1D5C29: db $7F
L1D5C2A: db $04
L1D5C2B: db $D1
L1D5C2C: db $86
L1D5C2D: db $F3
L1D5C2E: db $04
L1D5C2F: db $14
L1D5C30: db $04
L1D5C31: db $55
L1D5C32: db $EE
L1D5C33: db $04
L1D5C34: db $3D
L1D5C35: db $04
L1D5C36: db $8E
L1D5C37: db $04
L1D5C38: db $F9
L1D5C39: db $04
L1D5C3A: db $55
L1D5C3B: db $BE
L1D5C3C: db $04
L1D5C3D: db $C1
L1D5C3E: db $04
L1D5C3F: db $3E
L1D5C40: db $04
L1D5C41: db $61
L1D5C42: db $04
L1D5C43: db $57
L1D5C44: db $D7
L1D5C45: db $04
L1D5C46: db $0B
L1D5C47: db $04
L1D5C48: db $F1
L1D5C49: db $26
L1D5C4A: db $A4
L1D5C4B: db $03
L1D5C4C: db $E0
L1D5C4D: db $03
L1D5C4E: db $03
L1D5C4F: db $02
L1D5C50: db $00
BGLZ_Cutscene_StadiumBG: db $0E
L1D5C52: db $00
L1D5C53: db $42
L1D5C54: db $01
L1D5C55: db $09
L1D5C56: db $02
L1D5C57: db $03
L1D5C58: db $04
L1D5C59: db $05
L1D5C5A: db $09
L1D5C5B: db $0E
L1D5C5C: db $04
L1D5C5D: db $0F
L1D5C5E: db $11
L1D5C5F: db $06
L1D5C60: db $07
L1D5C61: db $08
L1D5C62: db $20
L1D5C63: db $09
L1D5C64: db $0A
L1D5C65: db $4C
L1D5C66: db $0B
L1D5C67: db $00
L1D5C68: db $0C
L1D5C69: db $0D
L1D5C6A: db $50
L1D5C6B: db $90
L1D5C6C: db $10
L1D5C6D: db $12
L1D5C6E: db $00
L1D5C6F: db $13
L1D5C70: db $15
L1D5C71: db $16
L1D5C72: db $19
L1D5C73: db $1A
L1D5C74: db $1D
L1D5C75: db $1E
L1D5C76: db $21
L1D5C77: db $04
L1D5C78: db $22
L1D5C79: db $25
L1D5C7A: db $26
L1D5C7B: db $29
L1D5C7C: db $2A
L1D5C7D: db $80
L1D5C7E: db $14
L1D5C7F: db $17
L1D5C80: db $00
L1D5C81: db $18
L1D5C82: db $1B
L1D5C83: db $1C
L1D5C84: db $1F
L1D5C85: db $20
L1D5C86: db $23
L1D5C87: db $24
L1D5C88: db $27
L1D5C89: db $20
L1D5C8A: db $28
L1D5C8B: db $2B
L1D5C8C: db $90
L1D5C8D: db $2C
L1D5C8E: db $2D
L1D5C8F: db $2F
L1D5C90: db $30
L1D5C91: db $33
L1D5C92: db $00
L1D5C93: db $34
L1D5C94: db $37
L1D5C95: db $38
L1D5C96: db $3B
L1D5C97: db $3C
L1D5C98: db $3E
L1D5C99: db $3F
L1D5C9A: db $42
L1D5C9B: db $00
L1D5C9C: db $43
L1D5C9D: db $46
L1D5C9E: db $2E
L1D5C9F: db $31
L1D5CA0: db $32
L1D5CA1: db $35
L1D5CA2: db $36
L1D5CA3: db $39
L1D5CA4: db $21
L1D5CA5: db $3A
L1D5CA6: db $3D
L1D5CA7: db $00
L1D5CA8: db $40
L1D5CA9: db $41
L1D5CAA: db $44
L1D5CAB: db $45
L1D5CAC: db $C0
L1D5CAD: db $00
L1D5CAE: db $47
L1D5CAF: db $49
L1D5CB0: db $4A
L1D5CB1: db $4D
L1D5CB2: db $4E
L1D5CB3: db $51
L1D5CB4: db $52
L1D5CB5: db $55
L1D5CB6: db $18
L1D5CB7: db $56
L1D5CB8: db $59
L1D5CB9: db $5A
L1D5CBA: db $30
L1D5CBB: db $01
L1D5CBC: db $48
L1D5CBD: db $4B
L1D5CBE: db $4C
L1D5CBF: db $00
L1D5CC0: db $4F
L1D5CC1: db $50
L1D5CC2: db $53
L1D5CC3: db $54
L1D5CC4: db $57
L1D5CC5: db $58
L1D5CC6: db $5B
L1D5CC7: db $5C
L1D5CC8: db $80
L1D5CC9: db $C1
L1D5CCA: db $5D
L1D5CCB: db $5E
L1D5CCC: db $5F
L1D5CCD: db $60
L1D5CCE: db $61
L1D5CCF: db $62
L1D5CD0: db $63
L1D5CD1: db $1C
L1D5CD2: db $64
L1D5CD3: db $65
L1D5CD4: db $66
L1D5CD5: db $C1
L1D5CD6: db $B0
L1D5CD7: db $21
L1D5CD8: db $00
GFXLZ_Cutscene_Goenitz: db $71
L1D5CDA: db $40
L1D5CDB: db $7A
L1D5CDC: db $00
L1D5CDD: db $07
L1D5CDE: db $07
L1D5CDF: db $07
L1D5CE0: db $00
L1D5CE1: db $07
L1D5CE2: db $08
L1D5CE3: db $1E
L1D5CE4: db $15
L1D5CE5: db $06
L1D5CE6: db $38
L1D5CE7: db $18
L1D5CE8: db $5D
L1D5CE9: db $78
L1D5CEA: db $08
L1D5CEB: db $3E
L1D5CEC: db $48
L1D5CED: db $06
L1D5CEE: db $DF
L1D5CEF: db $0E
L1D5CF0: db $FF
L1D5CF1: db $C7
L1D5CF2: db $0F
L1D5CF3: db $00
L1D5CF4: db $7D
L1D5CF5: db $1C
L1D5CF6: db $C5
L1D5CF7: db $08
L1D5CF8: db $C8
L1D5CF9: db $10
L1D5CFA: db $7B
L1D5CFB: db $30
L1D5CFC: db $78
L1D5CFD: db $6B
L1D5CFE: db $08
L1D5CFF: db $6A
L1D5D00: db $7F
L1D5D01: db $7D
L1D5D02: db $03
L1D5D03: db $E0
L1D5D04: db $08
L1D5D05: db $F8
L1D5D06: db $10
L1D5D07: db $FE
L1D5D08: db $DF
L1D5D09: db $10
L1D5D0A: db $5D
L1D5D0B: db $01
L1D5D0C: db $0A
L1D5D0D: db $2D
L1D5D0E: db $4D
L1D5D0F: db $9F
L1D5D10: db $09
L1D5D11: db $01
L1D5D12: db $1E
L1D5D13: db $06
L1D5D14: db $78
L1D5D15: db $18
L1D5D16: db $E0
L1D5D17: db $60
L1D5D18: db $F0
L1D5D19: db $00
L1D5D1A: db $98
L1D5D1B: db $18
L1D5D1C: db $A0
L1D5D1D: db $F8
L1D5D1E: db $40
L1D5D1F: db $20
L1D5D20: db $D0
L1D5D21: db $F1
L1D5D22: db $B1
L1D5D23: db $55
L1D5D24: db $03
L1D5D25: db $00
L1D5D26: db $07
L1D5D27: db $00
L1D5D28: db $0F
L1D5D29: db $00
L1D5D2A: db $11
L1D5D2B: db $00
L1D5D2C: db $D0
L1D5D2D: db $FA
L1D5D2E: db $00
L1D5D2F: db $83
L1D5D30: db $02
L1D5D31: db $FB
L1D5D32: db $3B
L1D5D33: db $FF
L1D5D34: db $6F
L1D5D35: db $B5
L1D5D36: db $08
L1D5D37: db $5F
L1D5D38: db $08
L1D5D39: db $29
L1D5D3A: db $33
L1D5D3B: db $08
L1D5D3C: db $2B
L1D5D3D: db $08
L1D5D3E: db $4A
L1D5D3F: db $1D
L1D5D40: db $08
L1D5D41: db $1E
L1D5D42: db $17
L1D5D43: db $00
L1D5D44: db $B7
L1D5D45: db $00
L1D5D46: db $BF
L1D5D47: db $EA
L1D5D48: db $00
L1D5D49: db $38
L1D5D4A: db $01
L1D5D4B: db $7F
L1D5D4C: db $0A
L1D5D4D: db $BB
L1D5D4E: db $08
L1D5D4F: db $9B
L1D5D50: db $D5
L1D5D51: db $4A
L1D5D52: db $00
L1D5D53: db $F9
L1D5D54: db $00
L1D5D55: db $EC
L1D5D56: db $00
L1D5D57: db $A6
L1D5D58: db $00
L1D5D59: db $53
L1D5D5A: db $83
L1D5D5B: db $02
L1D5D5C: db $8B
L1D5D5D: db $00
L1D5D5E: db $FC
L1D5D5F: db $F0
L1D5D60: db $70
L1D5D61: db $10
L1D5D62: db $96
L1D5D63: db $E2
L1D5D64: db $7E
L1D5D65: db $3F
L1D5D66: db $00
L1D5D67: db $BF
L1D5D68: db $00
L1D5D69: db $30
L1D5D6A: db $FE
L1D5D6B: db $AE
L1D5D6C: db $49
L1D5D6D: db $9F
L1D5D6E: db $00
L1D5D6F: db $DF
L1D5D70: db $00
L1D5D71: db $29
L1D5D72: db $04
L1D5D73: db $F7
L1D5D74: db $AA
L1D5D75: db $08
L1D5D76: db $77
L1D5D77: db $08
L1D5D78: db $76
L1D5D79: db $4C
L1D5D7A: db $FD
L1D5D7B: db $CA
L1D5D7C: db $F6
L1D5D7D: db $A5
L1D5D7E: db $5A
L1D5D7F: db $64
L1D5D80: db $08
L1D5D81: db $52
L1D5D82: db $00
L1D5D83: db $02
L1D5D84: db $80
L1D5D85: db $08
L1D5D86: db $6F
L1D5D87: db $C0
L1D5D88: db $1B
L1D5D89: db $10
L1D5D8A: db $E0
L1D5D8B: db $2C
L1D5D8C: db $0D
L1D5D8D: db $49
L1D5D8E: db $AB
L1D5D8F: db $B4
L1D5D90: db $09
L1D5D91: db $01
L1D5D92: db $0E
L1D5D93: db $01
L1D5D94: db $07
L1D5D95: db $08
L1D5D96: db $0D
L1D5D97: db $05
L1D5D98: db $4A
L1D5D99: db $0B
L1D5D9A: db $40
L1D5D9B: db $17
L1D5D9C: db $04
L1D5D9D: db $08
L1D5D9E: db $03
L1D5D9F: db $08
L1D5DA0: db $02
L1D5DA1: db $0F
L1D5DA2: db $1F
L1D5DA3: db $0E
L1D5DA4: db $0F
L1D5DA5: db $06
L1D5DA6: db $08
L1D5DA7: db $80
L1D5DA8: db $00
L1D5DA9: db $68
L1D5DAA: db $D4
L1D5DAB: db $08
L1D5DAC: db $48
L1D5DAD: db $FF
L1D5DAE: db $30
L1D5DAF: db $FD
L1D5DB0: db $B0
L1D5DB1: db $FC
L1D5DB2: db $1C
L1D5DB3: db $2A
L1D5DB4: db $F8
L1D5DB5: db $18
L1D5DB6: db $08
L1D5DB7: db $38
L1D5DB8: db $28
L1D5DB9: db $3C
L1D5DBA: db $08
L1D5DBB: db $78
L1D5DBC: db $A8
L1D5DBD: db $68
L1D5DBE: db $7D
L1D5DBF: db $08
L1D5DC0: db $29
L1D5DC1: db $08
L1D5DC2: db $B2
L1D5DC3: db $CF
L1D5DC4: db $CB
L1D5DC5: db $57
L1D5DC6: db $40
L1D5DC7: db $00
L1D5DC8: db $00
L1D5DC9: db $00
L1D5DCA: db $30
L1D5DCB: db $00
L1D5DCC: db $A0
L1D5DCD: db $00
L1D5DCE: db $AA
L1D5DCF: db $C0
L1D5DD0: db $14
L1D5DD1: db $68
L1D5DD2: db $7E
L1D5DD3: db $08
L1D5DD4: db $67
L1D5DD5: db $08
L1D5DD6: db $79
L1D5DD7: db $02
L1D5DD8: db $7F
L1D5DD9: db $20
L1D5DDA: db $FD
L1D5DDB: db $B4
L1D5DDC: db $FE
L1D5DDD: db $3A
L1D5DDE: db $38
L1D5DDF: db $BD
L1D5DE0: db $4A
L1D5DE1: db $FB
L1D5DE2: db $18
L1D5DE3: db $CE
L1D5DE4: db $CA
L1D5DE5: db $28
L1D5DE6: db $3B
L1D5DE7: db $08
L1D5DE8: db $9D
L1D5DE9: db $89
L1D5DEA: db $08
L1D5DEB: db $0D
L1D5DEC: db $BF
L1D5DED: db $80
L1D5DEE: db $18
L1D5DEF: db $51
L1D5DF0: db $77
L1D5DF1: db $A8
L1D5DF2: db $AA
L1D5DF3: db $18
L1D5DF4: db $01
L1D5DF5: db $08
L1D5DF6: db $65
L1D5DF7: db $08
L1D5DF8: db $53
L1D5DF9: db $08
L1D5DFA: db $37
L1D5DFB: db $14
L1D5DFC: db $DF
L1D5DFD: db $5F
L1D5DFE: db $9E
L1D5DFF: db $00
L1D5E00: db $3C
L1D5E01: db $00
L1D5E02: db $B8
L1D5E03: db $B0
L1D5E04: db $3B
L1D5E05: db $F8
L1D5E06: db $E0
L1D5E07: db $58
L1D5E08: db $28
L1D5E09: db $08
L1D5E0A: db $FC
L1D5E0B: db $08
L1D5E0C: db $30
L1D5E0D: db $1D
L1D5E0E: db $7F
L1D5E0F: db $78
L1D5E10: db $3F
L1D5E11: db $38
L1D5E12: db $09
L1D5E13: db $28
L1D5E14: db $7E
L1D5E15: db $48
L1D5E16: db $05
L1D5E17: db $E6
L1D5E18: db $F9
L1D5E19: db $E9
L1D5E1A: db $F7
L1D5E1B: db $47
L1D5E1C: db $28
L1D5E1D: db $5C
L1D5E1E: db $08
L1D5E1F: db $51
L1D5E20: db $58
L1D5E21: db $08
L1D5E22: db $80
L1D5E23: db $08
L1D5E24: db $C2
L1D5E25: db $FB
L1D5E26: db $81
L1D5E27: db $2A
L1D5E28: db $54
L1D5E29: db $9E
L1D5E2A: db $08
L1D5E2B: db $32
L1D5E2C: db $08
L1D5E2D: db $4E
L1D5E2E: db $08
L1D5E2F: db $02
L1D5E30: db $AF
L1D5E31: db $00
L1D5E32: db $86
L1D5E33: db $DF
L1D5E34: db $8E
L1D5E35: db $BF
L1D5E36: db $1E
L1D5E37: db $EF
L1D5E38: db $2C
L1D5E39: db $C0
L1D5E3A: db $74
L1D5E3B: db $00
L1D5E3C: db $0D
L1D5E3D: db $C0
L1D5E3E: db $08
L1D5E3F: db $F0
L1D5E40: db $08
L1D5E41: db $F8
L1D5E42: db $70
L1D5E43: db $8A
L1D5E44: db $08
L1D5E45: db $B0
L1D5E46: db $FC
L1D5E47: db $18
L1D5E48: db $08
L1D5E49: db $68
L1D5E4A: db $08
L1D5E4B: db $28
L1D5E4C: db $BB
L1D5E4D: db $08
L1D5E4E: db $A8
L1D5E4F: db $49
L1D5E50: db $69
L1D5E51: db $88
L1D5E52: db $A0
L1D5E53: db $09
L1D5E54: db $A0
L1D5E55: db $D4
L1D5E56: db $07
L1D5E57: db $00
L1D5E58: db $01
L1D5E59: db $08
L1D5E5A: db $07
L1D5E5B: db $10
L1D5E5C: db $1D
L1D5E5D: db $05
L1D5E5E: db $C9
L1D5E5F: db $19
L1D5E60: db $08
L1D5E61: db $02
L1D5E62: db $0B
L1D5E63: db $48
L1D5E64: db $0F
L1D5E65: db $04
L1D5E66: db $08
L1D5E67: db $EF
L1D5E68: db $48
L1D5E69: db $08
L1D5E6A: db $38
L1D5E6B: db $06
L1D5E6C: db $D7
L1D5E6D: db $02
L1D5E6E: db $68
L1D5E6F: db $08
L1D5E70: db $42
L1D5E71: db $FD
L1D5E72: db $88
L1D5E73: db $F3
L1D5E74: db $91
L1D5E75: db $EF
L1D5E76: db $2B
L1D5E77: db $49
L1D5E78: db $01
L1D5E79: db $A8
L1D5E7A: db $08
L1D5E7B: db $03
L1D5E7C: db $08
L1D5E7D: db $3F
L1D5E7E: db $08
L1D5E7F: db $DF
L1D5E80: db $10
L1D5E81: db $BF
L1D5E82: db $11
L1D5E83: db $20
L1D5E84: db $5F
L1D5E85: db $40
L1D5E86: db $28
L1D5E87: db $90
L1D5E88: db $F8
L1D5E89: db $18
L1D5E8A: db $08
L1D5E8B: db $14
L1D5E8C: db $C8
L1D5E8D: db $FC
L1D5E8E: db $14
L1D5E8F: db $08
L1D5E90: db $98
L1D5E91: db $08
L1D5E92: db $0C
L1D5E93: db $7D
L1D5E94: db $20
L1D5E95: db $2C
L1D5E96: db $DD
L1D5E97: db $18
L1D5E98: db $DE
L1D5E99: db $06
L1D5E9A: db $FE
L1D5E9B: db $F2
L1D5E9C: db $1E
L1D5E9D: db $8E
L1D5E9E: db $18
L1D5E9F: db $3C
L1D5EA0: db $1C
L1D5EA1: db $38
L1D5EA2: db $00
L1D5EA3: db $10
L1D5EA4: db $B8
L1D5EA5: db $CE
L1D5EA6: db $00
L1D5EA7: db $4A
L1D5EA8: db $E7
L1D5EA9: db $E5
L1D5EAA: db $F3
L1D5EAB: db $B2
L1D5EAC: db $AE
L1D5EAD: db $46
L1D5EAE: db $2F
L1D5EAF: db $01
L1D5EB0: db $C3
L1D5EB1: db $17
L1D5EB2: db $E1
L1D5EB3: db $0B
L1D5EB4: db $F0
L1D5EB5: db $0D
L1D5EB6: db $F4
L1D5EB7: db $B0
L1D5EB8: db $00
L1D5EB9: db $FA
L1D5EBA: db $03
L1D5EBB: db $FD
L1D5EBC: db $81
L1D5EBD: db $7E
L1D5EBE: db $7F
L1D5EBF: db $5F
L1D5EC0: db $1F
L1D5EC1: db $25
L1D5EC2: db $00
L1D5EC3: db $C0
L1D5EC4: db $00
L1D5EC5: db $FF
L1D5EC6: db $FC
L1D5EC7: db $08
L1D5EC8: db $3E
L1D5EC9: db $08
L1D5ECA: db $C5
L1D5ECB: db $40
L1D5ECC: db $58
L1D5ECD: db $0A
L1D5ECE: db $BF
L1D5ECF: db $82
L1D5ED0: db $28
L1D5ED1: db $87
L1D5ED2: db $50
L1D5ED3: db $15
L1D5ED4: db $90
L1D5ED5: db $FE
L1D5ED6: db $98
L1D5ED7: db $28
L1D5ED8: db $8C
L1D5ED9: db $08
L1D5EDA: db $AF
L1D5EDB: db $08
L1D5EDC: db $50
L1D5EDD: db $CF
L1D5EDE: db $08
L1D5EDF: db $9F
L1D5EE0: db $08
L1D5EE1: db $3F
L1D5EE2: db $07
L1D5EE3: db $05
L1D5EE4: db $0F
L1D5EE5: db $57
L1D5EE6: db $0C
L1D5EE7: db $C0
L1D5EE8: db $1A
L1D5EE9: db $30
L1D5EEA: db $34
L1D5EEB: db $98
L1D5EEC: db $B0
L1D5EED: db $08
L1D5EEE: db $57
L1D5EEF: db $F8
L1D5EF0: db $08
L1D5EF1: db $F0
L1D5EF2: db $78
L1D5EF3: db $F4
L1D5EF4: db $08
L1D5EF5: db $38
L1D5EF6: db $08
L1D5EF7: db $3D
L1D5EF8: db $01
L1D5EF9: db $7F
L1D5EFA: db $00
L1D5EFB: db $18
L1D5EFC: db $90
L1D5EFD: db $08
L1D5EFE: db $3E
L1D5EFF: db $4A
L1D5F00: db $55
L1D5F01: db $E8
L1D5F02: db $08
L1D5F03: db $41
L1D5F04: db $08
L1D5F05: db $E4
L1D5F06: db $A8
L1D5F07: db $CD
L1D5F08: db $40
L1D5F09: db $54
L1D5F0A: db $9B
L1D5F0B: db $08
L1D5F0C: db $1B
L1D5F0D: db $E0
L1D5F0E: db $37
L1D5F0F: db $E0
L1D5F10: db $6F
L1D5F11: db $E0
L1D5F12: db $11
L1D5F13: db $DF
L1D5F14: db $C1
L1D5F15: db $BE
L1D5F16: db $18
L1D5F17: db $40
L1D5F18: db $C0
L1D5F19: db $80
L1D5F1A: db $00
L1D5F1B: db $7D
L1D5F1C: db $00
L1D5F1D: db $07
L1D5F1E: db $03
L1D5F1F: db $69
L1D5F20: db $88
L1D5F21: db $08
L1D5F22: db $FF
L1D5F23: db $08
L1D5F24: db $0D
L1D5F25: db $FB
L1D5F26: db $0A
L1D5F27: db $FD
L1D5F28: db $05
L1D5F29: db $09
L1D5F2A: db $28
L1D5F2B: db $0B
L1D5F2C: db $AF
L1D5F2D: db $B1
L1D5F2E: db $99
L1D5F2F: db $FE
L1D5F30: db $C0
L1D5F31: db $A8
L1D5F32: db $DC
L1D5F33: db $EB
L1D5F34: db $6A
L1D5F35: db $7F
L1D5F36: db $B5
L1D5F37: db $9D
L1D5F38: db $F0
L1D5F39: db $11
L1D5F3A: db $04
L1D5F3B: db $01
L1D5F3C: db $0A
L1D5F3D: db $03
L1D5F3E: db $10
L1D5F3F: db $A0
L1D5F40: db $09
L1D5F41: db $07
L1D5F42: db $08
L1D5F43: db $33
L1D5F44: db $12
L1D5F45: db $67
L1D5F46: db $24
L1D5F47: db $CF
L1D5F48: db $04
L1D5F49: db $48
L1D5F4A: db $BF
L1D5F4B: db $B1
L1D5F4C: db $7E
L1D5F4D: db $60
L1D5F4E: db $08
L1D5F4F: db $40
L1D5F50: db $FE
L1D5F51: db $32
L1D5F52: db $80
L1D5F53: db $FF
L1D5F54: db $89
L1D5F55: db $A0
L1D5F56: db $0F
L1D5F57: db $02
L1D5F58: db $09
L1D5F59: db $1F
L1D5F5A: db $DF
L1D5F5B: db $E8
L1D5F5C: db $0B
L1D5F5D: db $3F
L1D5F5E: db $0A
L1D5F5F: db $89
L1D5F60: db $08
L1D5F61: db $19
L1D5F62: db $0F
L1D5F63: db $80
L1D5F64: db $0A
L1D5F65: db $DE
L1D5F66: db $52
L1D5F67: db $9C
L1D5F68: db $84
L1D5F69: db $3C
L1D5F6A: db $24
L1D5F6B: db $7E
L1D5F6C: db $6C
L1D5F6D: db $46
L1D5F6E: db $09
L1D5F6F: db $58
L1D5F70: db $83
L1D5F71: db $0A
L1D5F72: db $E8
L1D5F73: db $EF
L1D5F74: db $20
L1D5F75: db $A8
L1D5F76: db $18
L1D5F77: db $18
L1D5F78: db $0A
L1D5F79: db $0C
L1D5F7A: db $08
L1D5F7B: db $04
L1D5F7C: db $7F
L1D5F7D: db $02
L1D5F7E: db $CF
L1D5F7F: db $08
L1D5F80: db $E8
L1D5F81: db $BF
L1D5F82: db $80
L1D5F83: db $38
L1D5F84: db $18
L1D5F85: db $0F
L1D5F86: db $0E
L1D5F87: db $55
L1D5F88: db $E0
L1D5F89: db $08
L1D5F8A: db $60
L1D5F8B: db $08
L1D5F8C: db $30
L1D5F8D: db $08
L1D5F8E: db $10
L1D5F8F: db $08
L1D5F90: db $49
L1D5F91: db $08
L1D5F92: db $7D
L1D5F93: db $80
L1D5F94: db $7F
L1D5F95: db $09
L1D5F96: db $C0
L1D5F97: db $3F
L1D5F98: db $09
L1D5F99: db $A0
L1D5F9A: db $B0
L1D5F9B: db $1F
L1D5F9C: db $09
L1D5F9D: db $F0
L1D5F9E: db $0F
L1D5F9F: db $F8
L1D5FA0: db $07
L1D5FA1: db $DF
L1D5FA2: db $20
L1D5FA3: db $50
L1D5FA4: db $67
L1D5FA5: db $80
L1D5FA6: db $13
L1D5FA7: db $E2
L1D5FA8: db $09
L1D5FA9: db $F1
L1D5FAA: db $04
L1D5FAB: db $98
L1D5FAC: db $50
L1D5FAD: db $02
L1D5FAE: db $FC
L1D5FAF: db $0B
L1D5FB0: db $00
L1D5FB1: db $03
L1D5FB2: db $FE
L1D5FB3: db $01
L1D5FB4: db $30
L1D5FB5: db $FF
L1D5FB6: db $00
L1D5FB7: db $0C
L1D5FB8: db $F8
L1D5FB9: db $E7
L1D5FBA: db $26
L1D5FBB: db $C7
L1D5FBC: db $44
L1D5FBD: db $80
L1D5FBE: db $9B
L1D5FBF: db $82
L1D5FC0: db $7C
L1D5FC1: db $62
L1D5FC2: db $9C
L1D5FC3: db $9E
L1D5FC4: db $60
L1D5FC5: db $C3
L1D5FC6: db $14
L1D5FC7: db $3C
L1D5FC8: db $F7
L1D5FC9: db $89
L1D5FCA: db $50
L1D5FCB: db $C4
L1D5FCC: db $A8
L1D5FCD: db $07
L1D5FCE: db $FB
L1D5FCF: db $00
L1D5FD0: db $08
L1D5FD1: db $E4
L1D5FD2: db $23
L1D5FD3: db $C8
L1D5FD4: db $47
L1D5FD5: db $90
L1D5FD6: db $0F
L1D5FD7: db $A0
L1D5FD8: db $C1
L1D5FD9: db $F8
L1D5FDA: db $0B
L1D5FDB: db $81
L1D5FDC: db $7E
L1D5FDD: db $01
L1D5FDE: db $FE
L1D5FDF: db $03
L1D5FE0: db $B0
L1D5FE1: db $DA
L1D5FE2: db $09
L1D5FE3: db $B0
L1D5FE4: db $F8
L1D5FE5: db $09
L1D5FE6: db $90
L1D5FE7: db $F0
L1D5FE8: db $70
L1D5FE9: db $E0
L1D5FEA: db $88
L1D5FEB: db $AD
L1D5FEC: db $A3
L1D5FED: db $1C
L1D5FEE: db $BC
L1D5FEF: db $90
L1D5FF0: db $E1
L1D5FF1: db $1E
L1D5FF2: db $F7
L1D5FF3: db $00
L1D5FF4: db $48
L1D5FF5: db $DF
L1D5FF6: db $51
L1D5FF7: db $3F
L1D5FF8: db $C0
L1D5FF9: db $7F
L1D5FFA: db $80
L1D5FFB: db $FF
L1D5FFC: db $62
L1D5FFD: db $00
L1D5FFE: db $1B
L1D5FFF: db $08
L1D6000: db $78
L1D6001: db $9F
L1D6002: db $94
L1D6003: db $C0
L1D6004: db $06
L1D6005: db $EA
L1D6006: db $98
L1D6007: db $08
L1D6008: db $38
L1D6009: db $18
L1D600A: db $08
L1D600B: db $10
L1D600C: db $08
L1D600D: db $20
L1D600E: db $4A
L1D600F: db $FE
L1D6010: db $78
L1D6011: db $FD
L1D6012: db $01
L1D6013: db $28
L1D6014: db $07
L1D6015: db $08
L1D6016: db $0E
L1D6017: db $00
L1D6018: db $EB
L1D6019: db $62
L1D601A: db $D9
L1D601B: db $51
L1D601C: db $99
L1D601D: db $81
L1D601E: db $3B
L1D601F: db $2B
L1D6020: db $2B
L1D6021: db $FB
L1D6022: db $CA
L1D6023: db $C8
L1D6024: db $86
L1D6025: db $68
L1D6026: db $0C
L1D6027: db $DA
L1D6028: db $09
L1D6029: db $5E
L1D602A: db $30
L1D602B: db $08
L1D602C: db $40
L1D602D: db $08
L1D602E: db $E8
L1D602F: db $0F
L1D6030: db $08
L1D6031: db $10
L1D6032: db $B0
L1D6033: db $08
L1D6034: db $20
L1D6035: db $5F
L1D6036: db $0B
L1D6037: db $D8
L1D6038: db $50
L1D6039: db $CC
L1D603A: db $08
L1D603B: db $00
L1D603C: db $D6
L1D603D: db $14
L1D603E: db $DA
L1D603F: db $18
L1D6040: db $DB
L1D6041: db $12
L1D6042: db $FD
L1D6043: db $34
L1D6044: db $8E
L1D6045: db $08
L1D6046: db $21
L1D6047: db $FE
L1D6048: db $62
L1D6049: db $80
L1D604A: db $07
L1D604B: db $02
L1D604C: db $80
L1D604D: db $97
L1D604E: db $0A
L1D604F: db $FF
L1D6050: db $41
L1D6051: db $08
L1D6052: db $40
L1D6053: db $08
L1D6054: db $29
L1D6055: db $0F
L1D6056: db $BB
L1D6057: db $08
L1D6058: db $C0
L1D6059: db $09
L1D605A: db $A0
L1D605B: db $09
L1D605C: db $E0
L1D605D: db $28
L1D605E: db $0B
L1D605F: db $6A
L1D6060: db $F0
L1D6061: db $0A
L1D6062: db $88
L1D6063: db $7E
L1D6064: db $08
L1D6065: db $67
L1D6066: db $08
L1D6067: db $79
L1D6068: db $2A
L1D6069: db $7F
L1D606A: db $2E
L1D606B: db $18
L1D606C: db $B7
L1D606D: db $08
L1D606E: db $39
L1D606F: db $08
L1D6070: db $BC
L1D6071: db $0A
L1D6072: db $FB
L1D6073: db $3A
L1D6074: db $CE
L1D6075: db $CA
L1D6076: db $28
L1D6077: db $3B
L1D6078: db $08
L1D6079: db $9D
L1D607A: db $AB
L1D607B: db $08
L1D607C: db $0D
L1D607D: db $08
L1D607E: db $C0
L1D607F: db $08
L1D6080: db $F1
L1D6081: db $08
L1D6082: db $E9
L1D6083: db $05
L1D6084: db $09
L1D6085: db $F9
L1D6086: db $E9
L1D6087: db $F7
L1D6088: db $47
L1D6089: db $28
L1D608A: db $5C
L1D608B: db $08
L1D608C: db $56
L1D608D: db $58
L1D608E: db $08
L1D608F: db $80
L1D6090: db $08
L1D6091: db $C3
L1D6092: db $1A
L1D6093: db $09
L1D6094: db $9E
L1D6095: db $AA
L1D6096: db $08
L1D6097: db $3E
L1D6098: db $08
L1D6099: db $66
L1D609A: db $08
L1D609B: db $1E
L1D609C: db $08
L1D609D: db $FA
L1D609E: db $A8
L1D609F: db $08
L1D60A0: db $E6
L1D60A1: db $08
L1D60A2: db $0E
L1D60A3: db $D8
L1D60A4: db $14
L1D60A5: db $FE
L1D60A6: db $F2
L1D60A7: db $86
L1D60A8: db $50
L1D60A9: db $06
L1D60AA: db $3C
L1D60AB: db $1C
L1D60AC: db $38
L1D60AD: db $00
L1D60AE: db $10
L1D60AF: db $18
L1D60B0: db $00
L1D60B1: db $CE
L1D60B2: db $4A
L1D60B3: db $E7
L1D60B4: db $E5
L1D60B5: db $73
L1D60B6: db $32
L1D60B7: db $3F
L1D60B8: db $1F
L1D60B9: db $9A
L1D60BA: db $00
L1D60BB: db $00
L1D60BC: db $C0
L1D60BD: db $00
L1D60BE: db $C8
L1D60BF: db $FC
L1D60C0: db $08
L1D60C1: db $3E
L1D60C2: db $C2
L1D60C3: db $08
L1D60C4: db $40
L1D60C5: db $7F
L1D60C6: db $0A
L1D60C7: db $BF
L1D60C8: db $82
L1D60C9: db $4A
L1D60CA: db $01
L1D60CB: db $AA
L1D60CC: db $38
L1D60CD: db $69
L1D60CE: db $18
L1D60CF: db $0D
L1D60D0: db $08
L1D60D1: db $3C
L1D60D2: db $4A
L1D60D3: db $E8
L1D60D4: db $80
L1D60D5: db $08
L1D60D6: db $41
BGLZ_Cutscene_Goenitz: db $09
L1D60D8: db $00
L1D60D9: db $43
L1D60DA: db $00
L1D60DB: db $02
L1D60DC: db $01
L1D60DD: db $02
L1D60DE: db $03
L1D60DF: db $04
L1D60E0: db $73
L1D60E1: db $02
L1D60E2: db $02
L1D60E3: db $05
L1D60E4: db $07
L1D60E5: db $08
L1D60E6: db $0B
L1D60E7: db $0C
L1D60E8: db $0F
L1D60E9: db $B5
L1D60EA: db $06
L1D60EB: db $04
L1D60EC: db $09
L1D60ED: db $0A
L1D60EE: db $0D
L1D60EF: db $0E
L1D60F0: db $10
L1D60F1: db $B5
L1D60F2: db $11
L1D60F3: db $13
L1D60F4: db $08
L1D60F5: db $14
L1D60F6: db $17
L1D60F7: db $18
L1D60F8: db $1B
L1D60F9: db $B5
L1D60FA: db $12
L1D60FB: db $15
L1D60FC: db $16
L1D60FD: db $10
L1D60FE: db $19
L1D60FF: db $1A
L1D6100: db $1C
L1D6101: db $B5
L1D6102: db $1E
L1D6103: db $21
L1D6104: db $22
L1D6105: db $25
L1D6106: db $20
L1D6107: db $26
L1D6108: db $29
L1D6109: db $93
L1D610A: db $1D
L1D610B: db $1F
L1D610C: db $20
L1D610D: db $23
L1D610E: db $24
L1D610F: db $04
L1D6110: db $27
L1D6111: db $28
L1D6112: db $2A
L1D6113: db $2B
L1D6114: db $2C
L1D6115: db $A0
L1D6116: db $2D
L1D6117: db $2E
L1D6118: db $00
L1D6119: db $31
L1D611A: db $32
L1D611B: db $35
L1D611C: db $36
L1D611D: db $39
L1D611E: db $3A
L1D611F: db $3D
L1D6120: db $3E
L1D6121: db $00
L1D6122: db $41
L1D6123: db $42
L1D6124: db $2F
L1D6125: db $30
L1D6126: db $33
L1D6127: db $34
L1D6128: db $37
L1D6129: db $38
L1D612A: db $00
L1D612B: db $3B
L1D612C: db $3C
L1D612D: db $3F
L1D612E: db $40
L1D612F: db $43
L1D6130: db $44
BGLZ_Cutscene_GoenitzDefeated: db $45
L1D6132: db $46
L1D6133: db $47
L1D6134: db $48
L1D6135: db $21
L1D6136: db $49
L1D6137: db $25
L1D6138: db $26
L1D6139: db $23
L1D613A: db $4A
L1D613B: db $4B
L1D613C: db $28
GFXLZ_Cutscene_GoenitzEscape: db $71
L1D613E: db $00
L1D613F: db $69
L1D6140: db $00
L1D6141: db $0F
L1D6142: db $06
L1D6143: db $18
L1D6144: db $10
L1D6145: db $34
L1D6146: db $10
L1D6147: db $13
L1D6148: db $A5
L1D6149: db $B3
L1D614A: db $30
L1D614B: db $10
L1D614C: db $68
L1D614D: db $20
L1D614E: db $13
L1D614F: db $78
L1D6150: db $80
L1D6151: db $F4
L1D6152: db $10
L1D6153: db $30
L1D6154: db $F3
L1D6155: db $01
L1D6156: db $70
L1D6157: db $10
L1D6158: db $D8
L1D6159: db $50
L1D615A: db $2D
L1D615B: db $C8
L1D615C: db $40
L1D615D: db $11
L1D615E: db $F8
L1D615F: db $81
L1D6160: db $02
L1D6161: db $03
L1D6162: db $10
L1D6163: db $2E
L1D6164: db $06
L1D6165: db $02
L1D6166: db $11
L1D6167: db $07
L1D6168: db $60
L1D6169: db $10
L1D616A: db $32
L1D616B: db $3C
L1D616C: db $61
L1D616D: db $18
L1D616E: db $10
L1D616F: db $D0
L1D6170: db $34
L1D6171: db $10
L1D6172: db $BE
L1D6173: db $1C
L1D6174: db $10
L1D6175: db $80
L1D6176: db $30
L1D6177: db $99
L1D6178: db $08
L1D6179: db $9F
L1D617A: db $0C
L1D617B: db $5C
L1D617C: db $04
L1D617D: db $03
L1D617E: db $68
L1D617F: db $01
L1D6180: db $11
L1D6181: db $00
L1D6182: db $00
L1D6183: db $09
L1D6184: db $FF
L1D6185: db $8F
L1D6186: db $9F
L1D6187: db $34
L1D6188: db $87
L1D6189: db $F0
L1D618A: db $00
L1D618B: db $50
L1D618C: db $7F
L1D618D: db $00
L1D618E: db $1F
L1D618F: db $3F
L1D6190: db $D2
L1D6191: db $10
L1D6192: db $00
L1D6193: db $0F
L1D6194: db $11
L1D6195: db $68
L1D6196: db $20
L1D6197: db $11
L1D6198: db $78
L1D6199: db $62
L1D619A: db $30
L1D619B: db $10
L1D619C: db $30
L1D619D: db $6D
L1D619E: db $28
L1D619F: db $75
L1D61A0: db $50
L1D61A1: db $FF
L1D61A2: db $20
L1D61A3: db $44
L1D61A4: db $4E
L1D61A5: db $00
L1D61A6: db $F8
L1D61A7: db $50
L1D61A8: db $D8
L1D61A9: db $40
L1D61AA: db $E8
L1D61AB: db $45
L1D61AC: db $60
L1D61AD: db $50
L1D61AE: db $10
L1D61AF: db $98
L1D61B0: db $80
L1D61B1: db $70
L1D61B2: db $D0
L1D61B3: db $70
L1D61B4: db $28
L1D61B5: db $20
L1D61B6: db $78
L1D61B7: db $D0
L1D61B8: db $F1
L1D61B9: db $00
L1D61BA: db $FF
L1D61BB: db $3F
L1D61BC: db $7F
L1D61BD: db $05
L1D61BE: db $4C
L1D61BF: db $1E
L1D61C0: db $12
L1D61C1: db $ED
L1D61C2: db $E5
L1D61C3: db $70
L1D61C4: db $F7
L1D61C5: db $12
L1D61C6: db $90
L1D61C7: db $00
L1D61C8: db $F8
L1D61C9: db $F0
L1D61CA: db $20
L1D61CB: db $00
L1D61CC: db $87
L1D61CD: db $85
L1D61CE: db $3F
L1D61CF: db $EB
L1D61D0: db $00
L1D61D1: db $91
L1D61D2: db $02
L1D61D3: db $FE
L1D61D4: db $00
L1D61D5: db $FC
L1D61D6: db $C0
L1D61D7: db $04
L1D61D8: db $50
L1D61D9: db $60
L1D61DA: db $10
L1D61DB: db $F0
L1D61DC: db $20
L1D61DD: db $B0
L1D61DE: db $20
L1D61DF: db $B8
L1D61E0: db $30
L1D61E1: db $00
L1D61E2: db $D8
L1D61E3: db $50
L1D61E4: db $FC
L1D61E5: db $38
L1D61E6: db $9C
L1D61E7: db $98
L1D61E8: db $78
L1D61E9: db $70
L1D61EA: db $AA
L1D61EB: db $D0
L1D61EC: db $E0
L1D61ED: db $00
L1D61EE: db $C0
L1D61EF: db $00
L1D61F0: db $00
L1D61F1: db $0F
L1D61F2: db $08
L1D61F3: db $AB
L1D61F4: db $10
L1D61F5: db $0F
L1D61F6: db $11
L1D61F7: db $07
L1D61F8: db $00
L1D61F9: db $03
L1D61FA: db $00
L1D61FB: db $50
L1D61FC: db $70
L1D61FD: db $01
L1D61FE: db $12
L1D61FF: db $70
L1D6200: db $10
L1D6201: db $79
L1D6202: db $06
L1D6203: db $81
L1D6204: db $7E
L1D6205: db $5E
L1D6206: db $04
L1D6207: db $C0
L1D6208: db $02
L1D6209: db $A0
L1D620A: db $B1
L1D620B: db $09
L1D620C: db $B0
L1D620D: db $FE
L1D620E: db $07
L1D620F: db $03
L1D6210: db $FC
L1D6211: db $8F
L1D6212: db $70
L1D6213: db $71
L1D6214: db $71
L1D6215: db $10
L1D6216: db $70
L1D6217: db $A1
L1D6218: db $10
L1D6219: db $06
L1D621A: db $40
L1D621B: db $08
L1D621C: db $07
L1D621D: db $FF
L1D621E: db $DF
L1D621F: db $10
L1D6220: db $55
L1D6221: db $BD
L1D6222: db $10
L1D6223: db $7E
L1D6224: db $10
L1D6225: db $FB
L1D6226: db $12
L1D6227: db $F3
L1D6228: db $10
L1D6229: db $45
L1D622A: db $C0
L1D622B: db $10
L1D622C: db $00
L1D622D: db $FC
L1D622E: db $F8
L1D622F: db $00
L1D6230: db $F0
L1D6231: db $00
L1D6232: db $1F
L1D6233: db $40
L1D6234: db $E0
L1D6235: db $80
L1D6236: db $10
L1D6237: db $B0
L1D6238: db $11
L1D6239: db $B0
L1D623A: db $70
L1D623B: db $0D
L1D623C: db $F7
L1D623D: db $08
L1D623E: db $FF
L1D623F: db $00
L1D6240: db $11
L1D6241: db $C0
L1D6242: db $7F
L1D6243: db $41
L1D6244: db $20
L1D6245: db $F0
L1D6246: db $0F
L1D6247: db $71
L1D6248: db $DF
L1D6249: db $20
L1D624A: db $CF
L1D624B: db $30
L1D624C: db $E0
L1D624D: db $40
L1D624E: db $1F
L1D624F: db $91
L1D6250: db $F8
L1D6251: db $07
L1D6252: db $26
L1D6253: db $C1
L1D6254: db $21
L1D6255: db $C0
L1D6256: db $23
L1D6257: db $A0
L1D6258: db $40
L1D6259: db $B0
L1D625A: db $00
L1D625B: db $70
L1D625C: db $80
L1D625D: db $20
L1D625E: db $0C
L1D625F: db $50
L1D6260: db $C0
L1D6261: db $10
L1D6262: db $39
L1D6263: db $20
L1D6264: db $07
L1D6265: db $F8
L1D6266: db $02
L1D6267: db $FC
L1D6268: db $39
L1D6269: db $0C
L1D626A: db $F0
L1D626B: db $00
L1D626C: db $F4
L1D626D: db $01
L1D626E: db $10
L1D626F: db $0F
L1D6270: db $11
L1D6271: db $2C
L1D6272: db $20
L1D6273: db $1F
L1D6274: db $11
L1D6275: db $30
L1D6276: db $50
L1D6277: db $13
L1D6278: db $18
L1D6279: db $07
L1D627A: db $92
L1D627B: db $13
L1D627C: db $1C
L1D627D: db $03
L1D627E: db $11
L1D627F: db $1E
L1D6280: db $01
L1D6281: db $11
L1D6282: db $1F
L1D6283: db $40
L1D6284: db $00
L1D6285: db $11
L1D6286: db $C7
L1D6287: db $38
L1D6288: db $C3
L1D6289: db $3C
L1D628A: db $41
L1D628B: db $BE
L1D628C: db $02
L1D628D: db $60
L1D628E: db $9F
L1D628F: db $20
L1D6290: db $DF
L1D6291: db $10
L1D6292: db $EF
L1D6293: db $C0
L1D6294: db $FF
L1D6295: db $88
L1D6296: db $11
L1D6297: db $B8
L1D6298: db $40
L1D6299: db $D8
L1D629A: db $A0
L1D629B: db $CC
L1D629C: db $30
L1D629D: db $EC
L1D629E: db $A1
L1D629F: db $C0
L1D62A0: db $24
L1D62A1: db $60
L1D62A2: db $04
L1D62A3: db $F8
L1D62A4: db $0C
L1D62A5: db $F0
L1D62A6: db $11
L1D62A7: db $20
L1D62A8: db $00
L1D62A9: db $FF
L1D62AA: db $1B
L1D62AB: db $01
L1D62AC: db $FE
L1D62AD: db $0C
L1D62AE: db $F0
L1D62AF: db $1C
L1D62B0: db $20
L1D62B1: db $E0
L1D62B2: db $18
L1D62B3: db $10
L1D62B4: db $38
L1D62B5: db $C0
L1D62B6: db $28
L1D62B7: db $D0
L1D62B8: db $48
L1D62B9: db $15
L1D62BA: db $B0
L1D62BB: db $88
L1D62BC: db $70
L1D62BD: db $91
L1D62BE: db $00
L1D62BF: db $0C
L1D62C0: db $05
L1D62C1: db $DC
L1D62C2: db $45
L1D62C3: db $C0
L1D62C4: db $10
L1D62C5: db $DF
L1D62C6: db $80
L1D62C7: db $1F
L1D62C8: db $30
L1D62C9: db $0F
L1D62CA: db $1F
L1D62CB: db $92
L1D62CC: db $10
L1D62CD: db $0E
L1D62CE: db $01
L1D62CF: db $13
L1D62D0: db $0C
L1D62D1: db $03
L1D62D2: db $13
L1D62D3: db $82
L1D62D4: db $00
L1D62D5: db $7D
L1D62D6: db $86
L1D62D7: db $79
L1D62D8: db $CC
L1D62D9: db $33
L1D62DA: db $F8
L1D62DB: db $07
L1D62DC: db $F0
L1D62DD: db $00
L1D62DE: db $0F
L1D62DF: db $E0
L1D62E0: db $1F
L1D62E1: db $C0
L1D62E2: db $3F
L1D62E3: db $81
L1D62E4: db $7E
L1D62E5: db $18
L1D62E6: db $A9
L1D62E7: db $60
L1D62E8: db $38
L1D62E9: db $60
L1D62EA: db $30
L1D62EB: db $10
L1D62EC: db $70
L1D62ED: db $80
L1D62EE: db $11
L1D62EF: db $14
L1D62F0: db $F0
L1D62F1: db $00
L1D62F2: db $F1
L1D62F3: db $10
L1D62F4: db $F3
L1D62F5: db $10
L1D62F6: db $01
L1D62F7: db $FE
L1D62F8: db $21
L1D62F9: db $03
L1D62FA: db $FC
L1D62FB: db $13
L1D62FC: db $07
L1D62FD: db $F8
L1D62FE: db $06
L1D62FF: db $F9
L1D6300: db $11
L1D6301: db $20
L1D6302: db $0C
L1D6303: db $F3
L1D6304: db $00
L1D6305: db $00
L1D6306: db $B7
L1D6307: db $40
L1D6308: db $97
L1D6309: db $60
L1D630A: db $25
L1D630B: db $1F
L1D630C: db $E0
L1D630D: db $11
L1D630E: db $3F
L1D630F: db $C0
L1D6310: db $13
L1D6311: db $06
L1D6312: db $F0
L1D6313: db $84
L1D6314: db $30
L1D6315: db $05
L1D6316: db $71
L1D6317: db $31
L1D6318: db $FF
L1D6319: db $40
L1D631A: db $3C
L1D631B: db $0C
L1D631C: db $31
L1D631D: db $F9
L1D631E: db $19
L1D631F: db $51
L1D6320: db $10
L1D6321: db $27
L1D6322: db $FB
L1D6323: db $9B
L1D6324: db $30
L1D6325: db $2A
L1D6326: db $FE
L1D6327: db $2C
L1D6328: db $00
L1D6329: db $81
L1D632A: db $00
L1D632B: db $00
L1D632C: db $00
L1D632D: db $80
L1D632E: db $AD
L1D632F: db $00
L1D6330: db $12
L1D6331: db $00
L1D6332: db $66
L1D6333: db $00
L1D6334: db $D0
L1D6335: db $0F
L1D6336: db $10
L1D6337: db $50
L1D6338: db $0B
L1D6339: db $10
L1D633A: db $01
L1D633B: db $12
L1D633C: db $06
L1D633D: db $FD
L1D633E: db $05
L1D633F: db $FC
L1D6340: db $5A
L1D6341: db $04
L1D6342: db $11
L1D6343: db $EF
L1D6344: db $02
L1D6345: db $B0
L1D6346: db $BF
L1D6347: db $12
L1D6348: db $BD
L1D6349: db $A0
L1D634A: db $10
L1D634B: db $5D
L1D634C: db $40
L1D634D: db $AA
L1D634E: db $1F
L1D634F: db $12
L1D6350: db $C0
L1D6351: db $00
L1D6352: db $50
L1D6353: db $80
L1D6354: db $10
L1D6355: db $F8
L1D6356: db $20
L1D6357: db $DE
L1D6358: db $D8
L1D6359: db $3C
L1D635A: db $30
L1D635B: db $17
L1D635C: db $8F
L1D635D: db $8C
L1D635E: db $67
L1D635F: db $00
L1D6360: db $3F
L1D6361: db $60
L1D6362: db $C0
L1D6363: db $0A
L1D6364: db $50
L1D6365: db $80
L1D6366: db $32
L1D6367: db $3F
L1D6368: db $01
L1D6369: db $3B
L1D636A: db $BF
L1D636B: db $BD
L1D636C: db $FF
L1D636D: db $54
L1D636E: db $FE
L1D636F: db $10
L1D6370: db $F6
L1D6371: db $12
L1D6372: db $F2
L1D6373: db $10
L1D6374: db $F4
L1D6375: db $80
L1D6376: db $5D
L1D6377: db $00
L1D6378: db $11
L1D6379: db $C0
L1D637A: db $20
L1D637B: db $12
L1D637C: db $50
L1D637D: db $40
L1D637E: db $10
L1D637F: db $85
L1D6380: db $03
L1D6381: db $0C
L1D6382: db $03
L1D6383: db $0E
L1D6384: db $01
L1D6385: db $15
L1D6386: db $0F
L1D6387: db $B0
L1D6388: db $A4
L1D6389: db $13
L1D638A: db $1F
L1D638B: db $10
L1D638C: db $1B
L1D638D: db $04
L1D638E: db $11
L1D638F: db $19
L1D6390: db $06
L1D6391: db $49
L1D6392: db $39
L1D6393: db $10
L1D6394: db $38
L1D6395: db $07
L1D6396: db $13
L1D6397: db $0C
L1D6398: db $F3
L1D6399: db $11
L1D639A: db $24
L1D639B: db $08
L1D639C: db $F7
L1D639D: db $15
L1D639E: db $00
L1D639F: db $FF
L1D63A0: db $11
L1D63A1: db $3F
L1D63A2: db $C0
L1D63A3: db $2A
L1D63A4: db $7F
L1D63A5: db $80
L1D63A6: db $10
L1D63A7: db $8C
L1D63A8: db $10
L1D63A9: db $8E
L1D63AA: db $10
L1D63AB: db $86
L1D63AC: db $A2
L1D63AD: db $A0
L1D63AE: db $02
L1D63AF: db $11
L1D63B0: db $DF
L1D63B1: db $20
L1D63B2: db $00
L1D63B3: db $40
L1D63B4: db $81
L1D63B5: db $48
L1D63B6: db $7E
L1D63B7: db $15
L1D63B8: db $C3
L1D63B9: db $3C
L1D63BA: db $13
L1D63BB: db $DF
L1D63BC: db $21
L1D63BD: db $9F
L1D63BE: db $54
L1D63BF: db $61
L1D63C0: db $10
L1D63C1: db $60
L1D63C2: db $10
L1D63C3: db $64
L1D63C4: db $11
L1D63C5: db $1F
L1D63C6: db $E4
L1D63C7: db $89
L1D63C8: db $12
L1D63C9: db $E6
L1D63CA: db $FE
L1D63CB: db $06
L1D63CC: db $11
L1D63CD: db $FF
L1D63CE: db $0F
L1D63CF: db $10
L1D63D0: db $51
L1D63D1: db $3F
L1D63D2: db $10
L1D63D3: db $79
L1D63D4: db $10
L1D63D5: db $7E
L1D63D6: db $EF
L1D63D7: db $60
L1D63D8: db $10
L1D63D9: db $4A
L1D63DA: db $AB
L1D63DB: db $A0
L1D63DC: db $0B
L1D63DD: db $07
L1D63DE: db $00
L1D63DF: db $43
L1D63E0: db $00
L1D63E1: db $E1
L1D63E2: db $00
L1D63E3: db $A1
L1D63E4: db $E0
L1D63E5: db $A0
L1D63E6: db $F0
L1D63E7: db $D0
L1D63E8: db $F9
L1D63E9: db $59
L1D63EA: db $FD
L1D63EB: db $01
L1D63EC: db $AC
L1D63ED: db $EF
L1D63EE: db $A9
L1D63EF: db $E7
L1D63F0: db $C4
L1D63F1: db $F3
L1D63F2: db $D2
L1D63F3: db $B0
L1D63F4: db $94
L1D63F5: db $E0
L1D63F6: db $F1
L1D63F7: db $71
L1D63F8: db $50
L1D63F9: db $70
L1D63FA: db $50
L1D63FB: db $30
L1D63FC: db $FB
L1D63FD: db $14
L1D63FE: db $38
L1D63FF: db $FF
L1D6400: db $C6
L1D6401: db $10
L1D6402: db $E6
L1D6403: db $10
L1D6404: db $01
L1D6405: db $FE
L1D6406: db $40
L1D6407: db $CE
L1D6408: db $40
L1D6409: db $24
L1D640A: db $86
L1D640B: db $84
L1D640C: db $0E
L1D640D: db $0C
L1D640E: db $1E
L1D640F: db $D0
L1D6410: db $20
L1D6411: db $B0
L1D6412: db $6C
L1D6413: db $B0
L1D6414: db $5C
L1D6415: db $F6
L1D6416: db $B4
L1D6417: db $76
L1D6418: db $21
L1D6419: db $74
L1D641A: db $26
L1D641B: db $F0
L1D641C: db $2E
L1D641D: db $2C
L1D641E: db $4C
L1D641F: db $48
L1D6420: db $A0
L1D6421: db $05
L1D6422: db $18
L1D6423: db $7C
L1D6424: db $30
L1D6425: db $F8
L1D6426: db $A0
L1D6427: db $10
L1D6428: db $80
L1D6429: db $10
L1D642A: db $44
L1D642B: db $10
L1D642C: db $10
L1D642D: db $70
L1D642E: db $F0
L1D642F: db $60
L1D6430: db $11
L1D6431: db $E0
L1D6432: db $40
L1D6433: db $12
L1D6434: db $3C
L1D6435: db $03
L1D6436: db $7C
L1D6437: db $10
L1D6438: db $7E
L1D6439: db $01
L1D643A: db $11
L1D643B: db $7A
L1D643C: db $09
L1D643D: db $05
L1D643E: db $7B
L1D643F: db $04
L1D6440: db $FB
L1D6441: db $10
L1D6442: db $F9
L1D6443: db $06
L1D6444: db $11
L1D6445: db $08
L1D6446: db $F8
L1D6447: db $07
L1D6448: db $F0
L1D6449: db $0F
L1D644A: db $19
L1D644B: db $42
L1D644C: db $BD
L1D644D: db $46
L1D644E: db $40
L1D644F: db $B9
L1D6450: db $11
L1D6451: db $44
L1D6452: db $BB
L1D6453: db $04
L1D6454: db $FB
L1D6455: db $0C
L1D6456: db $F3
L1D6457: db $21
L1D6458: db $08
L1D6459: db $F7
L1D645A: db $11
L1D645B: db $1F
L1D645C: db $E6
L1D645D: db $3D
L1D645E: db $C4
L1D645F: db $10
L1D6460: db $48
L1D6461: db $C0
L1D6462: db $11
L1D6463: db $7D
L1D6464: db $80
L1D6465: db $10
L1D6466: db $81
L1D6467: db $5E
L1D6468: db $A2
L1D6469: db $28
L1D646A: db $DE
L1D646B: db $20
L1D646C: db $60
L1D646D: db $7F
L1D646E: db $60
L1D646F: db $7E
L1D6470: db $C1
L1D6471: db $3E
L1D6472: db $00
L1D6473: db $72
L1D6474: db $8D
L1D6475: db $3C
L1D6476: db $C3
L1D6477: db $1F
L1D6478: db $E0
L1D6479: db $07
L1D647A: db $F8
L1D647B: db $02
L1D647C: db $05
L1D647D: db $FA
L1D647E: db $9E
L1D647F: db $60
L1D6480: db $9F
L1D6481: db $61
L1D6482: db $91
L1D6483: db $3F
L1D6484: db $07
L1D6485: db $C0
L1D6486: db $7F
L1D6487: db $80
L1D6488: db $FF
L1D6489: db $00
L1D648A: db $11
L1D648B: db $B0
L1D648C: db $D0
L1D648D: db $A0
L1D648E: db $30
L1D648F: db $19
L1D6490: db $10
L1D6491: db $1A
L1D6492: db $FB
L1D6493: db $29
L1D6494: db $DF
L1D6495: db $0D
L1D6496: db $88
L1D6497: db $10
L1D6498: db $14
L1D6499: db $EF
L1D649A: db $20
L1D649B: db $10
L1D649C: db $02
L1D649D: db $EE
L1D649E: db $0A
L1D649F: db $29
L1D64A0: db $BE
L1D64A1: db $AE
L1D64A2: db $F0
L1D64A3: db $77
L1D64A4: db $10
L1D64A5: db $18
L1D64A6: db $3F
L1D64A7: db $B0
L1D64A8: db $28
L1D64A9: db $FE
L1D64AA: db $FC
L1D64AB: db $00
L1D64AC: db $E0
L1D64AD: db $10
L1D64AE: db $30
L1D64AF: db $78
L1D64B0: db $00
L1D64B1: db $0A
L1D64B2: db $F7
L1D64B3: db $90
L1D64B4: db $7E
L1D64B5: db $09
L1D64B6: db $B0
L1D64B7: db $C9
L1D64B8: db $10
L1D64B9: db $C5
L1D64BA: db $2E
L1D64BB: db $FF
L1D64BC: db $44
L1D64BD: db $10
L1D64BE: db $20
L1D64BF: db $10
L1D64C0: db $D0
L1D64C1: db $11
L1D64C2: db $9E
L1D64C3: db $61
L1D64C4: db $80
L1D64C5: db $C0
L1D64C6: db $30
L1D64C7: db $2B
L1D64C8: db $C0
L1D64C9: db $2A
L1D64CA: db $C1
L1D64CB: db $13
L1D64CC: db $0D
L1D64CD: db $AA
L1D64CE: db $41
L1D64CF: db $CA
L1D64D0: db $21
L1D64D1: db $A0
L1D64D2: db $D0
L1D64D3: db $80
L1D64D4: db $10
L1D64D5: db $D4
L1D64D6: db $0F
L1D64D7: db $01
L1D64D8: db $80
L1D64D9: db $16
L1D64DA: db $C0
L1D64DB: db $10
L1D64DC: db $70
L1D64DD: db $0F
L1D64DE: db $A0
L1D64DF: db $15
L1D64E0: db $30
L1D64E1: db $10
L1D64E2: db $31
L1D64E3: db $0E
L1D64E4: db $17
L1D64E5: db $08
L1D64E6: db $1F
L1D64E7: db $D2
L1D64E8: db $F0
L1D64E9: db $20
L1D64EA: db $F7
L1D64EB: db $11
L1D64EC: db $10
L1D64ED: db $EF
L1D64EE: db $B0
L1D64EF: db $CE
L1D64F0: db $00
L1D64F1: db $61
L1D64F2: db $9E
L1D64F3: db $C3
L1D64F4: db $3C
L1D64F5: db $83
L1D64F6: db $7C
L1D64F7: db $06
L1D64F8: db $F9
L1D64F9: db $24
L1D64FA: db $9F
L1D64FB: db $60
L1D64FC: db $11
L1D64FD: db $8F
L1D64FE: db $70
L1D64FF: db $13
L1D6500: db $07
L1D6501: db $F8
L1D6502: db $84
L1D6503: db $11
L1D6504: db $03
L1D6505: db $FC
L1D6506: db $FF
L1D6507: db $00
L1D6508: db $20
L1D6509: db $04
L1D650A: db $FB
L1D650B: db $3F
L1D650C: db $0B
L1D650D: db $F7
L1D650E: db $A0
L1D650F: db $10
L1D6510: db $A0
L1D6511: db $90
L1D6512: db $50
L1D6513: db $10
L1D6514: db $49
L1D6515: db $05
L1D6516: db $10
L1D6517: db $02
L1D6518: db $E8
L1D6519: db $70
L1D651A: db $E9
L1D651B: db $82
L1D651C: db $50
L1D651D: db $4C
L1D651E: db $C0
L1D651F: db $10
L1D6520: db $D5
L1D6521: db $EA
L1D6522: db $30
L1D6523: db $13
L1D6524: db $EB
L1D6525: db $81
L1D6526: db $10
L1D6527: db $E0
L1D6528: db $00
L1D6529: db $F8
L1D652A: db $10
L1D652B: db $FE
L1D652C: db $C8
L1D652D: db $7F
L1D652E: db $64
L1D652F: db $2B
L1D6530: db $FF
L1D6531: db $E2
L1D6532: db $10
L1D6533: db $61
L1D6534: db $12
L1D6535: db $60
L1D6536: db $C0
L1D6537: db $08
L1D6538: db $5E
L1D6539: db $80
L1D653A: db $12
L1D653B: db $C0
L1D653C: db $21
L1D653D: db $0F
L1D653E: db $0F
L1D653F: db $0E
L1D6540: db $00
BGLZ_Cutscene_GoenitzEscape: db $0B
L1D6542: db $80
L1D6543: db $0C
L1D6544: db $00
L1D6545: db $01
L1D6546: db $02
L1D6547: db $03
L1D6548: db $0C
L1D6549: db $02
L1D654A: db $04
L1D654B: db $05
L1D654C: db $10
L1D654D: db $08
L1D654E: db $09
L1D654F: db $0C
L1D6550: db $1E
L1D6551: db $06
L1D6552: db $07
L1D6553: db $0A
L1D6554: db $0B
L1D6555: db $41
L1D6556: db $0D
L1D6557: db $1E
L1D6558: db $0E
L1D6559: db $0F
L1D655A: db $12
L1D655B: db $13
L1D655C: db $16
L1D655D: db $1E
L1D655E: db $04
L1D655F: db $10
L1D6560: db $11
L1D6561: db $14
L1D6562: db $15
L1D6563: db $17
L1D6564: db $83
L1D6565: db $18
L1D6566: db $1A
L1D6567: db $60
L1D6568: db $1B
L1D6569: db $1B
L1D656A: db $00
L1D656B: db $19
L1D656C: db $1C
L1D656D: db $1D
L1D656E: db $1E
L1D656F: db $1F
L1D6570: db $80
L1D6571: db $1E
L1D6572: db $20
L1D6573: db $22
L1D6574: db $23
L1D6575: db $26
L1D6576: db $27
L1D6577: db $2A
L1D6578: db $2B
L1D6579: db $80
L1D657A: db $1C
L1D657B: db $21
L1D657C: db $24
L1D657D: db $25
L1D657E: db $28
L1D657F: db $29
L1D6580: db $2C
L1D6581: db $2D
L1D6582: db $81
L1D6583: db $1C
L1D6584: db $2E
L1D6585: db $30
L1D6586: db $31
L1D6587: db $34
L1D6588: db $35
L1D6589: db $38
L1D658A: db $5D
L1D658B: db $02
L1D658C: db $2F
L1D658D: db $32
L1D658E: db $33
L1D658F: db $36
L1D6590: db $37
L1D6591: db $39
L1D6592: db $1D
L1D6593: db $3A
L1D6594: db $04
L1D6595: db $3C
L1D6596: db $3D
L1D6597: db $40
L1D6598: db $41
L1D6599: db $44
L1D659A: db $1D
L1D659B: db $3B
L1D659C: db $3E
L1D659D: db $08
L1D659E: db $3F
L1D659F: db $42
L1D65A0: db $43
L1D65A1: db $45
L1D65A2: db $1D
L1D65A3: db $46
L1D65A4: db $47
L1D65A5: db $48
L1D65A6: db $00
L1D65A7: db $49
L1D65A8: db $4A
L1D65A9: db $4B
L1D65AA: db $4C
GFXLZ_Cutscene_Kagura: db $3A
L1D65AC: db $00
L1D65AD: db $50
L1D65AE: db $00
L1D65AF: db $00
L1D65B0: db $07
L1D65B1: db $10
L1D65B2: db $1C
L1D65B3: db $04
L1D65B4: db $31
L1D65B5: db $11
L1D65B6: db $04
L1D65B7: db $27
L1D65B8: db $06
L1D65B9: db $2E
L1D65BA: db $0C
L1D65BB: db $3A
L1D65BC: db $80
L1D65BD: db $3D
L1D65BE: db $19
L1D65BF: db $0C
L1D65C0: db $35
L1D65C1: db $18
L1D65C2: db $2B
L1D65C3: db $12
L1D65C4: db $10
L1D65C5: db $D0
L1D65C6: db $37
L1D65C7: db $05
L1D65C8: db $20
L1D65C9: db $76
L1D65CA: db $22
L1D65CB: db $11
L1D65CC: db $57
L1D65CD: db $23
L1D65CE: db $DF
L1D65CF: db $6D
L1D65D0: db $E1
L1D65D1: db $00
L1D65D2: db $01
L1D65D3: db $61
L1D65D4: db $41
L1D65D5: db $F1
L1D65D6: db $C1
L1D65D7: db $EF
L1D65D8: db $A0
L1D65D9: db $63
L1D65DA: db $98
L1D65DB: db $B0
L1D65DC: db $CC
L1D65DD: db $88
L1D65DE: db $10
L1D65DF: db $90
L1D65E0: db $C8
L1D65E1: db $49
L1D65E2: db $81
L1D65E3: db $00
L1D65E4: db $82
L1D65E5: db $99
L1D65E6: db $92
L1D65E7: db $19
L1D65E8: db $02
L1D65E9: db $11
L1D65EA: db $12
L1D65EB: db $01
L1D65EC: db $80
L1D65ED: db $30
L1D65EE: db $33
L1D65EF: db $25
L1D65F0: db $32
L1D65F1: db $04
L1D65F2: db $BA
L1D65F3: db $BC
L1D65F4: db $4E
L1D65F5: db $00
L1D65F6: db $8D
L1D65F7: db $5F
L1D65F8: db $93
L1D65F9: db $7C
L1D65FA: db $8C
L1D65FB: db $F0
L1D65FC: db $30
L1D65FD: db $60
L1D65FE: db $09
L1D65FF: db $A0
L1D6600: db $40
L1D6601: db $80
L1D6602: db $C0
L1D6603: db $21
L1D6604: db $00
L1D6605: db $81
L1D6606: db $00
L1D6607: db $60
L1D6608: db $01
L1D6609: db $30
L1D660A: db $13
L1D660B: db $63
L1D660C: db $42
L1D660D: db $73
L1D660E: db $52
L1D660F: db $F7
L1D6610: db $24
L1D6611: db $E6
L1D6612: db $D7
L1D6613: db $10
L1D6614: db $0F
L1D6615: db $F0
L1D6616: db $00
L1D6617: db $FF
L1D6618: db $1F
L1D6619: db $08
L1D661A: db $1E
L1D661B: db $07
L1D661C: db $04
L1D661D: db $06
L1D661E: db $10
L1D661F: db $4C
L1D6620: db $48
L1D6621: db $D8
L1D6622: db $50
L1D6623: db $D0
L1D6624: db $B0
L1D6625: db $60
L1D6626: db $10
L1D6627: db $50
L1D6628: db $A1
L1D6629: db $C1
L1D662A: db $E1
L1D662B: db $99
L1D662C: db $20
L1D662D: db $41
L1D662E: db $81
L1D662F: db $40
L1D6630: db $20
L1D6631: db $83
L1D6632: db $03
L1D6633: db $10
L1D6634: db $84
L1D6635: db $02
L1D6636: db $78
L1D6637: db $60
L1D6638: db $D8
L1D6639: db $E0
L1D663A: db $11
L1D663B: db $F8
L1D663C: db $C0
L1D663D: db $52
L1D663E: db $FC
L1D663F: db $14
L1D6640: db $BC
L1D6641: db $12
L1D6642: db $FE
L1D6643: db $80
L1D6644: db $11
L1D6645: db $00
L1D6646: db $A0
L1D6647: db $0C
L1D6648: db $07
L1D6649: db $10
L1D664A: db $1B
L1D664B: db $03
L1D664C: db $33
L1D664D: db $14
L1D664E: db $6D
L1D664F: db $00
L1D6650: db $30
L1D6651: db $52
L1D6652: db $20
L1D6653: db $65
L1D6654: db $01
L1D6655: db $47
L1D6656: db $02
L1D6657: db $4D
L1D6658: db $0D
L1D6659: db $06
L1D665A: db $0B
L1D665B: db $04
L1D665C: db $0A
L1D665D: db $12
L1D665E: db $60
L1D665F: db $00
L1D6660: db $11
L1D6661: db $C4
L1D6662: db $C0
L1D6663: db $10
L1D6664: db $3B
L1D6665: db $C4
L1D6666: db $FF
L1D6667: db $30
L1D6668: db $F7
L1D6669: db $98
L1D666A: db $90
L1D666B: db $30
L1D666C: db $27
L1D666D: db $BE
L1D666E: db $C0
L1D666F: db $7E
L1D6670: db $46
L1D6671: db $AE
L1D6672: db $C6
L1D6673: db $18
L1D6674: db $6E
L1D6675: db $86
L1D6676: db $4E
L1D6677: db $10
L1D6678: db $40
L1D6679: db $02
L1D667A: db $C7
L1D667B: db $03
L1D667C: db $05
L1D667D: db $C3
L1D667E: db $01
L1D667F: db $61
L1D6680: db $00
L1D6681: db $60
L1D6682: db $10
L1D6683: db $20
L1D6684: db $10
L1D6685: db $C0
L1D6686: db $60
L1D6687: db $10
L1D6688: db $3F
L1D6689: db $24
L1D668A: db $1F
L1D668B: db $10
L1D668C: db $0F
L1D668D: db $0A
L1D668E: db $69
L1D668F: db $05
L1D6690: db $70
L1D6691: db $01
L1D6692: db $81
L1D6693: db $10
L1D6694: db $C0
L1D6695: db $40
L1D6696: db $11
L1D6697: db $40
L1D6698: db $80
L1D6699: db $00
L1D669A: db $E0
L1D669B: db $20
L1D669C: db $7A
L1D669D: db $16
L1D669E: db $14
L1D669F: db $0C
L1D66A0: db $2A
L1D66A1: db $0F
L1D66A2: db $03
L1D66A3: db $00
L1D66A4: db $01
L1D66A5: db $00
L1D66A6: db $00
L1D66A7: db $01
L1D66A8: db $BF
L1D66A9: db $B6
L1D66AA: db $80
L1D66AB: db $FF
L1D66AC: db $10
L1D66AD: db $30
L1D66AE: db $2F
L1D66AF: db $11
L1D66B0: db $50
L1D66B1: db $1F
L1D66B2: db $16
L1D66B3: db $F3
L1D66B4: db $33
L1D66B5: db $03
L1D66B6: db $00
L1D66B7: db $07
L1D66B8: db $02
L1D66B9: db $E0
L1D66BA: db $0E
L1D66BB: db $00
L1D66BC: db $1E
L1D66BD: db $1D
L1D66BE: db $3F
L1D66BF: db $3B
L1D66C0: db $7C
L1D66C1: db $74
L1D66C2: db $F8
L1D66C3: db $C8
L1D66C4: db $00
L1D66C5: db $EF
L1D66C6: db $00
L1D66C7: db $21
L1D66C8: db $01
L1D66C9: db $FF
L1D66CA: db $14
L1D66CB: db $77
L1D66CC: db $84
L1D66CD: db $A4
L1D66CE: db $70
L1D66CF: db $88
L1D66D0: db $50
L1D66D1: db $90
L1D66D2: db $F7
L1D66D3: db $30
L1D66D4: db $E3
L1D66D5: db $8C
L1D66D6: db $88
L1D66D7: db $10
L1D66D8: db $9C
L1D66D9: db $D7
L1D66DA: db $A8
L1D66DB: db $90
L1D66DC: db $20
L1D66DD: db $73
L1D66DE: db $A4
L1D66DF: db $2A
L1D66E0: db $B3
L1D66E1: db $FC
L1D66E2: db $50
L1D66E3: db $F0
L1D66E4: db $10
L1D66E5: db $F4
L1D66E6: db $10
L1D66E7: db $CC
L1D66E8: db $03
L1D66E9: db $CF
L1D66EA: db $0E
L1D66EB: db $4F
L1D66EC: db $8E
L1D66ED: db $FE
L1D66EE: db $00
L1D66EF: db $70
L1D66F0: db $1F
L1D66F1: db $AA
L1D66F2: db $1C
L1D66F3: db $80
L1D66F4: db $16
L1D66F5: db $C0
L1D66F6: db $16
L1D66F7: db $E0
L1D66F8: db $16
L1D66F9: db $F0
L1D66FA: db $B7
L1D66FB: db $11
L1D66FC: db $60
L1D66FD: db $10
L1D66FE: db $60
L1D66FF: db $70
L1D6700: db $30
L1D6701: db $60
L1D6702: db $0A
L1D6703: db $54
L1D6704: db $01
L1D6705: db $10
L1D6706: db $02
L1D6707: db $10
L1D6708: db $07
L1D6709: db $10
L1D670A: db $0D
L1D670B: db $03
L1D670C: db $80
L1D670D: db $10
L1D670E: db $05
L1D670F: db $10
L1D6710: db $09
L1D6711: db $1B
L1D6712: db $0A
L1D6713: db $1D
L1D6714: db $0E
L1D6715: db $44
L1D6716: db $15
L1D6717: db $10
L1D6718: db $F3
L1D6719: db $0C
L1D671A: db $FF
L1D671B: db $F0
L1D671C: db $31
L1D671D: db $CE
L1D671E: db $00
L1D671F: db $7B
L1D6720: db $9C
L1D6721: db $5F
L1D6722: db $99
L1D6723: db $9D
L1D6724: db $11
L1D6725: db $B9
L1D6726: db $A0
L1D6727: db $00
L1D6728: db $F7
L1D6729: db $CC
L1D672A: db $B7
L1D672B: db $C8
L1D672C: db $7F
L1D672D: db $83
L1D672E: db $7C
L1D672F: db $8C
L1D6730: db $10
L1D6731: db $F0
L1D6732: db $30
L1D6733: db $C0
L1D6734: db $00
L1D6735: db $03
L1D6736: db $02
L1D6737: db $07
L1D6738: db $04
L1D6739: db $01
L1D673A: db $0E
L1D673B: db $08
L1D673C: db $1F
L1D673D: db $12
L1D673E: db $F9
L1D673F: db $09
L1D6740: db $FF
L1D6741: db $A0
L1D6742: db $1A
L1D6743: db $8F
L1D6744: db $71
L1D6745: db $BF
L1D6746: db $F0
L1D6747: db $50
L1D6748: db $00
L1D6749: db $12
L1D674A: db $38
L1D674B: db $A6
L1D674C: db $10
L1D674D: db $F8
L1D674E: db $11
L1D674F: db $7F
L1D6750: db $78
L1D6751: db $11
L1D6752: db $50
L1D6753: db $98
L1D6754: db $02
L1D6755: db $FD
L1D6756: db $7E
L1D6757: db $3F
L1D6758: db $3E
L1D6759: db $FE
L1D675A: db $87
L1D675B: db $70
L1D675C: db $0F
L1D675D: db $0C
L1D675E: db $BF
L1D675F: db $C0
L1D6760: db $DF
L1D6761: db $E0
L1D6762: db $50
L1D6763: db $10
L1D6764: db $EF
L1D6765: db $F0
L1D6766: db $8C
L1D6767: db $30
L1D6768: db $70
L1D6769: db $F7
L1D676A: db $38
L1D676B: db $90
L1D676C: db $10
L1D676D: db $EB
L1D676E: db $1C
L1D676F: db $26
L1D6770: db $F3
L1D6771: db $0C
L1D6772: db $11
L1D6773: db $FB
L1D6774: db $04
L1D6775: db $11
L1D6776: db $F0
L1D6777: db $00
L1D6778: db $BF
L1D6779: db $10
L1D677A: db $08
L1D677B: db $10
L1D677C: db $D0
L1D677D: db $10
L1D677E: db $B0
L1D677F: db $60
L1D6780: db $00
L1D6781: db $55
L1D6782: db $80
L1D6783: db $10
L1D6784: db $C0
L1D6785: db $12
L1D6786: db $E0
L1D6787: db $12
L1D6788: db $F0
L1D6789: db $12
L1D678A: db $57
L1D678B: db $F8
L1D678C: db $12
L1D678D: db $FC
L1D678E: db $14
L1D678F: db $FE
L1D6790: db $14
L1D6791: db $0F
L1D6792: db $05
L1D6793: db $40
L1D6794: db $03
L1D6795: db $10
L1D6796: db $0E
L1D6797: db $02
L1D6798: db $38
L1D6799: db $08
L1D679A: db $E0
L1D679B: db $20
L1D679C: db $34
L1D679D: db $9F
L1D679E: db $80
L1D679F: db $F5
L1D67A0: db $0D
L1D67A1: db $7E
L1D67A2: db $10
L1D67A3: db $E7
L1D67A4: db $16
L1D67A5: db $04
L1D67A6: db $3D
L1D67A7: db $23
L1D67A8: db $07
L1D67A9: db $04
L1D67AA: db $03
L1D67AB: db $00
L1D67AC: db $86
L1D67AD: db $06
L1D67AE: db $E8
L1D67AF: db $F3
L1D67B0: db $0F
L1D67B1: db $01
L1D67B2: db $C0
L1D67B3: db $10
L1D67B4: db $70
L1D67B5: db $80
L1D67B6: db $98
L1D67B7: db $08
L1D67B8: db $60
L1D67B9: db $EC
L1D67BA: db $10
L1D67BB: db $FE
L1D67BC: db $50

; =============== SubModule_CutsceneKagura ===============
; This submodule handles the cutscene before fighting Kagura.
SubModule_CutsceneKagura:
	call Cutscene_SharedInit
	call Cutscene_LoadKaguraOBJLst
	
	; Set screen sectors
	ld   a, $18		; Second sector starts here (BG)
	ld   b, $5C		; Text sector starts here (WINDOW)
	call SetSectLYC
	
	; Enable the LCD
	call Cutscene_ResumeLCDWithLYC
	
	; Initialize vars
	xor  a
	ld   [wCutMoveLargeChars], a
	ld   [wCutFlashTimer], a
	ei
	
	; Wait for next frame, to displaythe sectors
	call Task_PassControl_NoDelay
	
	; Set Kagura's OBJ palette
	ld   a, $6C
	ldh  [rOBP0], a
	
	; Set white palette for middle section BG
	xor  a
	ldh  [rBGP], a
	ldh  [rOBP1], a
	ldh  [hScreenSect1BGP], a
	
	; Set different palette for top and bottom section BG.
	; The font is black text on white background in the ROM, but on-screen it needs to be the other way around.
	ld   a, $13
	ldh  [hScreenSect0BGP], a
	ldh  [hScreenSect2BGP], a
	
	; Start cutscene music
	ld   a, BGM_PROTECTOR
	call HomeCall_Sound_ReqPlayExId_Stub
	
	;
	; TEXT PRINTING
	;
	
	; Don't execute custom code when writing lettters
	ld   a, TXB_NONE
	ld   [wTextPrintFrameCodeBank], a
	
	; Print out the screens of text one by one
	ld   hl, TextC_CutsceneKagura0
	call Cutscene_WriteTextBank1C
	ld   hl, TextC_CutsceneKagura1
	call Cutscene_WriteTextBank1C
	ld   hl, TextC_CutsceneKagura2
	call Cutscene_WriteTextBank1C
	ld   hl, TextC_CutsceneKagura3
	call Cutscene_WriteTextBank1C
	ld   hl, TextC_CutsceneKagura4
	call Cutscene_WriteTextBank1C
	
	; Fall-through
	
; =============== Cutscene_End ===============
; Common code to end a cutscene.
Cutscene_End:

	; Clear tilemap
	call ClearBGMap
	
	; Hide Kagura sprite mapping
	ld   hl, wOBJInfo_Kagura+iOBJInfo_Status
	res  OSTB_VISIBLE, [hl]
	
	; Disable sections
	ld   hl, wMisc_C028
	res  MISCB_USE_SECT, [hl]
	xor  a
	ldh  [rSTAT], a
	
	; Reset DMG palette
	ld   a, $FF
	ldh  [rBGP], a
	ldh  [rOBP0], a
	ldh  [rOBP1], a
	ret
	
; =============== Cutscene_LoadKaguraOBJLst ===============
; Loads the sprite mapping for Kagura's cutscene sprite.
; The entire sprite has BG Priority set, to make it show up behind Goenitz.
Cutscene_LoadKaguraOBJLst:
	; Decompress/load the graphics to $8000
	ld   hl, GFXLZ_Cutscene_Kagura
	ld   de, wLZSS_Buffer+$10
	call DecompressLZSS
	ld   hl, wLZSS_Buffer+$10
	ld   de, Tiles_Begin
	ld   b, $28
	call CopyTiles
	
	; Load the sprite mapping from ROM.
	; As this is an unique sprite definition, the needed coordinates and flags are directly set in the OBJInfoInit.
	ld   hl, wOBJInfo_Kagura
	ld   de, OBJInfoInit_Cutscene_Kagura
	call OBJLstS_InitFrom
	
	; Initialize it
	ld   hl, wOBJInfo_Kagura
	jp   OBJLstS_DoAnimTiming_Initial

; =============== Cutscene_ResumeLCDWithLYC ===============
; Resumes LCD output and enables LYC, which is required for the section system.
Cutscene_ResumeLCDWithLYC:
	ld   a, LCDC_PRIORITY|LCDC_OBJENABLE|LCDC_OBJSIZE|LCDC_WENABLE|LCDC_WTILEMAP|LCDC_ENABLE
	rst  $18				; Resume LCD
	;-----------------------------------
	; Enable LYC
	ldh  a, [rSTAT]
	or   a, STAT_LYC
	ldh  [rSTAT], a
	ret
; =============== Cutscene_WriteText* ===============
; Set of subroutines to write a screen worth of text to the tilemap,
; letter by letter through TextPrinter_MultiFrameFarCustomPos.
;
; The text is written from the beginning of the second row of the WINDOW layer.
	
; =============== Cutscene_WriteTextBank1C ===============
; Writes text from BANK $1C.
; IN
; - HL: Ptr to TextC structure. Must point to BANK $1C.
Cutscene_WriteTextBank1C:
	ld   b, $1C ; Bank
	call Cutscene_WriteText_Custom
	ld   b, $F0 ; Wait for $F0 frames
	jp   Cutscene_PostTextWrite
; =============== Cutscene_WriteTextBank1D ===============
; Writes text from BANK $1D.
; IN
; - HL: Ptr to TextC structure. Must point to BANK $1D.
Cutscene_WriteTextBank1D:
	ld   b, $1D
	call Cutscene_WriteText_Custom
	ld   b, $F0
	jp   Cutscene_PostTextWrite
; =============== Cutscene_WriteTextBank1CSFX ===============
; Writes text from BANK $1C, playing SFX for every char printed.
; IN
; - HL: Ptr to TextC structure. Must point to BANK $1C.
Cutscene_WriteTextBank1CSFX:
	ld   b, $1C
	call Cutscene_WriteText_CustomSFX
	ld   b, $F0
	jp   Cutscene_PostTextWrite
	
; =============== Cutscene_WriteText_Custom ===============
; Writes out a screen of text for a cutscene over multiple frames.
; IN
; - HL: Ptr to TextC structure
; - B: Bank number of TextDef structure
Cutscene_WriteText_Custom:

	;
	; Blank out any existing text from the WINDOW layer.
	; Because this is done during HBLANK, it can't be done in a single frame.
	;
	push bc
		push hl
			; Wait start of next frame, to avoid running out of time
			call Task_PassControl_NoDelay
			
			; Clear the rows 1-3
			ld   hl, WINDOWMap_Begin	; BG Ptr
			ld   b, $14	; Rect Width
			ld   c, $03 ; Rect Height
			ld   d, $00 ; Tile ID
			call FillBGRect
			call Task_PassControl_NoDelay	; Wait next frame
			
			; Clear the rows 4-6
			ld   hl, WINDOWMap_Begin+$60	; BG Ptr
			ld   b, $14	; Rect Width
			ld   c, $03 ; Rect Height
			ld   d, $00 ; Tile ID
			call FillBGRect
			call Task_PassControl_NoDelay	; Wait next frame
		pop  hl
	pop  bc
	
	;
	; Write text from the second row of the WINDOW
	;
	ld   de, WINDOWMap_Begin+$20 ; Destination ptr in the tilemap
	ld   c, $04 ; Delay between letter printing
	ld   a, TXT_ALLOWFAST ; Option flags
	jp   TextPrinter_MultiFrameFarCustomPos	
	
; =============== Cutscene_WriteText_CustomSFX ===============
; Writes out a screen of text for a cutscene over multiple frames.
; Identical to Cutscene_WriteText_Custom except that this plays a SGB SFX whenever a character is printed.
; IN
; - HL: Ptr to TextC structure
; - B: Bank number of TextDef structure
Cutscene_WriteText_CustomSFX:
	;
	; Blank out any existing text from the WINDOW layer.
	; Because this is done during HBLANK, it can't be done in a single frame.
	;
	push bc
		push hl
			; Wait start of next frame, to avoid running out of time
			call Task_PassControl_NoDelay
			
			; Clear the rows 1-3
			ld   hl, WINDOWMap_Begin	; BG Ptr
			ld   b, $14	; Rect Width
			ld   c, $03 ; Rect Height
			ld   d, $00 ; Tile ID
			call FillBGRect
			call Task_PassControl_NoDelay	; Wait next frame
			
			; Clear the rows 4-6
			ld   hl, WINDOWMap_Begin+$60	; BG Ptr
			ld   b, $14	; Rect Width
			ld   c, $03 ; Rect Height
			ld   d, $00 ; Tile ID
			call FillBGRect
			call Task_PassControl_NoDelay	; Wait next frame
		pop  hl
	pop  bc
	
	;
	; Write text from the second row of the WINDOW
	;
	ld   de, WINDOWMap_Begin+$20 ; Destination ptr in the tilemap
	ld   c, $04 ; Delay between letter printing
	ld   a, TXT_PLAYSFX|TXT_ALLOWFAST ; Option flags
	jp   TextPrinter_MultiFrameFarCustomPos

; This OBJInfoInit structure is truncated, as every byte after iOBJInfo_OBJLstPtrTblOffset isn't needed.
OBJInfoInit_Cutscene_Kagura:
	db OST_VISIBLE ; iOBJInfo_Status
	db SPR_BGPRIORITY ; iOBJInfo_OBJLstFlags
	db $00 ; iOBJInfo_OBJLstFlagsView
	db $28 ; iOBJInfo_X
	db $00 ; iOBJInfo_XSub
	db $35 ; iOBJInfo_Y
	db $00 ; iOBJInfo_YSub
	db $00 ; iOBJInfo_SpeedX
	db $00 ; iOBJInfo_SpeedXSub
	db $00 ; iOBJInfo_SpeedY
	db $00 ; iOBJInfo_SpeedYSub
	db $00 ; iOBJInfo_RelX (auto)
	db $00 ; iOBJInfo_RelY (auto)
	db $00 ; iOBJInfo_TileIDBase
	db $00 ; iOBJInfo_VRAMPtr_Low
	db $00 ; iOBJInfo_VRAMPtr_High
	db BANK(OBJLstPtrTable_Cutscene_Kagura) ; iOBJInfo_BankNum (BANK $1D)
	db LOW(OBJLstPtrTable_Cutscene_Kagura) ; iOBJInfo_OBJLstPtrTbl_Low
	db HIGH(OBJLstPtrTable_Cutscene_Kagura) ; iOBJInfo_OBJLstPtrTbl_High
	db $00 ; iOBJInfo_OBJLstPtrTblOffset
	
OBJLstPtrTable_Cutscene_Kagura: db $ED
L1D68E8: db $68
L1D68E9: db $FF
L1D68EA: db $FF
L1D68EB: db $FF
L1D68EC: db $FF
L1D68ED: db $80
L1D68EE: db $00
L1D68EF: db $00
L1D68F0: db $FF
L1D68F1: db $FF
L1D68F2: db $FF
L1D68F3: db $F7
L1D68F4: db $68
L1D68F5: db $00
L1D68F6: db $00
L1D68F7: db $14
L1D68F8: db $28
L1D68F9: db $15
L1D68FA: db $00
L1D68FB: db $28
L1D68FC: db $1D
L1D68FD: db $02
L1D68FE: db $28
L1D68FF: db $25
L1D6900: db $04
L1D6901: db $28
L1D6902: db $2D
L1D6903: db $06
L1D6904: db $2D
L1D6905: db $35
L1D6906: db $08
L1D6907: db $0E
L1D6908: db $05
L1D6909: db $0A
L1D690A: db $11
L1D690B: db $0D
L1D690C: db $0C
L1D690D: db $18
L1D690E: db $15
L1D690F: db $0E
L1D6910: db $18
L1D6911: db $1D
L1D6912: db $10
L1D6913: db $18
L1D6914: db $25
L1D6915: db $12
L1D6916: db $18
L1D6917: db $2D
L1D6918: db $14
L1D6919: db $1D
L1D691A: db $35
L1D691B: db $16
L1D691C: db $01
L1D691D: db $0D
L1D691E: db $18
L1D691F: db $08
L1D6920: db $15
L1D6921: db $1A
L1D6922: db $08
L1D6923: db $1D
L1D6924: db $1C
L1D6925: db $08
L1D6926: db $25
L1D6927: db $1E
L1D6928: db $08
L1D6929: db $2D
L1D692A: db $20
L1D692B: db $F8
L1D692C: db $15
L1D692D: db $22
L1D692E: db $F8
L1D692F: db $1D
L1D6930: db $24
L1D6931: db $F8
L1D6932: db $25
L1D6933: db $26
; =============== SubModule_CutsceneGoenitz ===============
; This submodule handles the cutscene before fighting Goenitz.
SubModule_CutsceneGoenitz:
	call Cutscene_SharedInit
	
	;
	; This part of the cutscene has a large picture of the stadium.
	;
	
	; Set screen sectors.
	ld   a, $00		; Second sector starts here (BG)
	ld   b, $5C		; Text sector starts here (WINDOW)
	call SetSectLYC
	
	; Load the BG graphics for the stadium
	ld   hl, GFXLZ_Cutscene_StadiumBG
	ld   de, wLZSS_Buffer+$10
	call DecompressLZSS
	ld   hl, wLZSS_Buffer+$10
	ld   de, $8800
	ld   b, $68
	call CopyTiles
	
	; Load the tilemap for the stadium picture as a rectangle
	ld   hl, BGLZ_Cutscene_StadiumBG
	ld   de, wLZSS_Buffer+$10
	call DecompressLZSS
	ld   de, wLZSS_Buffer+$10 ; Ptr to uncompressed tilemap
	ld   hl, $9823 ; Destination Ptr in VRAM
	ld   b, $0E ; Rect Width
	ld   c, $0A ; Rect Height
	ld   a, $80 ; Tile ID base offset (from $8800)
	call CopyBGToRectWithBase
	
	; Enable screen
	call Cutscene_ResumeLCDWithLYC
	
	; Initialize effect vars
	xor  a
	ld   [wCutMoveLargeChars], a
	ld   [wCutFlashTimer], a
	ei
	
	; Sync screen before setting palette
	call Task_PassControl_NoDelay
	
	; Set picture palette
	ld   a, $1B
	ldh  [rBGP], a
	ldh  [hScreenSect1BGP], a
	
	; Set text palette
	ld   a, $13
	ldh  [hScreenSect0BGP], a
	ldh  [hScreenSect2BGP], a
	
	; Play cutscene BGM
	ld   a, BGM_PROTECTOR
	call HomeCall_Sound_ReqPlayExId_Stub
	
	;
	; TEXT PRINTING
	;
	
	; No code between letters
	ld   a, TXB_NONE
	ld   [wTextPrintFrameCodeBank], a
	
	; Write the text, screen by screen	
	ld   hl, TextC_CutsceneGoenitz00
	call Cutscene_WriteTextBank1C
	ld   hl, TextC_CutsceneGoenitz01
	call Cutscene_WriteTextBank1C
	ld   hl, TextC_CutsceneGoenitz02
	call Cutscene_WriteTextBank1C
	ld   hl, TextC_CutsceneGoenitz03
	call Cutscene_WriteTextBank1C
	ld   hl, TextC_CutsceneGoenitz04
	call Cutscene_WriteTextBank1C
	ld   hl, TextC_CutsceneGoenitz05
	call Cutscene_WriteTextBank1C
	ld   hl, TextC_CutsceneGoenitz06
	call Cutscene_WriteTextBank1C
	ld   hl, TextC_CutsceneGoenitz07
	call Cutscene_WriteTextBank1C
	ld   hl, TextC_CutsceneGoenitz08
	call Cutscene_WriteTextBank1C
	ld   hl, TextC_CutsceneGoenitz09
	call Cutscene_WriteTextBank1C
	ld   hl, TextC_CutsceneGoenitz0A
	call Cutscene_WriteTextBank1C
	ld   hl, TextC_CutsceneGoenitz0B
	call Cutscene_WriteTextBank1C
	
	
	; On EASY difficulty, the cutscene ends in an alternate way
	ld   a, [wDifficulty]
	cp   DIFFICULTY_EASY
	jp   z, CutsceneGoenitz_Easy
	
	;##
	;
	; Do the flashing effect.
	;
	
	; White out palette for center section
	xor  a
	ldh  [rBGP], a
	ldh  [hScreenSect1BGP], a
	
	; Scroll viewport to show an empty area of the tilemap in the middle sector.
	; This scrolls off-screen the area where the Stadium background was located,
	; which is also where the Goenitz tilemap is written to.
	ld   a, $80
	ldh  [hScrollY], a
	
	; Flash screen
	ld   a, $01
	ld   [wCutFlashTimer], a
	
	; Flash screen while writing text.
	; Because this happens only after a character is printed, it's relatively slow.
	ld   a, BANK(Cutscene_FlashBGPal)
	ld   [wTextPrintFrameCodeBank], a
	ld   hl, wTextPrintFrameCodePtr_Low
	ld   [hl], LOW(Cutscene_FlashBGPal)
	inc  hl
	ld   [hl], HIGH(Cutscene_FlashBGPal)
	
	; Write the two screens of text
	ld   hl, TextC_CutsceneGoenitz0C
	call Cutscene_WriteTextBank1C
	
	ld   hl, TextC_CutsceneGoenitz0D
	call Cutscene_WriteTextBank1C
	
	;##
	;
	; Goenitz appears
	;
	
	di
	;-----------------------------------
	rst  $10				; Stop LCD
	
	; Clear tilemap for center sector
	call ClearBGMap
	
	; Load Goenitz off-screen above
	call Cutscene_LoadGoenitzBG
	
	ei
	ld   a, LCDC_PRIORITY|LCDC_OBJENABLE|LCDC_OBJSIZE|LCDC_WENABLE|LCDC_WTILEMAP|LCDC_ENABLE
	rst  $18				; Resume LCD
	;-----------------------------------
	
	; Play new music
	ld   a, BGM_WIND
	call HomeCall_Sound_ReqPlayExId_Stub
	
	; Stop flashing
	xor  a
	ld   [wCutFlashTimer], a
	
	; Wait 4 frames
	call Task_PassControl_Delay04
	
	; Scroll the screen back up to show Goenitz
	ld   a, -$05
	ldh  [hScrollY], a
	
	;
	; Set sector palette data
	;
	
	; Middle
	ld   a, $6C
	ldh  [rBGP], a
	ldh  [hScreenSect1BGP], a
	
	; Top + bottom
	ld   a, $13
	ldh  [hScreenSect0BGP], a
	ldh  [hScreenSect2BGP], a
	
	;
	; TEXT PRINTING
	;
	
	ld   a, TXB_NONE
	ld   [wTextPrintFrameCodeBank], a
	ld   hl, TextC_CutsceneGoenitz0E
	call Cutscene_WriteTextBank1C
	ld   hl, TextC_CutsceneGoenitz0F
	call Cutscene_WriteTextBank1C
	ld   hl, TextC_CutsceneGoenitz10
	call Cutscene_WriteTextBank1C
	ld   hl, TextC_CutsceneGoenitz11
	call Cutscene_WriteTextBank1C
	ld   hl, TextC_CutsceneGoenitz12
	call Cutscene_WriteTextBank1C
	ld   hl, TextC_CutsceneGoenitz13
	call Cutscene_WriteTextBank1C
	
	;##
	;
	; Show the characters in the player team.
	;
	
	
	; Black out center section
	ld   a, $FF
	ldh  [rBGP], a
	ldh  [hScreenSect1BGP], a
	di
	;-----------------------------------
	rst  $10				; Stop LCD
	
	; Clear tilemap for center sector
	call ClearBGMap
	
	; Load character sprites in the tilemap, similar to the win screen.
	call Cutscene_InitChars
	
	ei
	ld   a, LCDC_PRIORITY|LCDC_OBJENABLE|LCDC_OBJSIZE|LCDC_WENABLE|LCDC_WTILEMAP|LCDC_ENABLE
	rst  $18				; Resume LCD
	;-----------------------------------
	
	call Task_PassControl_Delay04
	
	; Initialize other character screen field
	call Cutscene_InitCharMisc
	
	; Show one last screen of text to go with the shot of the team
	ld   hl, TextC_CutsceneGoenitz14
	call Cutscene_WriteTextBank1C
	
	;
	; We're done
	;
	jp   Cutscene_End
	
; =============== Cutscene_FlashBGPal ===============
; Flashes the background palette for the middle section of the screen.
Cutscene_FlashBGPal:

	;
	; Don't do this if it's disabled (Timer == 0)
	;
	ld   a, [wCutFlashTimer]
	cp   $00
	ret  z
	
	;
	; Increment the flash timer, which determines the palette.
	;
	; This increments by one, except when it overflows.
	; To avoid the flash effect from ending and to keep the timing consistent,
	; the timer goes from $FF to $02.
	; Though it could have jumped to $04 to avoid a 4-frame window of black frames.
	; $FE -> black
	; $FF -> black
	; $00 -> (none)
	; $01 -> norm
	; $02 -> black
	; $03 -> black
	;
	inc  a				; Timer++
	jr   nz, .saveTimer	; Timer > 0? If so, jump
	inc  a				; Timer += 2
	inc  a
.saveTimer:
	ld   [wCutFlashTimer], a
	
	;
	; Determine the palette to set.
	; Every two frames, switch to a different palette.
	;
	and  a, $02				; FlashTimer & %10 == 0?
	jr   z, .setPalNorm		; If so, restore the normal palette
.setPalBlack:				; Otherwise, completely black it
	; Use completely black palette
	ld   a, $FF
	ldh  [rBGP], a
	ldh  [hScreenSect1BGP], a
	ret
.setPalNorm:
	; Restore normal palette
	ld   a, $6C
	ldh  [rBGP], a
	ldh  [hScreenSect1BGP], a
	ret
	
; =============== Cutscene_LoadGoenitzBG ===============
; Loads the graphics and tilemap for Goenitz during cutscenes.
Cutscene_LoadGoenitzBG:
	; Load GFX
	ld   hl, GFXLZ_Cutscene_Goenitz
	ld   de, wLZSS_Buffer+$10
	call DecompressLZSS
	ld   hl, wLZSS_Buffer+$10
	ld   de, $8800
	ld   b, $4C
	call CopyTiles
	
	; Load tilemap
	ld   hl, BGLZ_Cutscene_Goenitz
	ld   de, wLZSS_Buffer+$10
	call DecompressLZSS
	ld   de, wLZSS_Buffer+$10
	ld   hl, $9844 ; Destination Ptr in VRAM
	ld   b, $0C ; Rect Width
	ld   c, $09 ; Rect Height
	ld   a, $80 ; Tile ID base offset (from $8800)
	jp   CopyBGToRectWithBase
	
; =============== Cutscene_LoadGoenitzDefeatedBG ===============
; Loads the patch tilemap for defeated Goenitz in the ending cutscene.
; This is applied over the existing one loaded by Cutscene_LoadGoenitzBG.
Cutscene_LoadGoenitzDefeatedBG:
	ld   de, BGLZ_Cutscene_GoenitzDefeated
	ld   hl, $98C8 ; Destination Ptr in VRAM
	ld   b, $04 ; Rect Width
	ld   c, $03 ; Rect Height
	ld   a, $80 ; Tile ID base offset (from $8800)
	jp   CopyBGToRectWithBase
	
; =============== CutsceneGoenitz_Easy ===============
; EASY-mode specific ending for SubModule_CutsceneGoenitz.
CutsceneGoenitz_Easy:
	; Black out palette for center sector
	ld   a, $FF
	ldh  [rBGP], a
	ldh  [hScreenSect1BGP], a
	
	;
	; Clear tilemap for center sector.
	; In easy mode, there's no screen flashing and Goenitz doesn't appear.
	;
	di
	;-----------------------------------
	rst  $10				; Stop LCD
	call ClearBGMap
	ei
	ld   a, LCDC_PRIORITY|LCDC_OBJENABLE|LCDC_OBJSIZE|LCDC_WENABLE|LCDC_WTILEMAP|LCDC_ENABLE
	rst  $18				; Resume LCD
	;-----------------------------------
	
	ld   a, BGM_WIND
	call HomeCall_Sound_ReqPlayExId_Stub
	
	call Task_PassControl_Delay04
	
	;
	; Set sector palette data
	;
	
	; Middle
	ld   a, $6C
	ldh  [rBGP], a
	ldh  [hScreenSect1BGP], a
	
	; Top + bottom
	ld   a, $13
	ldh  [hScreenSect0BGP], a
	ldh  [hScreenSect2BGP], a
	
	; Middle (OBJ)
	ld   a, $8C
	ldh  [rOBP0], a
	
	;
	; TEXT PRINTING
	;
	
	; Telling you to play on NORMAL difficulty
	ld   hl, TextC_CutsceneGoenitz0C_Easy
	call Cutscene_WriteTextBank1C
	ld   hl, TextC_CutsceneGoenitz0D_Easy
	call Cutscene_WriteTextBank1C
	
	jp   Cutscene_End

; =============== SubModule_Ending_Generic ===============
; Generic ending after defeating Goenitz.
SubModule_Ending_Generic:
	call Cutscene_SharedInit
	
	; Top section collapsed
	ld   a, $00
	ld   b, $5C
	call SetSectLYC
	
	; Show defeated Goenitz in the tilemap
	call Cutscene_LoadGoenitzBG
	call Cutscene_LoadGoenitzDefeatedBG
	
	; Move viewport to the right, so Goenitz appears partially off-screen on the left.
	ld   a, $40
	ldh  [hScrollX], a
	
	; Show Kagura sprite mapping
	call Cutscene_LoadKaguraOBJLst
	
	; Move Kagura to the right, so she appears partially off-screen on the right.
	ld   a, $80
	ld   [wOBJInfo_Kagura+iOBJInfo_X], a
	
	; Move the characters towards the center
	call Cutscene_ResumeLCDWithLYC	; A = (something != 0)
	ld   [wCutMoveLargeChars], a
	
	; No flashing
	xor  a
	ld   [wCutFlashTimer], a
	
	; Wait for start of the frame before continuing
	ei
	call Task_PassControl_NoDelay
	
	; Move viewport up so Goenitz is aligned to the end of the sector.
	; Otherwise he'd visibly look cut off.
	ld   a, -$05
	ldh  [hScrollY], a
	
	; Set Kagura palette
	ld   a, $6C
	ldh  [rOBP0], a
	
	; Set Goenitz palette
	ld   a, $6C
	ldh  [rBGP], a
	ldh  [hScreenSect1BGP], a
	
	; Set text sector palette
	ld   a, $03
	ldh  [hScreenSect0BGP], a
	ldh  [hScreenSect2BGP], a
	
	; Play ending cutscene music
	ld   a, BGM_TOTHESKY
	call HomeCall_Sound_ReqPlayExId_Stub
	
	; Move the characters while printing the text
	ld   a, BANK(Cutscene_MoveLargeChars) ; BANK $1D
	ld   [wTextPrintFrameCodeBank], a
	ld   hl, wTextPrintFrameCodePtr_Low
	ld   [hl], LOW(Cutscene_MoveLargeChars)
	inc  hl
	ld   [hl], HIGH(Cutscene_MoveLargeChars)
	
	;
	; TEXT PRINTING
	;
	
	ld   hl, TextC_Ending_Generic0
	call Cutscene_WriteTextBank1C
	ld   hl, TextC_Ending_Generic1
	call Cutscene_WriteTextBank1C
	ld   hl, TextC_Ending_Generic2
	call Cutscene_WriteTextBank1C
	ld   hl, TextC_Ending_Generic3
	call Cutscene_WriteTextBank1C
	ld   hl, TextC_Ending_Generic4
	call Cutscene_WriteTextBank1C
	ld   hl, TextC_Ending_Generic5
	call Cutscene_WriteTextBank1C
	
	;--
	
	call Ending_GoenitzLeave
	
	di
	;-----------------------------------
	rst  $10				; Stop LCD
	
	; Delete center sector
	call ClearBGMap
	
	; Show and move Kagura to the center of the screen
	ld   a, OST_VISIBLE
	ld   [wOBJInfo_Kagura+iOBJInfo_Status], a
	ld   a, $28
	ld   [wOBJInfo_Kagura+iOBJInfo_X], a
	ei
	
	ld   a, LCDC_PRIORITY|LCDC_OBJENABLE|LCDC_OBJSIZE|LCDC_WENABLE|LCDC_WTILEMAP|LCDC_ENABLE
	rst  $18				; Resume LCD
	;-----------------------------------
	call Task_PassControl_NoDelay
	
	; Stop moving characters
	xor  a
	ld   [wCutMoveLargeChars], a
	ld   a, TXB_NONE
	ld   [wTextPrintFrameCodeBank], a
	
	; Display the last lines of text
	ld   hl, TextC_Ending_KaguraGeneric0
	call Cutscene_WriteTextBank1C
	ld   hl, TextC_Ending_KaguraGeneric1
	call Cutscene_WriteTextBank1C
	ld   hl, TextC_Ending_KaguraGeneric2
	call Cutscene_WriteTextBank1C
	jp   Cutscene_End
	
; =============== Ending_GoenitzLeave ===============
; Part of the ending where Goentiz leaves while flashing the palette.
Ending_GoenitzLeave:
	di
	;-----------------------------------
	rst  $10				; Stop LCD
	
	; Delete existing Goenitz
	call ClearBGMap
	
	; Hide Kagura
	xor  a
	ld   [wOBJInfo_Pl1+iOBJInfo_Status], a
	
	; Set center sector to focus on Goenitz (which will be loaded shortly after).
	; [TCRF] The Y position cuts off the lower part of the graphic, and the screen only scrolls up.
	ld   a, -$10
	ldh  [hScrollX], a
	ld   a, +$20
	ldh  [hScrollY], a
	
	; Enable sector system
	ld   a, $18		; Start middle sector here
	ld   b, $5C		; End it here
	call SetSectLYC
	
	; Load GFX for Goenitz holding an hand up
	ld   hl, GFXLZ_Cutscene_GoenitzEscape
	ld   de, wLZSS_Buffer+$10
	call DecompressLZSS
	ld   hl, wLZSS_Buffer+$10
	ld   de, $8800
	ld   b, $50
	call CopyTiles
	
	; And load the respective tilemap
	ld   hl, BGLZ_Cutscene_GoenitzEscape
	ld   de, wLZSS_Buffer+$10
	call DecompressLZSS
	ld   de, wLZSS_Buffer+$10
	ld   hl, $9844 ; Destination Ptr in VRAM
	ld   b, $08 ; Rect Width
	ld   c, $0E ; Rect Height
	ld   a, $80 ; Tile ID base offset (from $8800)
	call CopyBGToRectWithBase
	
	ei
	ld   a, LCDC_PRIORITY|LCDC_OBJENABLE|LCDC_OBJSIZE|LCDC_WENABLE|LCDC_WTILEMAP|LCDC_ENABLE
	rst  $18				; Resume LCD
	;-----------------------------------
	
	; Set fully black palette for top sector.
	ld   a, $FF
	ldh  [hScreenSect0BGP], a
	; Set standard palette for middle sector
	ld   a, $6C
	ldh  [rBGP], a
	ldh  [hScreenSect1BGP], a
	; Set palette for text sector
	ld   a, $03
	ldh  [hScreenSect2BGP], a
	
	; Don't move characters horizontally.
	; Goenitz will be moved vertically, but that's handled separately.
	xor  a
	ld   [wCutMoveLargeChars], a
	call Task_PassControl_Delay04
	
	;
	; TEXT PRINTING
	;
	ld   a, TXB_NONE
	ld   [wTextPrintFrameCodeBank], a
	ld   hl, TextC_Ending_GoenitzLeave0
	call Cutscene_WriteTextBank1C
	
	; Start moving up while printing the next text, scrolling
	; Goenitz's hand into view.
	ld   a, BANK(Cutscene_ScrollUp)
	ld   [wTextPrintFrameCodeBank], a
	ld   hl, wTextPrintFrameCodePtr_Low
	ld   [hl], LOW(Cutscene_ScrollUp)
	inc  hl
	ld   [hl], HIGH(Cutscene_ScrollUp)
	
	; Because Cutscene_WriteTextBank1C calls Cutscene_PostTextWrite, and that subroutine
	; doesn't call Cutscene_ScrollUp, we have to call Cutscene_WriteText_Custom manually.
	ld   hl, TextC_Ending_GoenitzLeave1
	ld   b, BANK(TextC_Ending_GoenitzLeave1) ; BANK $1C
	call Cutscene_WriteText_Custom
	ld   hl, TextC_Ending_GoenitzLeave2
	ld   b, BANK(TextC_Ending_GoenitzLeave2) ; BANK $1C
	call Cutscene_WriteText_Custom
	
	

	; Continue scrolling up until reaching the target position.
.mvLoop:
	call Task_PassControl_NoDelay
	call Cutscene_ScrollUp
	ldh  a, [hScrollY]
	cp   $E0						; Reached the target position yet?
	jr   nz, .mvLoop				; If not, loop
	call Task_PassControl_Delay3B
	
	; Scroll away from Goenitz's hand, to blank the center sector
	; in preparation of the flashing.
	ld   a, $80
	ldh  [hScrollX], a
	ldh  [hScrollY], a
	ld   [wCutFlash2Timer], a
	call Task_PassControl_NoDelay
	
	;
	; Do the palette flash effect.
	; Unlike the normal palette flashing by Cutscene_FlashBGPal, this one
	; gets progressively faster as time goes on.
	;
	; There are four different thresholds for flashing speed, each handled
	; by its own subroutine.
	;
	
	
	; Speed 0 (8 frames)
	ld   b, $20
.s0Loop:
	call Cutscene_Flash2Spd0
	call Task_PassControl_NoDelay
	dec  b
	jr   nz, .s0Loop
	
	; Speed 1 (4 frames)
	ld   b, $20
.s1Loop:
	call Cutscene_Flash2Spd1
	call Task_PassControl_NoDelay
	dec  b
	jr   nz, .s1Loop
	
	; Speed 2 (2 frames)
	ld   b, $20
.s2Loop:
	call Cutscene_Flash2Spd2
	call Task_PassControl_NoDelay
	dec  b
	jr   nz, .s2Loop
	
	; Speed 3 (1 frame)
	ld   b, $20
.s3Loop:
	call Cutscene_Flash2Spd3
	call Task_PassControl_NoDelay
	dec  b
	jr   nz, .s3Loop
	
	; We're done, restore the normal palette
	ld   a, $6C
	ldh  [hScreenSect1BGP], a
	jp   Task_PassControl_Delay3B
	
	
; =============== Cutscene_Flash2Spd0 ===============
; Switches between palettes every 8 frames.
Cutscene_Flash2Spd0:
	ld   a, [wCutFlash2Timer]			; Timer++
	inc  a
	ld   [wCutFlash2Timer], a
	and  a, $08							; (Timer & %1000) == 0?
	jr   z, Cutscene_Flash2SetPalWhite	; If so, jump
	; Fall-through
	
; =============== Cutscene_Flash2SetPal* ===============
; Helper subroutines called by every Cutscene_Flash2Spd*.
Cutscene_Flash2SetPalBlack:
	ld   a, $FF
	ldh  [hScreenSect1BGP], a
	ret
Cutscene_Flash2SetPalWhite:
	ld   a, $6C
	ldh  [hScreenSect1BGP], a
	ret
	
; =============== Cutscene_Flash2Spd1 ===============
; Switches between palettes every 4 frames.
Cutscene_Flash2Spd1:
	ld   a, [wCutFlash2Timer]
	inc  a
	ld   [wCutFlash2Timer], a
	and  a, $04
	jr   z, Cutscene_Flash2SetPalWhite
	jr   Cutscene_Flash2SetPalBlack
	
; =============== Cutscene_Flash2Spd2 ===============
; Switches between palettes every 2 frames.	
Cutscene_Flash2Spd2:
	ld   a, [wCutFlash2Timer]
	inc  a
	ld   [wCutFlash2Timer], a
	and  a, $02
	jr   z, Cutscene_Flash2SetPalWhite
	jr   Cutscene_Flash2SetPalBlack
	
; =============== Cutscene_Flash2Spd3 ===============
; Switches between palettes every other frame.
Cutscene_Flash2Spd3:
	ld   a, [wCutFlash2Timer]
	inc  a
	ld   [wCutFlash2Timer], a
	and  a, $01
	jr   z, Cutscene_Flash2SetPalWhite
	jr   Cutscene_Flash2SetPalBlack
	
; =============== Cutscene_MoveLargeChars ===============
; Moves the large cutscene characters (Kagura, Goenitz) until they reach their target position.
; This is used in the main ending cutscene, where both characters are visible at the same
; time, with Goenitz moving right and Kagura left from the edges of the screen.
Cutscene_MoveLargeChars:

	; This must be manually enabled
	ld   a, [wCutMoveLargeChars]
	and  a, a
	ret  z
	
	; If we reached the target position of $50 already, return.
	ld   a, [wOBJInfo_Kagura+iOBJInfo_X]
	cp   $50
	ret  z
	
	;
	; Move Kagura left at $00.10px/frame.
	; This is in the sprite layer, so moving left accomplishes just that.
	;

	; H = Kagura X Pos
	ld   h, a						
	; L = Kagura Y Pos
	ld   a, [wOBJInfo_Kagura+iOBJInfo_XSub]	; L = Sub Pos
	ld   l, a
	
	; Move left by -$00.10
	ld   de, -$0010
	add  hl, de
	
	; Save the updated value back
	ld   a, h
	ld   [wOBJInfo_Kagura+iOBJInfo_X], a
	ld   a, l
	ld   [wOBJInfo_Kagura+iOBJInfo_XSub], a
	
	
	;
	; Move Goenitz right at $00.10px/frame.
	; Because Goenitz is part of the BG layer, this is done by moving the viewport to the left.
	;
	
	; HL = Goenitz X Pos
	ldh  a, [hScrollX]
	ld   h, a
	ldh  a, [hScrollXSub]
	ld   l, a
	
	; Scroll viewport left by -$00.10
	add  hl, de
	
	; Save the updated value back
	ld   a, h
	ldh  [hScrollX], a
	ld   a, l
	ldh  [hScrollXSub], a
	ret
	
; =============== Cutscene_ScrollUp ===============
; Scrolls the screen up at $00.40px/frame, until the target is reached.
; This is used to move Goenitz down to display his hand in his escape/death anim.
Cutscene_ScrollUp:
	; DE = Movement speed
	ld   de, -$0040
	
	; If we reached the target position already, return
	ldh  a, [hScrollY]
	cp   $E0
	ret  z
	
	; hScrollY += -$0040
	ld   h, a
	ldh  a, [hScrollYSub]
	ld   l, a
	add  hl, de
	ld   a, h
	ldh  [hScrollY], a
	ld   a, l
	ldh  [hScrollYSub], a
	ret
	
; =============== SubModule_Ending_SacredTreasures ===============
; Special ending after defeating Goenitz with Iori, Kyo and Chizuru in the team.	
SubModule_Ending_SacredTreasures:
	call Cutscene_SharedInit
	
	; Top section collapsed
	ld   a, $00
	ld   b, $5C
	call SetSectLYC
	
	; Show defeated Goenitz in the tilemap
	call Cutscene_LoadGoenitzBG
	call Cutscene_LoadGoenitzDefeatedBG
	
	; Move viewport up so Goenitz is aligned to the end of the sector.
	ld   a, -$05
	ldh  [hScrollY], a
	
	call Cutscene_ResumeLCDWithLYC
	
	; Don't do any effects.
	; Goenitz stays fixed at the center of the screen.
	xor  a
	ld   [wCutMoveLargeChars], a
	ld   [wCutFlashTimer], a
	
	; Wait for start of the frame before continuing
	ei
	call Task_PassControl_Delay09
	
	; Set Goenitz palette
	ld   a, $6C
	ldh  [rBGP], a
	ldh  [hScreenSect1BGP], a
	
	; Set text sector palette
	ld   a, $13
	ldh  [hScreenSect0BGP], a
	ldh  [hScreenSect2BGP], a
	
	
	; Play ending cutscene music
	ld   a, BGM_TOTHESKY
	call HomeCall_Sound_ReqPlayExId_Stub
	
	;
	; TEXT PRINTING
	;
	ld   a, TXB_NONE
	ld   [wTextPrintFrameCodeBank], a
	ld   hl, TextC_Ending_SacredTreasures0
	call Cutscene_WriteTextBank1D
	ld   hl, TextC_Ending_SacredTreasures1
	call Cutscene_WriteTextBank1D
	ld   hl, TextC_Ending_SacredTreasures2
	call Cutscene_WriteTextBank1D
	
	;
	; FLASH EFFECT
	;
	
	; White out screen
	xor  a
	ldh  [rBGP], a				; Fully white palette
	ldh  [hScreenSect1BGP], a
	ld   a, $80					; Scroll Goenitz off-screen
	ldh  [hScrollY], a
	
	; Set up flashing
	ld   a, $01
	ld   [wCutFlashTimer], a
	ld   a, BANK(Cutscene_FlashBGPal)
	ld   [wTextPrintFrameCodeBank], a
	ld   hl, wTextPrintFrameCodePtr_Low
	ld   [hl], LOW(Cutscene_FlashBGPal)
	inc  hl
	ld   [hl], HIGH(Cutscene_FlashBGPal)
	
	; Print this while flashing
	ld   hl, TextC_Ending_SacredTreasures3
	call Cutscene_WriteTextBank1D
	
	; Stop flashing
	xor  a
	ld   [wCutFlashTimer], a
	call Task_PassControl_NoDelay
	
	;
	; DISPLAY TEAM MEMBERS
	;
	
	; Black out palette before load.
	; This is required to hide that graphics are loading of graphics while the display is enabled.
	; Why doing that? If display were disabled, the screen would flash white while doing this.
	ld   a, $FF
	ldh  [rBGP], a
	ldh  [hScreenSect1BGP], a
	ldh  [rOBP0], a
	
	; Wait for next frame
	call Task_PassControl_NoDelay
	di
	;-----------------------------------
	rst  $10				; Stop LCD
	
	; Scroll screen to top left
	xor  a
	ldh  [hScrollX], a
	ldh  [hScrollY], a
	
	; Delete Goenitz
	call ClearBGMap
	
	; Display team members
	call Cutscene_InitChars
	ei
	ld   a, LCDC_PRIORITY|LCDC_OBJENABLE|LCDC_OBJSIZE|LCDC_WENABLE|LCDC_WTILEMAP|LCDC_ENABLE
	rst  $18				; Resume LCD
	;-----------------------------------
	
	; Wait a bit
	call Task_PassControl_Delay09
	
	; Set up palettes, etc...
	call Cutscene_InitCharMisc
	
	;
	; Print all of the screens of text.
	;
	ld   a, TXB_NONE
	ld   [wTextPrintFrameCodeBank], a
	ld   hl, TextC_Ending_SacredTreasures4
	call Cutscene_WriteTextBank1D
	ld   hl, TextC_Ending_SacredTreasures5
	call Cutscene_WriteTextBank1D
	ld   hl, TextC_Ending_SacredTreasures6
	call Cutscene_WriteTextBank1D
	ld   hl, TextC_Ending_SacredTreasures7
	call Cutscene_WriteTextBank1D
	ld   hl, TextC_Ending_SacredTreasures8
	call Cutscene_WriteTextBank1D
	ld   hl, TextC_Ending_SacredTreasures9
	call Cutscene_WriteTextBank1D
	ld   hl, TextC_Ending_SacredTreasuresA
	call Cutscene_WriteTextBank1D
	ld   hl, TextC_Ending_SacredTreasuresB
	call Cutscene_WriteTextBank1D
	ld   hl, TextC_Ending_SacredTreasuresC
	call Cutscene_WriteTextBank1D
	ld   hl, TextC_Ending_SacredTreasuresD
	call Cutscene_WriteTextBank1D
	ld   hl, TextC_Ending_SacredTreasuresE
	call Cutscene_WriteTextBank1D
	ld   hl, TextC_Ending_SacredTreasuresF
	call Cutscene_WriteTextBank1D
	
	jp   Cutscene_End
	
; =============== SubModule_Ending_OLeona ===============
; Special ending after defeating Goenitz with Leona, Iori, and Mature in the team.		
SubModule_Ending_OLeona:;I

	call Cutscene_SharedInit
	
	; Top section collapsed
	ld   a, $00
	ld   b, $5C
	call SetSectLYC
	
	; Show defeated Goenitz in the tilemap
	call Cutscene_LoadGoenitzBG
	call Cutscene_LoadGoenitzDefeatedBG
	
	; Move viewport up so Goenitz is aligned to the end of the sector.
	ld   a, -$05
	ldh  [hScrollY], a
	
	call Cutscene_ResumeLCDWithLYC
	
	; Don't do any effects.
	; Goenitz stays fixed at the center of the screen.
	xor  a
	ld   [wCutMoveLargeChars], a
	ld   [wCutFlashTimer], a
	
	; Wait for start of the frame before continuing
	ei
	call Task_PassControl_Delay09
	
	; Set Goenitz palette
	ld   a, $6C
	ldh  [rBGP], a
	ldh  [hScreenSect1BGP], a
	ldh  [rOBP0], a
	
	; Set text sector palette
	ld   a, $13
	ldh  [hScreenSect0BGP], a
	ldh  [hScreenSect2BGP], a
	
	
	; Play ending cutscene music
	ld   a, BGM_TOTHESKY
	call HomeCall_Sound_ReqPlayExId_Stub
	
	;
	; TEXT PRINTING
	;
	ld   a, TXB_NONE
	ld   [wTextPrintFrameCodeBank], a
	ld   hl, TextC_Ending_OLeona0
	call Cutscene_WriteTextBank1D
	ld   hl, TextC_Ending_OLeona1
	call Cutscene_WriteTextBank1D
	ld   hl, TextC_Ending_OLeona2
	call Cutscene_WriteTextBank1D
	ld   hl, TextC_Ending_OLeona3
	call Cutscene_WriteTextBank1D
	ld   hl, TextC_Ending_OLeona4
	call Cutscene_WriteTextBank1D
	ld   hl, TextC_Ending_OLeona5
	call Cutscene_WriteTextBank1D
	ld   hl, TextC_Ending_OLeona6
	call Cutscene_WriteTextBank1D
	ld   hl, TextC_Ending_Generic5 ; TextC_Ending_OLeona7
	call Cutscene_WriteTextBank1C
	
	; Goenitz flies away with the palette flash, like the normal ending
	call Ending_GoenitzLeave
	call Task_PassControl_NoDelay
	
	;
	; DISPLAY TEAM MEMBERS
	;
	
	; Black out palette before load.
	ld   a, $FF
	ldh  [rBGP], a
	ldh  [hScreenSect0BGP], a
	ldh  [hScreenSect1BGP], a
	ldh  [hScreenSect2BGP], a
	ldh  [rOBP0], a
	
	; Wait for next frame
	call Task_PassControl_NoDelay
	di
	;-----------------------------------
	rst  $10				; Stop LCD
	
	; Delete Goenitz
	call ClearBGMap
	
	; Scroll screen to top left
	xor  a
	ldh  [hScrollX], a
	ldh  [hScrollY], a
	
	; Display team members
	call Cutscene_InitChars
	ei
	ld   a, LCDC_PRIORITY|LCDC_OBJENABLE|LCDC_OBJSIZE|LCDC_WENABLE|LCDC_WTILEMAP|LCDC_ENABLE
	rst  $18				; Resume LCD
	;-----------------------------------
	
	; Wait a bit
	call Task_PassControl_Delay04
	
	; Set up palettes, etc...
	call Cutscene_InitCharMisc
	
	; Disable flash
	xor  a
	ld   [wCutFlashTimer], a
	
	;
	; Print all of the screens of text.
	;
	ld   a, TXB_NONE
	ld   [wTextPrintFrameCodeBank], a
	ld   hl, TextC_Ending_OLeona8
	call Cutscene_WriteTextBank1D
	ld   hl, TextC_Ending_OLeona9
	call Cutscene_WriteTextBank1D
	
	jp   Cutscene_End
	
; =============== SubModule_EndingPost_FFGeese ===============
; Special post ending scene after defeating Goenitz with Terry, Andy and Geese in the team.
; All of the EndingPost_* cutscenes are set on the team display screen.
SubModule_EndingPost_FFGeese:
	call Cutscene_SharedInit
	
	; Top section collapsed
	ld   a, $00
	ld   b, $5C
	call SetSectLYC
	
	; Display team members
	call Cutscene_InitChars
	
	call Cutscene_ResumeLCDWithLYC
	
	; No special effects
	xor  a
	ld   [wCutMoveLargeChars], a
	ld   [wCutFlashTimer], a
	ei
	
	; Wait a bit before showing anything
	call Task_PassControl_Delay09
	
	; Set up palettes, etc...
	call Cutscene_InitCharMisc
	ld   a, TXB_NONE
	ld   [wTextPrintFrameCodeBank], a
	
	; Print out the special text
	ld   hl, TextC_EndingPost_FFGeese0
	call Cutscene_WriteTextBank1D
	ld   hl, TextC_EndingPost_FFGeese1
	call Cutscene_WriteTextBank1D
	
	jp   Cutscene_End

; =============== SubModule_EndingPost_AOFMrBig ===============
; Special post ending scene after defeating Goenitz with Ryo, Robert and Mr.Big in the team.	
SubModule_EndingPost_AOFMrBig:
	call Cutscene_SharedInit
	
	; Top section collapsed
	ld   a, $00
	ld   b, $5C
	call SetSectLYC
	
	; Display team members
	call Cutscene_InitChars
	
	call Cutscene_ResumeLCDWithLYC
	
	; No special effects
	xor  a
	ld   [wCutMoveLargeChars], a
	ld   [wCutFlashTimer], a
	ei
	
	; Wait a bit before showing anything
	call Task_PassControl_Delay09
	
	; Set up palettes, etc...
	call Cutscene_InitCharMisc
	ld   a, TXB_NONE
	ld   [wTextPrintFrameCodeBank], a
	
	; Print out the special text
	ld   hl, TextC_EndingPost_AOFMrBig0
	call Cutscene_WriteTextBank1D
	ld   hl, TextC_EndingPost_AOFMrBig1
	call Cutscene_WriteTextBank1D
	jp   Cutscene_End

; =============== SubModule_EndingPost_KTR ===============
; Special post ending scene after defeating Goenitz with Kyo, Terry and Ryo in the team.	
SubModule_EndingPost_KTR:
	call Cutscene_SharedInit
	
	; Top section collapsed
	ld   a, $00
	ld   b, $5C
	call SetSectLYC
	
	; Display team members
	call Cutscene_InitChars
	
	call Cutscene_ResumeLCDWithLYC
	
	; No special effects
	xor  a
	ld   [wCutMoveLargeChars], a
	ld   [wCutFlashTimer], a
	ei
	
	; Wait a bit before showing anything
	call Task_PassControl_Delay09
	
	; Set up palettes, etc...
	call Cutscene_InitCharMisc
	ld   a, TXB_NONE
	ld   [wTextPrintFrameCodeBank], a
	
	; Print out the special text
	ld   hl, TextC_EndingPost_KTR0
	call Cutscene_WriteTextBank1D
	jp   Cutscene_End
	
; =============== SubModule_EndingPost_Boss ===============
; Special post ending scene after defeating Goenitz with Geese, Krauser and Mr.Big in the team.	
SubModule_EndingPost_Boss:
	call Cutscene_SharedInit
	
	; Top section collapsed
	ld   a, $00
	ld   b, $5C
	call SetSectLYC
	
	; Display team members
	call Cutscene_InitChars
	
	call Cutscene_ResumeLCDWithLYC
	
	; No special effects
	xor  a
	ld   [wCutMoveLargeChars], a
	ld   [wCutFlashTimer], a
	ei
	
	; Wait a bit before showing anything
	call Task_PassControl_Delay09
	
	; Set up palettes, etc...
	call Cutscene_InitCharMisc
	ld   a, TXB_NONE
	ld   [wTextPrintFrameCodeBank], a
	
	; Print out the special text
	ld   hl, TextC_EndingPost_Boss0
	call Cutscene_WriteTextBank1D
	ld   hl, TextC_EndingPost_Boss1
	call Cutscene_WriteTextBank1D
	ld   hl, TextC_EndingPost_Boss2
	call Cutscene_WriteTextBank1D
	ld   hl, TextC_EndingPost_Boss3
	call Cutscene_WriteTextBank1D
	ld   hl, TextC_EndingPost_Boss4
	call Cutscene_WriteTextBank1D
	ld   hl, TextC_EndingPost_Boss5
	call Cutscene_WriteTextBank1D
	jp   Cutscene_End
	
; =============== SubModule_EndingPost_Boss ===============
; Post-credits scene displayed in NORMAL mode.
SubModule_CutsceneCheat:
	call Cutscene_SharedInit
	
	; The text is printed into the WINDOW layer.
	; Move it down a bit to vertically center the text.
	ld   a, $20
	ldh  [rWY], a
	
	ld   a, LCDC_PRIORITY|LCDC_OBJENABLE|LCDC_OBJSIZE|LCDC_WENABLE|LCDC_WTILEMAP|LCDC_ENABLE
	rst  $18				; Resume LCD
	;-----------------------------------
	
	; No special effect
	xor  a
	ld   [wCutMoveLargeChars], a
	ld   [wCutFlashTimer], a
	
	; Wait, then set text palette
	ei
	call Task_PassControl_NoDelay
	ld   a, $03
	ldh  [rBGP], a
	
	; Print out the instructions, while playing SGB SFX for each letter
	ld   a, TXB_NONE
	ld   [wTextPrintFrameCodeBank], a
	ld   hl, TextC_CheatList
	call Cutscene_WriteTextBank1CSFX
	
	jp   Cutscene_End
	
; =============== SubModule_CutsceneMrKarate ===============
; Post-credits scene displayed in HARD mode.	
SubModule_CutsceneMrKarate:
	call Cutscene_SharedInit
	
	; Enable sectors
	ld   a, $18	; Middle sector starts here
	ld   b, $5C ; Ends here
	call SetSectLYC
	
	;
	; Load Mr.Karate to wOBJInfo_Pl1 and place it at the center of the middle sector.
	;
	
	; Reload player sprite mapping
	ld   hl, wOBJInfo_Pl1+iOBJInfo_Status
	ld   de, OBJInfoInit_Pl1
	call OBJLstS_InitFrom
	; Setup properties (position, etc...) from an hardcoded entry
	ld   hl, Cutscene_CharAnimTbl.mrKarate
	call Cutscene_InitCharOBJLst
	
	call Cutscene_ResumeLCDWithLYC
	
	; No text effects
	xor  a
	ld   [wCutMoveLargeChars], a
	ld   [wCutFlashTimer], a
	ei
	
	; Wait frame then load char display palettes, etc...
	call Task_PassControl_Delay09
	call Cutscene_InitCharMisc
	
	;
	; TEXT PRINTING
	;
	ld   a, TXB_NONE
	ld   [wTextPrintFrameCodeBank], a
	ld   hl, TextC_CutsceneMrKarate0
	call Cutscene_WriteTextBank1D
	ld   hl, TextC_CutsceneMrKarate1
	call Cutscene_WriteTextBank1D
	ld   hl, TextC_CutsceneMrKarate2
	call Cutscene_WriteTextBank1D
	
	jp   Cutscene_End
	
; =============== Cutscene_InitChars ===============
; Initializes the player characters when cutscenes want to display team members.
; This is very similar to WinScr_InitChars, and calls some code from that bank too.
Cutscene_InitChars:
	;
	; Initialize the sprite mapping for the player at the center of the screen.
	; Note that even though it uses sprites, the player at the center is *not* animated
	; unlike the win screen.
	;
	ld   hl, wOBJInfo_Winner
	ld   de, OBJInfoInit_Pl1
	call OBJLstS_InitFrom
	
	; BC = Ptr to winner wPlInfo
	ld   a, [wWinPlInfoPtr_Low]
	ld   c, a
	ld   a, [wWinPlInfoPtr_High]
	ld   b, a
	
	;
	; Initialize and use wOBJInfo_Winner to display the sprite of the winner.
	; Both 1P and 2P use this slot in the win screen.
	;
	push bc
	
		;
		; Index the table that assigns animations for every character.
		; Each entry in this table is 4 bytes long, so:
		;
		
		; DE = iPlInfo_CharId * 2
		ld   hl, iPlInfo_CharId
		add  hl, bc		; Seek to iPlInfo_CharId
		ld   d, $00		; DE = iPlInfo_CharId
		ld   e, [hl]
		sla  e			; DE << 1
		rl   d
		; Index the table
		; HL = Ptr to animation table entry
		ld   hl, Cutscene_CharAnimTbl
		add  hl, de
		
	pop  bc
	push bc
		;
		; Set the animation / update the sprite mapping.
		;
		call Cutscene_InitCharOBJLst
		
		; Load the block of compressed character GFX to the LZSS buffer
		ld   b, BANK(OrdSel_DecompressCharGFX) ; BANK $1E
		ld   hl, OrdSel_DecompressCharGFX
		rst  $08
	pop  bc
	
	;
	; Draw the other team members to the tilemap, if applicable.
	;
	
	;
	; The game doesn't reorder the character slots for team members (iPlInfo_TeamCharId*),
	; so depending on how many team members lost, pick different character slots.
	;
	; Note these aren't consistent with the order of character icons in the team, but who cares.
	;
	ld   hl, iPlInfo_TeamLossCount
	add  hl, bc
	ld   a, [hl]
	cp   $01		; Did 1 member lose?
	jr   z, .loss1	; If so, jump
	cp   $02		; Did 2 members lose?
	jr   z, .loss2	; If so, jump
	; Otherwise, no members lost
	
; =============== mCutDrawSecChar ===============
; Generates code to draw the other team members to the tilemap.
; IN
; - 1: Field for the character on the left
; - 2: Field for the character on the right
mCutDrawSecChar: MACRO
	;
	; Draw the character on the left facing right.
	;
	ld   hl, \1
	add  hl, bc			; Seek to team char id
	ld   a, [hl]		; A = CharId
	cp   CHAR_ID_NONE	; Is there any character on this slot?
	jr   z, .drawR_\@	; If not, skip
	
	; Otherwise, draw it
	ld   de, $8800		; DE = Destination ptr for char GFX
	push bc
		ld   c, a					; C = CharId
		;##
		ld   b, BANK(OrdSel_LoadCharGFX1P) ; BANK $1E
		ld   hl, OrdSel_LoadCharGFX1P
		rst  $08					; Copy them to DE, horizontally flipped
		;##
		call .copyCharBG_L	; Update the tilemap
	pop  bc
.drawR_\@:
	;
	; Draw the character on the right facing left.
	;
	ld   hl, \2
	add  hl, bc			; Seek to team char id
	ld   a, [hl]		; A = CharId
	cp   CHAR_ID_NONE	; Is there any character on this slot?
	jr   z, .ret		; If not, return (this never happens, there are no 2-character teams)
	; Otherwise, draw it
	ld   de, $8920		; DE = Destination ptr for char GFX
	ld   c, a			; C = CharId
	;##
	ld   b, BANK(OrdSel_LoadCharGFX2P) ; BANK $1E
	ld   hl, OrdSel_LoadCharGFX2P
	rst  $08					; Copy them to DE
	;##
	; Fall-through to .copyCharBG_R
ENDM
	
.loss0:
	; With no losses, draw the team members in their normal order
	mCutDrawSecChar iPlInfo_TeamCharId1, iPlInfo_TeamCharId2
	jr   .copyCharBG_R
.loss1:
	; With 1 loss, iPlInfo_TeamCharId0 and iPlInfo_TeamCharId1 get switched 
	mCutDrawSecChar iPlInfo_TeamCharId0, iPlInfo_TeamCharId2
	jr   .copyCharBG_R
.loss2:
	; With 2 losses, iPlInfo_TeamCharId2 pushes both back
	mCutDrawSecChar iPlInfo_TeamCharId0, iPlInfo_TeamCharId1
	; Fall-through
	
; =============== .copyCharBG_R ===============
; Writes the tilemap for the team member on the right, facing left.
.copyCharBG_R:
	ld   hl, $988E				; Destination ptr to tilemap
	ld   de, BG_Cutscene_Char2P	; Ptr to uncompressed tilemap
	ld   a, $92					; Tile ID base offset
	jp   Cutscene_CopyCharBG
; =============== .copyCharBG_L ===============
; Writes the tilemap for the team member on the left, facing right.
.copyCharBG_L:
	ld   hl, $9883		; Destination ptr to tilemap
	call Cutscene_CopyCharBG_1P0
.ret:
	ret
	
; =============== Cutscene_InitCharOBJLst ===============
; Updates wOBJInfo_Winner with the specified animation data.	
; Almost identical to the sprite mapping update code from WinScr_InitChars.
; IN
; - HL: Ptr to Cutscene_CharAnimTbl entry (4 byte entries, same format as WinScr_CharAnimTbl)
Cutscene_InitCharOBJLst:
	; Move the ptr to BC
	push hl
	pop  bc
	
	;##
	; (this is the only different part)
	;
	; Show the sprite mapping and loop the first frame indefinitely
	ld   de, wOBJInfo_Winner+iOBJInfo_Status
	ld   a, OST_ANIMEND|OST_VISIBLE
	ld   [de], a
	;##
	
	; Copy over the animation info from the previously indexed table entry
	ld   hl, iOBJInfo_BankNum
	add  hl, de
	ld   a, [bc]	; Read byte0
	ldi  [hl], a	; Copy it to iOBJInfo_BankNum
	inc  bc
	ld   a, [bc]	; Read byte1
	ldi  [hl], a	; Copy it to iOBJInfo_OBJLstPtrTbl_Low
	inc  bc
	ld   a, [bc]	; Read byte2
	ldi  [hl], a	; Copy it to iOBJInfo_OBJLstPtrTbl_High
	inc  bc
	xor  a
	ld   [hl], a	; Restart animation (iOBJInfo_OBJLstPtrTblOffset = 0)

	; Center the sprite
	ld   hl, iOBJInfo_X
	add  hl, de
	ld   a, $50		; X Position $50
	ldi  [hl], a
	inc  hl
	ld   [hl], $20	; Y Position $20
	
	; Update the animation speed from the last byte of the entry
	ld   hl, iOBJInfo_FrameLeft
	add  hl, de
	ld   a, [bc]	; Read byte3
	ldi  [hl], a	; Copy it to iOBJInfo_FrameLeft
	ld   [hl], a	; Copy it to iOBJInfo_FrameTotal
	
	push de
	pop  hl
	jp   OBJLstS_DoAnimTiming_Initial
	
; =============== Cutscene_CopyCharBG_* ===============
; These are copied from the respective code in Module_OrdSel.

; =============== Cutscene_CopyCharBG_1P0 ===============
; Writes the tilemap for the leftmost 1P characters.
; See also: OrdSel_CopyCharBG_1P0
; IN
; - HL: Destination ptr in VRAM	
Cutscene_CopyCharBG_1P0:
	ld   a, $80
	; Fall-through
	
; =============== OrdSel_CopyCharBG_1P ===============
; Writes the tilemap for a 1P character.
; IN
; - A: Tile ID base offset
; - HL: Destination ptr in VRAM
Cutscene_CopyCharBG_1P:
	ld   de, BG_Cutscene_Char1P
	; Fall-through
	
; =============== Cutscene_CopyCharBG ===============
; Writes the tilemap for a character to VRAM.
; IN
; - DE: Ptr to uncompressed tilemap
; - HL: Destination Ptr in VRAM
; - A: Tile ID base offset
Cutscene_CopyCharBG:
	ld   b, $03		; B = Rect Width
	ld   c, $06		; C = Rect Height
	jp   CopyBGToRectWithBase
	
; =============== Cutscene_Unused_CopyCharBG_1P1 ===============
; [TCRF] Unreferenced copied code.
; Writes the tilemap for the 1P character in the middle.
; - HL: Destination ptr in VRAM
Cutscene_Unused_CopyCharBG_1P1:
	ld   a, $92
	jr   Cutscene_CopyCharBG_1P

; =============== BG_Cutscene_Char*P ===============
; Normal tilemaps with relative tile IDs, shared across characters.
; Identical to ordsel version.
BG_Cutscene_Char1P: INCBIN "data/bg/ordsel_char1p.bin"
BG_Cutscene_Char2P: INCBIN "data/bg/ordsel_char2p.bin"

; =============== Cutscene_CharAnimTbl ===============
; This table assigns every character to its own animation, used when the
; team member in the middle is displayed.
; Note that only the first frame of these animations will be played.
; See also: WinScr_CharAnimTbl
Cutscene_CharAnimTbl:
	; CHAR_ID_KYO
	dp OBJLstPtrTable_Kyo_Idle ; BANK $07
	db $00

	; CHAR_ID_DAIMON
	dp OBJLstPtrTable_Daimon_Idle ; BANK $09
	db $00

	; CHAR_ID_TERRY
	dp OBJLstPtrTable_Terry_Idle ; BANK $09
	db $00

	; CHAR_ID_ANDY
	dp OBJLstPtrTable_Andy_Idle ; BANK $08
	db $00

	; CHAR_ID_RYO
	dp OBJLstPtrTable_Ryo_Idle ; BANK $0A
	db $00

	; CHAR_ID_ROBERT
	dp OBJLstPtrTable_Robert_Idle ; BANK $07
	db $00

	; CHAR_ID_ATHENA
	dp OBJLstPtrTable_Athena_Idle ; BANK $08
	db $00

	; CHAR_ID_MAI
	dp OBJLstPtrTable_Mai_Idle ; BANK $08
	db $00

	; CHAR_ID_LEONA
	dp OBJLstPtrTable_Leona_Idle ; BANK $0A
	db $00

	; CHAR_ID_GEESE
	dp OBJLstPtrTable_Geese_Idle ; BANK $07
	db $00

	; CHAR_ID_KRAUSER
	dp OBJLstPtrTable_Krauser_Idle ; BANK $09
	db $00

	; CHAR_ID_MRBIG
	dp OBJLstPtrTable_MrBig_Idle ; BANK $07
	db $00

	; CHAR_ID_IORI
	dp OBJLstPtrTable_Iori_Idle ; BANK $05
	db $00

	; CHAR_ID_MATURE
	dp OBJLstPtrTable_Mature_Idle ; BANK $09
	db $00

	; CHAR_ID_CHIZURU
	dp OBJLstPtrTable_Chizuru_Idle ; BANK $05
	db $00

	; CHAR_ID_GOENITZ
	dp OBJLstPtrTable_Goenitz_Idle ; BANK $08
	db $00
.mrKarate:
	; CHAR_ID_MRKARATE
	dp OBJLstPtrTable_MrKarate_Idle ; BANK $0A
	db $00

	; CHAR_ID_OIORI
	dp OBJLstPtrTable_OIori_Idle ; BANK $05
	db $00

	; CHAR_ID_OLEONA
	dp OBJLstPtrTable_OLeona_Idle ; BANK $0A
	db $00

	; CHAR_ID_KAGURA
	dp OBJLstPtrTable_Chizuru_Idle ; BANK $05
	db $00

; =============== Cutscene_InitCharMisc ===============
; Initializes miscellaneous data when displaying team members.
Cutscene_InitCharMisc:
	; Set center sector palette
	ld   a, $8C
	ldh  [rOBP0], a
	ld   a, $2D
	ldh  [rBGP], a
	ldh  [hScreenSect1BGP], a
	
	; Set top/text sector palette
	ld   a, $13
	ldh  [hScreenSect0BGP], a
	ldh  [hScreenSect2BGP], a
	
	; The player at the center of the screen is slightly above the two other ones
	ld   a, $20
	ld   [wOBJInfo_Winner+iOBJInfo_Y], a
	
	; Set pre-fight cutscene music
	ld   a, BGM_MRKARATECUTSCENE
	call HomeCall_Sound_ReqPlayExId_Stub
	
	; Wait frame
	jp   Task_PassControl_NoDelay
	
; =============== SubModule_CutsceneMrKarateDefeat ===============
; Cutscene displayed after defeating the extra Mr.Karate stage.
SubModule_CutsceneMrKarateDefeat:
	call Cutscene_SharedInit
	
	; Enable sectors
	ld   a, $18	; Middle sector starts here
	ld   b, $5C ; Ends here
	call SetSectLYC
	
	;
	; Load Mr.Karate to wOBJInfo_Pl1 and place it at the center of the middle sector.
	;
	
	; Reload player sprite mapping
	ld   hl, wOBJInfo_Pl1+iOBJInfo_Status
	ld   de, OBJInfoInit_Pl1
	call OBJLstS_InitFrom
	; Setup properties (position, etc...) from an hardcoded entry
	ld   hl, Cutscene_CharAnimTbl.mrKarate
	call Cutscene_InitCharOBJLst
	
	call Cutscene_ResumeLCDWithLYC
	
	; No text effects
	xor  a
	ld   [wCutMoveLargeChars], a
	ld   [wCutFlashTimer], a
	ei
	
	; Wait frame then load char display palettes, etc...
	call Task_PassControl_Delay09
	call Cutscene_InitCharMisc
	
	;
	; TEXT PRINTING
	;
	ld   a, TXB_NONE
	ld   [wTextPrintFrameCodeBank], a
	ld   hl, TextC_CutsceneMrKarateDefeat0
	call Cutscene_WriteTextBank1D
	ld   hl, TextC_CutsceneMrKarateDefeat1
	call Cutscene_WriteTextBank1D
	ld   hl, TextC_CutsceneMrKarateDefeat2
	call Cutscene_WriteTextBank1D
	ld   hl, TextC_CutsceneMrKarateDefeat3
	call Cutscene_WriteTextBank1D
	ld   hl, TextC_CutsceneMrKarateDefeat4
	call Cutscene_WriteTextBank1D
	ld   hl, TextC_CutsceneMrKarateDefeat5
	call Cutscene_WriteTextBank1D
	ld   hl, TextC_CutsceneMrKarateDefeat6
	call Cutscene_WriteTextBank1D
	ld   hl, TextC_CutsceneMrKarateDefeat7
	call Cutscene_WriteTextBank1D
	ld   hl, TextC_CutsceneMrKarateDefeat8
	call Cutscene_WriteTextBank1D
	
	jp   Cutscene_End
	
; =============== Cutscene_SharedInit ===============
; Initialization code common between all cutscenes.
Cutscene_SharedInit:
	ld   a, LCDC_PRIORITY|LCDC_OBJENABLE|LCDC_OBJSIZE|LCDC_WENABLE|LCDC_WTILEMAP|LCDC_ENABLE
	rst  $18				; Resume LCD
	;-----------------------------------
	ei
	; Reset all palettes
	ld   a, $FF
	ldh  [rBGP], a
	ldh  [rOBP0], a
	ldh  [rOBP1], a
	ldh  [hScreenSect0BGP], a
	ldh  [hScreenSect1BGP], a
	ldh  [hScreenSect2BGP], a
	; Wait frame show the changes
	call Task_PassControl_NoDelay
	di
	;-----------------------------------
	rst  $10				; Stop LCD
	
	; Cutscenes aren't gameplay
	ld   hl, wMisc_C028
	res  MISCB_PL_RANGE_CHECK, [hl]
	
	; Reuse the SGB palette from the Intro, which is also visually setup in screen sections like cutscenes
	ld   de, SCRPAL_INTRO
	call HomeCall_SGB_ApplyScreenPalSet
	
	; Clear the tilemap
	call ClearBGMap
	call ClearWINDOWMap
	
	; Reset screen scroll to top left
	xor  a
	ldh  [hScrollX], a
	ldh  [hScrollY], a
	ld   [wOBJScrollX], a
	ld   [wOBJScrollY], a
	
	; Load standard font
	call LoadGFX_1bppFont_Default
	
	; Delete all sprites
	call ClearOBJInfo
	
	; Move the WINDOW layer on the bottom of the screen, exactly where the text should start.
	; Because of how screen sections enable/disable the WINDOW layer, the value of rWY should 
	; match what's passed to SetSectLYC.
	; The actual call to SetSectLYC is done after the subroutine returns, by the code which calls this,
	; since while the third sector always starts at $5C, the top/center ones have variable height.
	ld   a, $5C		; This is the same value
	ldh  [rWY], a
	ld   a, $0F
	ldh  [rWX], a
	ret
	
; =============== SubModule_Credits ===============
; Displays the credits, shared across all difficulties.
SubModule_Credits:
	di
	;-----------------------------------
	rst  $10				; Stop LCD
	
	; We're not in gameplay
	ld   hl, wMisc_C028
	res  MISCB_PL_RANGE_CHECK, [hl]
	
	; Clear DMG palettes
	xor  a
	ldh  [rBGP], a
	ldh  [rOBP0], a
	ldh  [rOBP1], a
	
	; Set new SGB palette
	ld   de, SCRPAL_INTRO
	call HomeCall_SGB_ApplyScreenPalSet
	
	; Clear tilemaps
	call ClearBGMap
	call ClearWINDOWMap
	
	; Reset scrolling to top left
	xor  a
	ldh  [hScrollX], a
	ldh  [hScrollY], a
	ld   [wOBJScrollX], a
	ld   [wOBJScrollY], a
	
	; Load standard font
	call LoadGFX_1bppFont_Default
	
	; Delete all sprite mappings
	call ClearOBJInfo
	
	; Disable sectors
	ld   a, LCDC_PRIORITY|LCDC_OBJENABLE|LCDC_OBJSIZE|LCDC_WTILEMAP|LCDC_ENABLE
	rst  $18				; Resume LCD
	;-----------------------------------
	ei
	
	; Wait start of next frame before setting palettes, to avoid tearing
	call Task_PassControl_NoDelay
	
	; Set actual DMG pals
	ld   a, $3F
	ldh  [rOBP0], a
	ld   a, $00
	ldh  [rOBP1], a
	ld   a, $1B
	ldh  [rBGP], a
	
	ld   a, BGM_RISINGRED
	call HomeCall_Sound_ReqPlayExId_Stub
	
	;
	; Print all screens of text in one go.
	; When all text for a screen is printed, wait for a bit before continuing.
	;
	
	; 0
	ld   hl, TextDef_Credits0_0
	call TextPrinter_Instant
	ld   b, $04
	call Cutscene_ClearBG_Delay1D8
	
	; 1
	ld   hl, TextDef_Credits1_0
	call TextPrinter_Instant
	ld   hl, TextDef_Credits1_1
	call TextPrinter_Instant
	ld   b, $08
	call Cutscene_ClearBG_Delay1D8
	
	; 2
	ld   hl, TextDef_Credits2_0
	call TextPrinter_Instant
	ld   hl, TextDef_Credits2_1
	call TextPrinter_Instant
	ld   hl, TextDef_Credits2_2
	call TextPrinter_Instant
	ld   hl, TextDef_Credits2_3
	call TextPrinter_Instant
	ld   b, $08
	call Cutscene_ClearBG_Delay1D8
	
	; 3
	ld   hl, TextDef_Credits3_0
	call TextPrinter_Instant
	ld   hl, TextDef_Credits3_1
	call TextPrinter_Instant
	ld   b, $08
	call Cutscene_ClearBG_Delay1D8
	
	; 4
	ld   hl, TextDef_Credits4_0
	call TextPrinter_Instant
	ld   hl, TextDef_Credits4_1
	call TextPrinter_Instant
	ld   hl, TextDef_Credits4_2
	call TextPrinter_Instant
	ld   b, $08
	call Cutscene_ClearBG_Delay1D8
	
	; 5
	ld   hl, TextDef_Credits5_0
	call TextPrinter_Instant
	ld   hl, TextDef_Credits5_1
	call TextPrinter_Instant
	ld   hl, TextDef_Credits5_2
	call TextPrinter_Instant
	ld   b, $08
	call Cutscene_ClearBG_Delay1D8
	
	; 6
	ld   hl, TextDef_Credits6_0
	call TextPrinter_Instant
	ld   hl, TextDef_Credits6_1
	call TextPrinter_Instant
	ld   hl, TextDef_Credits6_2
	call TextPrinter_Instant
	ld   hl, TextDef_Credits6_3
	call TextPrinter_Instant
	ld   b, $08
	call Cutscene_ClearBG_Delay1D8
	
	; 7
	ld   hl, TextDef_Credits7_0
	call TextPrinter_Instant
	ld   hl, TextDef_Credits7_1
	call TextPrinter_Instant
	ld   b, $08
	call Cutscene_ClearBG_Delay1D8
	
	; 8
	ld   hl, TextDef_Credits8_0
	call TextPrinter_Instant
	ld   hl, TextDef_Credits8_1
	call TextPrinter_Instant
	ld   hl, TextDef_Credits8_2
	call TextPrinter_Instant
	ld   b, $08
	call Cutscene_ClearBG_Delay1D8
	
	; 9
	ld   hl, TextDef_Credits9_0
	call TextPrinter_Instant
	ld   hl, TextDef_Credits9_1
	call TextPrinter_Instant
	ld   hl, TextDef_Credits9_2
	call TextPrinter_Instant
	ld   hl, TextDef_Credits9_3
	call TextPrinter_Instant
	ld   b, $08
	call Cutscene_ClearBG_Delay1D8
	
	; A
	ld   hl, TextDef_CreditsA_0
	call TextPrinter_Instant
	ld   hl, TextDef_CreditsA_1
	call TextPrinter_Instant
	ld   hl, TextDef_CreditsA_2
	call TextPrinter_Instant
	ld   hl, TextDef_CreditsA_3
	call TextPrinter_Instant
	ld   hl, TextDef_CreditsA_4
	call TextPrinter_Instant
	ld   hl, TextDef_CreditsA_5
	call TextPrinter_Instant
	ld   hl, TextDef_CreditsA_6
	call TextPrinter_Instant
	ld   hl, TextDef_CreditsA_7
	call TextPrinter_Instant
	ld   hl, TextDef_CreditsA_8
	call TextPrinter_Instant
	ld   hl, TextDef_CreditsA_9
	call TextPrinter_Instant
	ld   hl, TextDef_CreditsA_A
	call TextPrinter_Instant
	ld   hl, TextDef_CreditsA_B
	call TextPrinter_Instant
	ld   hl, TextDef_CreditsA_C
	call TextPrinter_Instant
	ld   hl, TextDef_CreditsA_D
	call TextPrinter_Instant
	ld   hl, TextDef_CreditsA_E
	call TextPrinter_Instant
	ld   b, $08
	call Cutscene_ClearBG_Delay1D8
	
	; B
	ld   hl, TextDef_CreditsB_0
	call TextPrinter_Instant
	ld   hl, TextDef_CreditsB_1
	call TextPrinter_Instant
	ld   b, $08
	call Cutscene_ClearBG_Delay1D8
	
	; C
	ld   hl, TextDef_CreditsC_0
	call TextPrinter_Instant
	ld   hl, TextDef_CreditsC_1
	call TextPrinter_Instant
	ld   hl, TextDef_CreditsC_2
	call TextPrinter_Instant
	ld   b, $08
	call Cutscene_ClearBG_Delay1D8
	
	ret
	
; =============== SubModule_TheEnd ===============
; Displays "THE END" on the screen.
SubModule_TheEnd:

	;
	; Initialization code almost identical to SubModule_Credits, only difference
	; is that it doesn't set a SGB palette.
	;
	di
	;-----------------------------------
	rst  $10				; Stop LCD
	
	; We're not in gameplay
	ld   hl, wMisc_C028
	res  MISCB_PL_RANGE_CHECK, [hl]
	
	; Clear DMG palettes
	xor  a
	ldh  [rBGP], a
	ldh  [rOBP0], a
	ldh  [rOBP1], a
	
	; Clear tilemaps
	call ClearBGMap
	call ClearWINDOWMap
	
	; Reset scrolling to top left
	xor  a
	ldh  [hScrollX], a
	ldh  [hScrollY], a
	ld   [wOBJScrollX], a
	ld   [wOBJScrollY], a
	
	; Load standard font
	call LoadGFX_1bppFont_Default
	
	; Delete all sprite mappings
	call ClearOBJInfo
	
	; Disable sectors
	ld   a, LCDC_PRIORITY|LCDC_OBJENABLE|LCDC_OBJSIZE|LCDC_WTILEMAP|LCDC_ENABLE
	rst  $18				; Resume LCD
	;-----------------------------------
	ei
	
	; Wait start of next frame before setting palettes, to avoid tearing
	call Task_PassControl_NoDelay
	
	; Set actual DMG pals
	ld   a, $3F
	ldh  [rOBP0], a
	ld   a, $00
	ldh  [rOBP1], a
	ld   a, $1B
	ldh  [rBGP], a
	
	; THE END
	ld   hl, TextDef_TheEnd
	call TextPrinter_Instant
	
	; Stop all sound
	ld   a, SND_MUTE
	call HomeCall_Sound_ReqPlayExId_Stub
	
	; Wait 590 frames before returning
	ld   b, $0A
.loop:
	call Task_PassControl_Delay3B
	dec  b
	jp   nz, .loop
	
	jp   ClearBGMap
	
; =============== Cutscene_PostTextWrite ===============
; Shared code executed after text finishes writing for a cutscene.
; This delays the cutscene from continuing, while handling animations,
; until the timer elapses or START is pressed.
; IN
; - B: Max number of frames to wait
; OUT
; - C flag: If set, it was aborted early
Cutscene_PostTextWrite:
	
	;
	; These are the two subroutines that were previously used by wTextPrintFrameCodePtr
	; to be executed while printing text. Their effect should also continue here.
	;
	; Even though only one effect can be active at a time when printing text, this
	; subroutine is shared, so it had to call both of them.
	; This is partially why there are flags to enable each individual effect, it's
	; to avoid having them both execute here.
	; 
	call Cutscene_MoveLargeChars
	call Cutscene_FlashBGPal
	
	; Check early abort
	call Cutscene_IsStartPressed	; Did anyone press START?
	jr   nc, .contWait				; If not, jump
.abort:
	; Wait frame, this also preserves C flag
	call Task_PassControl_NoDelay
	ret		; C flag set
.contWait:
	; Wait frame
	call Task_PassControl_NoDelay
	dec  b							; Are we done?
	jp   nz, Cutscene_PostTextWrite	; If not, loop
.end:
	xor  a	; C flag clear
	ret
	
; =============== Cutscene_ClearBG_Delay1D8 ===============
; Waits for $1D8 frames and then clears the BG tilemap, which clears the middle section.
Cutscene_ClearBG_Delay1D8:
	ld   b, $08	; For 8 times...
.loop:
	; Wait $3B frames
	call Task_PassControl_Delay3B
	dec  b
	jp   nz, .loop
	; Clear middle section (Goenitz, characters)
	call ClearBGMap
	ret
	
	
; =============== Cutscene_IsStartPressed ===============
; Checks if any player pressed START.
; Identical to Win_IsStartPressed.
; OUT
; - C flag: If set, someone did
Cutscene_IsStartPressed:
	; If any player presses START, return set
	ldh  a, [hJoyNewKeys]
	bit  KEYB_START, a
	jp   nz, .abort
	ldh  a, [hJoyNewKeys2]
	bit  KEYB_START, a
	jp   nz, .abort
	; Otherwise, return clear
	xor  a
	ret
.abort:
	scf
	ret
TextDef_Credits0_0:
	dw $9906
	db $07
	db "-STAFF-"
TextDef_Credits1_0:
	dw $98C0
	db $14
	db "-EXECUTIVE PRODUCER-"
TextDef_Credits1_1:
	dw $9943
	db $0E
	db "HIROHISA SATOH"
TextDef_Credits2_0:
	dw $98A5
	db $0A
	db "-PRODUCER-"
TextDef_Credits2_1:
	dw $9901
	db $11
	db "MASAHIRO MORIKAWA"
TextDef_Credits2_2:
	dw $9942
	db $0F
	db "TAKAYUKI NAKANO"
TextDef_Credits2_3:
	dw $9985
	db $09
	db "T.ISHIGAI"
TextDef_Credits3_0:
	dw $98C5
	db $0A
	db "-DIRECTOR-"
TextDef_Credits3_1:
	dw $9921
	db $11
	db "HIROFUMI KASAKAWA"
TextDef_Credits4_0:
	dw $98C3
	db $0D
	db "-ARRANGEMENT-"
TextDef_Credits4_1:
	dw $9925
	db $08
	db "T.SAITOH"
TextDef_Credits4_2:
	dw $9965
	db $07
	db "H.KOISO"
TextDef_Credits5_0:
	dw $98C4
	db $0C
	db "-PROGRAMMER-"
TextDef_Credits5_1:
	dw $9926
	db $07
	db "H.KOISO"
TextDef_Credits5_2:
	dw $9965
	db $09
	db "T.ISHIGAI"
TextDef_Credits6_0:
	dw $98A5
	db $0A
	db "-DESIGNER-"
TextDef_Credits6_1:
	dw $9906
	db $08
	db "T.SAITOU"
TextDef_Credits6_2:
	dw $9946
	db $08
	db "A.TUYUKI"
TextDef_Credits6_3:
	dw $9986
	db $07
	db "A.HANDA"
TextDef_Credits7_0:
	dw $98C5
	db $08
	db "MUSIC BY"
TextDef_Credits7_1:
	dw $9921
	db $11
	db "STUDIO PJ CO.,LTD"
TextDef_Credits9_0:
	dw $98A1
	db $11
	db "-SUPER MARKETTER-"
TextDef_Credits9_1:
	dw $9902
	db $11
	db "TOSHIHIRO MORIOKA"
TextDef_Credits9_2:
	dw $9942
	db $0F
	db "KATUYA TORIHAMA"
TextDef_Credits9_3:
	dw $9982
	db $10
	db "MASAHIRO IWASAKI"
TextDef_Credits8_0:
	dw $98C2
	db $10
	db "-ARTWORK DESIGN-"
TextDef_Credits8_1:
	dw $9923
	db $0D
	db "DESIGN OFFICE"
TextDef_Credits8_2:
	dw $9963
	db $0E
	db "SPACE LAP INC."
TextDef_CreditsB_0:
	dw $98A3
	db $0E
	db "SPECIAL THANKS"
TextDef_CreditsB_1:
	dw $9923
	db $0D
	db "SNK ALL STAFF"
TextDef_CreditsC_0:
	dw $98E6
	db $09
	db "PRESENTED"
TextDef_CreditsC_1:
	dw $9949
	db $02
	db "BY"
TextDef_CreditsC_2:
	dw $9987
	db $06
	db "TAKARA"
TextDef_CreditsA_0:
	dw $9821
	db $10
	db "-SPECIAL THANKS-"
TextDef_CreditsA_1:
	dw $9862
	db $0C
	db "TATUYA HOCHO"
TextDef_CreditsA_2:
	dw $9882
	db $0F
	db "SHUNICHI OHKUSA"
TextDef_CreditsA_3:
	dw $98A2
	db $0F
	db "TAKESHI IKENOUE"
TextDef_CreditsA_4:
	dw $98C2
	db $0E
	db "NAOYUKI TAKADA"
TextDef_CreditsA_5:
	dw $98E2
	db $0E
	db "AKIHIKO KIMURA"
TextDef_CreditsA_6:
	dw $9902
	db $11
	db "NORIHIRO HAYASAKA"
TextDef_CreditsA_7:
	dw $9922
	db $03
	db "S.H"
TextDef_CreditsA_8:
	dw $9942
	db $0F
	db "MITSUNORI SHOJI"
TextDef_CreditsA_9:
	dw $9962
	db $0E
	db "FUMIHIKO OZAWA"
TextDef_CreditsA_A:
	dw $9982
	db $0E
	db "SATOSHI KUMATA"
TextDef_CreditsA_B:
	dw $99A2
	db $0D
	db "TATSUYA YAURA"
TextDef_CreditsA_C:
	dw $99C2
	db $0C
	db "TETSUYA IIDA"
TextDef_CreditsA_D:
	dw $99E2
	db $0B
	db "TAKAO SATOU"
TextDef_CreditsA_E:
	dw $9A02
	db $10
	db "MUTSUMI NAKAMURA"
TextDef_TheEnd:
	dw $9906
	db $08
	db "THE  END"
TextC_Ending_SacredTreasures0:
	db $25
	db "これほとﾞとは・・・。", C_NL
	db C_NL
	db "しかし、これてﾞおしまいてﾞは", C_NL
	db C_NL
	db "あリません。", C_NL
TextC_Ending_SacredTreasures1:
	db $05
	db "ちぃっ!", C_NL
TextC_Ending_SacredTreasures2:
	db $0D
	db "くらいやかﾞれええいっ!", C_NL
TextC_Ending_SacredTreasures3:
	db $0A
	db "くﾞあああああっ!", C_NL
TextC_Ending_SacredTreasures4:
	db $27
	db "なせﾞたﾞ!? なせﾞあかい・・・?", C_NL
	db C_NL
	db "おれのほのうかﾞあかいわけかﾞない!", C_NL
TextC_Ending_SacredTreasures5:
	db $1B
	db "はらうもの、くさなきﾞ", C_NL
	db C_NL
	db "ふうすﾞるもの、やかﾞみ。", C_NL
TextC_Ending_SacredTreasures6:
	db $1E
	db "あななたちはいま1800ねんのときを", C_NL
	db C_NL
	db "なそﾞらえたのよ。", C_NL
TextC_Ending_SacredTreasures7:
	db $2F
	db "オロチはやかﾞみのあかいほのうてﾞ", C_NL
	db C_NL
	db "ふうしﾞられ、くさなきﾞによって", C_NL
	db C_NL
	db "なきﾞはらわれた。", C_NL
TextC_Ending_SacredTreasures8:
	db $32
	db "やかﾞみのあかきほのうは、あなたかﾞ", C_NL
	db C_NL
	db "もつひとのふﾞふﾞんのほんのうかﾞ", C_NL
	db C_NL
	db "うみたﾞしたものよ。", C_NL
TextC_Ending_SacredTreasures9:
	db $32
	db "あなたかﾞあやつるあおきほのう。", C_NL
	db C_NL
	db "それはあなたになかﾞれるオロチの", C_NL
	db C_NL
	db "ちからうまれるもの・・・。", C_NL
TextC_Ending_SacredTreasuresA:
	db $2A
	db "あなたのいちそﾞくかﾞ", C_NL
	db C_NL
	db "たﾞいたﾞいたんめいなのは、", C_NL
	db C_NL
	db "そのオロチのちのせいよ。", C_NL
TextC_Ending_SacredTreasuresB:
	db $2A
	db "このままそのちからをつかい", C_NL
	db C_NL
	db "つつﾞけれはﾞやかﾞみ、", C_NL
	db C_NL
	db "あなたもいすﾞれ・・・。", C_NL
TextC_Ending_SacredTreasuresC:
	db $2C
	db "くたﾞらないことを・・・。", C_NL
	db C_NL
	db "なんたﾞ?・・・な、なにもみえん!?", C_NL
	db C_NL
	db "く、くﾞふっ!!", C_NL
TextC_Ending_SacredTreasuresD:
	db $0F
	db "とﾞうした、やかﾞみ・・・!", C_NL
TextC_Ending_SacredTreasuresE:
	db $13
	db "まさか・・・ちの・・・ほﾞうそう!?", C_NL
TextC_Ending_SacredTreasuresF:
	db $0C
	db "くﾞうおおおううう!!", C_NL
TextC_EndingPost_Boss0:
	db $17
	db "オロチ・・・。", C_NL
	db C_NL
	db "くちほとﾞにもなかったな。", C_NL
TextC_EndingPost_Boss1:
	db $19
	db "GEESE!!", C_NL
	db C_NL
	db "きさま、とﾞういうつもリたﾞ!", C_NL
TextC_EndingPost_Boss2:
	db $07
	db "なんたﾞ!?", C_NL
TextC_EndingPost_Boss3:
	db $36
	db "みょうなトｰナメントにひっはﾟリ", C_NL
	db C_NL
	db "こまれるは、てこﾞまにされるわ。", C_NL
	db C_NL
	db "いすﾞれかならすﾞけリをつける。", C_NL
	db C_NL
TextC_EndingPost_Boss4:
	db $1D
	db "いすﾞれてﾞはなく、いま", C_NL
	db C_NL
	db "けリをつけようてﾞはないか。", C_NL
TextC_EndingPost_Boss5:
	db $0D
	db "ふっふっふ! よかろう。", C_NL
TextC_Ending_OLeona0:
	db $31
	db "おとﾞろきてﾞすね。これほとﾞ", C_NL
	db C_NL
	db "まてﾞとは。 8ねんまえのことは", C_NL
	db C_NL
	db "おほﾞえていますか・・・。", C_NL
TextC_Ending_OLeona1:
	db $21
	db "・・・!?  まさか・・・?", C_NL
	db C_NL
	db "わたしのかそﾞくをころしたのは。", C_NL
TextC_Ending_OLeona2:
	db $35
	db "かんちかﾞいされてはこまリますね。", C_NL
	db C_NL
	db "・・・あなたなのてﾞすよ。", C_NL
	db C_NL
	db "しﾞふﾞんのかそﾞくをころしたのは。", C_NL
TextC_Ending_OLeona3:
	db $0E
	db "!・・・うそ・・・・・・。", C_NL
TextC_Ending_OLeona4:
	db $2D
	db "うそてﾞはあリません。", C_NL
	db C_NL
	db "あなたのからたﾞにはオロチのち", C_NL
	db C_NL
	db "かﾞなかﾞれているのてﾞす。", C_NL
TextC_Ending_OLeona5:
	db $25
	db "てみやけﾞに8ねんまえとおなしﾞ", C_NL
	db C_NL
	db "ようにめさﾞめさせてあけﾞましょう。", C_NL
TextC_Ending_OLeona6:
	db $25
	db "ふふふ・・・。", C_NL
	db C_NL
	db "いいかせﾞかﾞきましたね。", C_NL
	db C_NL
	db "そろそろころあいてﾞす。", C_NL
TextC_Ending_OLeona8:
	db $16
	db "な、なに?", C_NL
	db C_NL
	db "・・・なにもみえない・・・!", C_NL
TextC_Ending_OLeona9:
	db $1F
	db "とﾞうした? LEONA・・・!", C_NL
	db C_NL
	db "まさか、オロチの・・・。", C_NL
TextC_CutsceneMrKarate0:
	db $27
	db "はっはっは!", C_NL
	db C_NL
	db "てﾞんせつのかくとうか!", C_NL
	db C_NL
	db "MR.KARATEさんしﾞょう!", C_NL
TextC_CutsceneMrKarate1:
	db $32
	db "わしは、おまえたちのたたかいを", C_NL
	db C_NL
	db "つねにみてきた。 さすかﾞゆうしょう", C_NL
	db C_NL
	db "したたﾞけのことはある。", C_NL
TextC_CutsceneMrKarate2:
	db $32
	db "たﾞかﾞ、またﾞまたﾞみしﾞゅく!", C_NL
	db C_NL
	db "わしかﾞ、けいこをつけてやろう!!", C_NL
	db C_NL
	db "てﾞは、いくそﾞ!!!", C_NL
TextC_CutsceneMrKarateDefeat0:
	db $2E
	db "むむ・・・なかなかやリおる。", C_NL
	db C_NL
	db "せﾞんたいかいよリ、いちたﾞんと", C_NL
	db C_NL
	db "つよくなったな・・・。", C_NL
TextC_CutsceneMrKarateDefeat1:
	db $1A
	db "せﾞんたいかい・・・?", C_NL
	db C_NL
	db "やはリ、あなたは・・・?", C_NL
TextC_CutsceneMrKarateDefeat2:
	db $30
	db "ちかﾞうっ! たﾞんしﾞてちかﾞう!", C_NL
	db C_NL
	db "わしはてﾞんせつのかくとうか、", C_NL
	db C_NL
	db "MR.KARATE!", C_NL
TextC_CutsceneMrKarateDefeat3:
	db $0D
	db "たくまてﾞはない・・・!", C_NL
TextC_CutsceneMrKarateDefeat4:
	db $0A
	db "や、やはリ・・・。", C_NL
; [TCRF] Unused text, obvious purpose considering where it's placed.
TextC_Unused_0:
	db $24
	db "きょうのところはここまてﾞに", C_NL
	db C_NL
	db "しておいてやろう。", C_NL
	db C_NL
	db "また、あおう!!", C_NL
TextC_CutsceneMrKarateDefeat5:
	db $22
	db "もうすこしてﾞ、しょうたいかﾞ", C_NL
	db C_NL
	db "はﾞれるところてﾞあった・・・。", C_NL
TextC_CutsceneMrKarateDefeat6:
	db $18
	db "こんとﾞはわしもたいかいに", C_NL
	db C_NL
	db "さんかするそﾞ。", C_NL
TextC_CutsceneMrKarateDefeat7:
	db $2A
	db "TAKARAロコﾞのひょうしﾞ", C_NL
	db C_NL
	db "ちゅうにSELECTホﾞタン", C_NL
	db C_NL
	db "を20かいおす。", C_NL
TextC_CutsceneMrKarateDefeat8:
	db $28
	db "SELECTかﾞめんてﾞわしを", C_NL
	db C_NL
	db "えらんてﾞ、さいきょうを", C_NL
	db C_NL
	db "めさﾞすのたﾞ。", C_NL
TextC_EndingPost_FFGeese0:
	db $17
	db "ここまてﾞきたら、", C_NL
	db C_NL
	db "きさまらにようはない。", C_NL
TextC_EndingPost_FFGeese1:
	db $1B
	db "GEESE!", C_NL
	db C_NL
	db "こんとﾞこそけリをつけてやるせﾞ!!", C_NL
TextC_EndingPost_AOFMrBig0:
	db $1C
	db "RYO、ROBERT、", C_NL
	db C_NL
	db "かリはかえさせてもらうせﾞ。", C_NL
TextC_EndingPost_AOFMrBig1:
	db $0B
	db "のそﾞむところたﾞ!", C_NL
TextC_EndingPost_KTR0:
	db $28
	db "ゆうしょうはもらった。", C_NL
	db C_NL
	db "しゅやくはおれたﾞ!", C_NL
	db C_NL
	db "けっちゃくをつけようせﾞ!", C_NL
	db C_NL

; =============== END OF BANK ===============
; Junk area below.
L1D7D66: db $D6;X
L1D7D67: db $B3;X
L1D7D68: db $BE;X
L1D7D69: db $DE;X
L1D7D6A: db $21;X
L1D7D6B: db $FF;X
L1D7D6C: db $FF;X
L1D7D6D: db $77;X
L1D7D6E: db $10;X
L1D7D6F: db $18;X
L1D7D70: db $3F;X
L1D7D71: db $B0;X
L1D7D72: db $FE;X
L1D7D73: db $50;X
L1D7D74: db $FC;X
L1D7D75: db $00;X
L1D7D76: db $E0;X
L1D7D77: db $10;X
L1D7D78: db $30;X
L1D7D79: db $78;X
L1D7D7A: db $00;X
L1D7D7B: db $F7;X
L1D7D7C: db $14;X
L1D7D7D: db $90;X
L1D7D7E: db $7E;X
L1D7D7F: db $09;X
L1D7D80: db $B0;X
L1D7D81: db $C9;X
L1D7D82: db $10;X
L1D7D83: db $C5;X
L1D7D84: db $FF;X
L1D7D85: db $5C;X
L1D7D86: db $44;X
L1D7D87: db $10;X
L1D7D88: db $20;X
L1D7D89: db $10;X
L1D7D8A: db $D0;X
L1D7D8B: db $11;X
L1D7D8C: db $9E;X
L1D7D8D: db $80;X
L1D7D8E: db $C2;X
L1D7D8F: db $C0;X
L1D7D90: db $30;X
L1D7D91: db $2B;X
L1D7D92: db $C0;X
L1D7D93: db $2A;X
L1D7D94: db $C1;X
L1D7D95: db $13;X
L1D7D96: db $AA;X
L1D7D97: db $1B;X
L1D7D98: db $41;X
L1D7D99: db $CA;X
L1D7D9A: db $21;X
L1D7D9B: db $A0;X
L1D7D9C: db $D0;X
L1D7D9D: db $80;X
L1D7D9E: db $10;X
L1D7D9F: db $0F;X
L1D7DA0: db $A9;X
L1D7DA1: db $01;X
L1D7DA2: db $80;X
L1D7DA3: db $16;X
L1D7DA4: db $C0;X
L1D7DA5: db $10;X
L1D7DA6: db $70;X
L1D7DA7: db $0F;X
L1D7DA8: db $15;X
L1D7DA9: db $41;X
L1D7DAA: db $30;X
L1D7DAB: db $10;X
L1D7DAC: db $31;X
L1D7DAD: db $0E;X
L1D7DAE: db $17;X
L1D7DAF: db $08;X
L1D7DB0: db $1F;X
L1D7DB1: db $F0;X
L1D7DB2: db $A4;X
L1D7DB3: db $20;X
L1D7DB4: db $F7;X
L1D7DB5: db $11;X
L1D7DB6: db $10;X
L1D7DB7: db $EF;X
L1D7DB8: db $B0;X
L1D7DB9: db $CE;X
L1D7DBA: db $61;X
L1D7DBB: db $00;X
L1D7DBC: db $9E;X
L1D7DBD: db $C3;X
L1D7DBE: db $3C;X
L1D7DBF: db $83;X
L1D7DC0: db $7C;X
L1D7DC1: db $06;X
L1D7DC2: db $F9;X
L1D7DC3: db $9F;X
L1D7DC4: db $49;X
L1D7DC5: db $60;X
L1D7DC6: db $11;X
L1D7DC7: db $8F;X
L1D7DC8: db $70;X
L1D7DC9: db $13;X
L1D7DCA: db $07;X
L1D7DCB: db $F8;X
L1D7DCC: db $11;X
L1D7DCD: db $08;X
L1D7DCE: db $03;X
L1D7DCF: db $FC;X
L1D7DD0: db $FF;X
L1D7DD1: db $00;X
L1D7DD2: db $20;X
L1D7DD3: db $04;X
L1D7DD4: db $FB;X
L1D7DD5: db $0B;X
L1D7DD6: db $7E;X
L1D7DD7: db $F7;X
L1D7DD8: db $A0;X
L1D7DD9: db $10;X
L1D7DDA: db $A0;X
L1D7DDB: db $90;X
L1D7DDC: db $50;X
L1D7DDD: db $10;X
L1D7DDE: db $05;X
L1D7DDF: db $92;X
L1D7DE0: db $10;X
L1D7DE1: db $02;X
L1D7DE2: db $E8;X
L1D7DE3: db $70;X
L1D7DE4: db $E9;X
L1D7DE5: db $82;X
L1D7DE6: db $50;X
L1D7DE7: db $C0;X
L1D7DE8: db $98;X
L1D7DE9: db $10;X
L1D7DEA: db $D5;X
L1D7DEB: db $EA;X
L1D7DEC: db $30;X
L1D7DED: db $13;X
L1D7DEE: db $EB;X
L1D7DEF: db $81;X
L1D7DF0: db $E0;X
L1D7DF1: db $20;X
L1D7DF2: db $00;X
L1D7DF3: db $F8;X
L1D7DF4: db $10;X
L1D7DF5: db $FE;X
L1D7DF6: db $C8;X
L1D7DF7: db $7F;X
L1D7DF8: db $64;X
L1D7DF9: db $FF;X
L1D7DFA: db $50;X
L1D7DFB: db $E2;X
L1D7DFC: db $10;X
L1D7DFD: db $61;X
L1D7DFE: db $12;X
L1D7DFF: db $60;X
L1D7E00: db $09;X
L1D7E01: db $00;X
L1D7E02: db $43;X
L1D7E03: db $00;X
L1D7E04: db $02;X
L1D7E05: db $01;X
L1D7E06: db $02;X
L1D7E07: db $03;X
L1D7E08: db $04;X
L1D7E09: db $73;X
L1D7E0A: db $02;X
L1D7E0B: db $02;X
L1D7E0C: db $05;X
L1D7E0D: db $07;X
L1D7E0E: db $08;X
L1D7E0F: db $0B;X
L1D7E10: db $0C;X
L1D7E11: db $0F;X
L1D7E12: db $B5;X
L1D7E13: db $06;X
L1D7E14: db $04;X
L1D7E15: db $09;X
L1D7E16: db $0A;X
L1D7E17: db $0D;X
L1D7E18: db $0E;X
L1D7E19: db $10;X
L1D7E1A: db $B5;X
L1D7E1B: db $11;X
L1D7E1C: db $13;X
L1D7E1D: db $08;X
L1D7E1E: db $14;X
L1D7E1F: db $17;X
L1D7E20: db $18;X
L1D7E21: db $1B;X
L1D7E22: db $B5;X
L1D7E23: db $12;X
L1D7E24: db $15;X
L1D7E25: db $16;X
L1D7E26: db $10;X
L1D7E27: db $19;X
L1D7E28: db $1A;X
L1D7E29: db $1C;X
L1D7E2A: db $B5;X
L1D7E2B: db $1E;X
L1D7E2C: db $21;X
L1D7E2D: db $22;X
L1D7E2E: db $25;X
L1D7E2F: db $20;X
L1D7E30: db $26;X
L1D7E31: db $29;X
L1D7E32: db $93;X
L1D7E33: db $1D;X
L1D7E34: db $1F;X
L1D7E35: db $20;X
L1D7E36: db $23;X
L1D7E37: db $24;X
L1D7E38: db $04;X
L1D7E39: db $27;X
L1D7E3A: db $28;X
L1D7E3B: db $2A;X
L1D7E3C: db $2B;X
L1D7E3D: db $2C;X
L1D7E3E: db $A0;X
L1D7E3F: db $2D;X
L1D7E40: db $2E;X
L1D7E41: db $00;X
L1D7E42: db $31;X
L1D7E43: db $32;X
L1D7E44: db $35;X
L1D7E45: db $36;X
L1D7E46: db $39;X
L1D7E47: db $3A;X
L1D7E48: db $3D;X
L1D7E49: db $3E;X
L1D7E4A: db $00;X
L1D7E4B: db $41;X
L1D7E4C: db $42;X
L1D7E4D: db $2F;X
L1D7E4E: db $30;X
L1D7E4F: db $33;X
L1D7E50: db $34;X
L1D7E51: db $37;X
L1D7E52: db $38;X
L1D7E53: db $00;X
L1D7E54: db $3B;X
L1D7E55: db $3C;X
L1D7E56: db $3F;X
L1D7E57: db $40;X
L1D7E58: db $43;X
L1D7E59: db $44;X
L1D7E5A: db $02;X
L1D7E5B: db $00;X
L1D7E5C: db $78;X
L1D7E5D: db $00;X
L1D7E5E: db $0F;X
L1D7E5F: db $0F;X
L1D7E60: db $0F;X
L1D7E61: db $02;X
L1D7E62: db $45;X
L1D7E63: db $46;X
L1D7E64: db $47;X
L1D7E65: db $42;X
L1D7E66: db $48;X
L1D7E67: db $B7;X
L1D7E68: db $21;X
L1D7E69: db $49;X
L1D7E6A: db $25;X
L1D7E6B: db $26;X
L1D7E6C: db $B7;X
L1D7E6D: db $23;X
L1D7E6E: db $1C;X
L1D7E6F: db $4A;X
L1D7E70: db $4B;X
L1D7E71: db $28;X
L1D7E72: db $B7;X
L1D7E73: db $0F;X
L1D7E74: db $03;X
L1D7E75: db $00;X
L1D7E76: db $0B;X
L1D7E77: db $80;X
L1D7E78: db $0C;X
L1D7E79: db $00;X
L1D7E7A: db $4C;X
L1D7E7B: db $4D;X
L1D7E7C: db $4E;X
L1D7E7D: db $0C;X
L1D7E7E: db $02;X
L1D7E7F: db $4F;X
L1D7E80: db $50;X
L1D7E81: db $10;X
L1D7E82: db $53;X
L1D7E83: db $54;X
L1D7E84: db $57;X
L1D7E85: db $1E;X
L1D7E86: db $51;X
L1D7E87: db $52;X
L1D7E88: db $55;X
L1D7E89: db $56;X
L1D7E8A: db $41;X
L1D7E8B: db $58;X
L1D7E8C: db $1E;X
L1D7E8D: db $59;X
L1D7E8E: db $5A;X
L1D7E8F: db $5D;X
L1D7E90: db $5E;X
L1D7E91: db $61;X
L1D7E92: db $1E;X
L1D7E93: db $04;X
L1D7E94: db $5B;X
L1D7E95: db $5C;X
L1D7E96: db $5F;X
L1D7E97: db $60;X
L1D7E98: db $62;X
L1D7E99: db $83;X
L1D7E9A: db $63;X
L1D7E9B: db $65;X
L1D7E9C: db $60;X
L1D7E9D: db $66;X
L1D7E9E: db $1B;X
L1D7E9F: db $00;X
L1D7EA0: db $64;X
L1D7EA1: db $67;X
L1D7EA2: db $68;X
L1D7EA3: db $69;X
L1D7EA4: db $6A;X
L1D7EA5: db $80;X
L1D7EA6: db $1E;X
L1D7EA7: db $6B;X
L1D7EA8: db $6D;X
L1D7EA9: db $6E;X
L1D7EAA: db $71;X
L1D7EAB: db $72;X
L1D7EAC: db $75;X
L1D7EAD: db $76;X
L1D7EAE: db $80;X
L1D7EAF: db $1C;X
L1D7EB0: db $6C;X
L1D7EB1: db $6F;X
L1D7EB2: db $70;X
L1D7EB3: db $73;X
L1D7EB4: db $74;X
L1D7EB5: db $77;X
L1D7EB6: db $78;X
L1D7EB7: db $81;X
L1D7EB8: db $1C;X
L1D7EB9: db $79;X
L1D7EBA: db $7B;X
L1D7EBB: db $7C;X
L1D7EBC: db $7F;X
L1D7EBD: db $80;X
L1D7EBE: db $83;X
L1D7EBF: db $5D;X
L1D7EC0: db $02;X
L1D7EC1: db $7A;X
L1D7EC2: db $7D;X
L1D7EC3: db $7E;X
L1D7EC4: db $81;X
L1D7EC5: db $82;X
L1D7EC6: db $84;X
L1D7EC7: db $1D;X
L1D7EC8: db $85;X
L1D7EC9: db $04;X
L1D7ECA: db $87;X
L1D7ECB: db $88;X
L1D7ECC: db $8B;X
L1D7ECD: db $8C;X
L1D7ECE: db $8F;X
L1D7ECF: db $1D;X
L1D7ED0: db $86;X
L1D7ED1: db $89;X
L1D7ED2: db $08;X
L1D7ED3: db $8A;X
L1D7ED4: db $8D;X
L1D7ED5: db $8E;X
L1D7ED6: db $90;X
L1D7ED7: db $1D;X
L1D7ED8: db $91;X
L1D7ED9: db $92;X
L1D7EDA: db $93;X
L1D7EDB: db $00;X
L1D7EDC: db $94;X
L1D7EDD: db $95;X
L1D7EDE: db $96;X
L1D7EDF: db $97;X
L1D7EE0: db $3A;X
L1D7EE1: db $00;X
L1D7EE2: db $50;X
L1D7EE3: db $00;X
L1D7EE4: db $00;X
L1D7EE5: db $07;X
L1D7EE6: db $10;X
L1D7EE7: db $1C;X
L1D7EE8: db $04;X
L1D7EE9: db $31;X
L1D7EEA: db $11;X
L1D7EEB: db $04;X
L1D7EEC: db $27;X
L1D7EED: db $06;X
L1D7EEE: db $2E;X
L1D7EEF: db $0C;X
L1D7EF0: db $3A;X
L1D7EF1: db $80;X
L1D7EF2: db $3D;X
L1D7EF3: db $19;X
L1D7EF4: db $0C;X
L1D7EF5: db $35;X
L1D7EF6: db $18;X
L1D7EF7: db $2B;X
L1D7EF8: db $12;X
L1D7EF9: db $10;X
L1D7EFA: db $D0;X
L1D7EFB: db $37;X
L1D7EFC: db $05;X
L1D7EFD: db $20;X
L1D7EFE: db $76;X
L1D7EFF: db $22;X
L1D7F00: db $11;X
L1D7F01: db $57;X
L1D7F02: db $23;X
L1D7F03: db $DF;X
L1D7F04: db $6D;X
L1D7F05: db $E1;X
L1D7F06: db $00;X
L1D7F07: db $01;X
L1D7F08: db $61;X
L1D7F09: db $41;X
L1D7F0A: db $F1;X
L1D7F0B: db $C1;X
L1D7F0C: db $EF;X
L1D7F0D: db $A0;X
L1D7F0E: db $63;X
L1D7F0F: db $98;X
L1D7F10: db $B0;X
L1D7F11: db $CC;X
L1D7F12: db $88;X
L1D7F13: db $10;X
L1D7F14: db $90;X
L1D7F15: db $C8;X
L1D7F16: db $49;X
L1D7F17: db $81;X
L1D7F18: db $00;X
L1D7F19: db $82;X
L1D7F1A: db $99;X
L1D7F1B: db $92;X
L1D7F1C: db $19;X
L1D7F1D: db $02;X
L1D7F1E: db $11;X
L1D7F1F: db $12;X
L1D7F20: db $01;X
L1D7F21: db $80;X
L1D7F22: db $30;X
L1D7F23: db $33;X
L1D7F24: db $25;X
L1D7F25: db $32;X
L1D7F26: db $04;X
L1D7F27: db $BA;X
L1D7F28: db $BC;X
L1D7F29: db $4E;X
L1D7F2A: db $00;X
L1D7F2B: db $8D;X
L1D7F2C: db $5F;X
L1D7F2D: db $93;X
L1D7F2E: db $7C;X
L1D7F2F: db $8C;X
L1D7F30: db $F0;X
L1D7F31: db $30;X
L1D7F32: db $60;X
L1D7F33: db $09;X
L1D7F34: db $A0;X
L1D7F35: db $40;X
L1D7F36: db $80;X
L1D7F37: db $C0;X
L1D7F38: db $21;X
L1D7F39: db $00;X
L1D7F3A: db $81;X
L1D7F3B: db $00;X
L1D7F3C: db $60;X
L1D7F3D: db $01;X
L1D7F3E: db $30;X
L1D7F3F: db $13;X
L1D7F40: db $63;X
L1D7F41: db $42;X
L1D7F42: db $73;X
L1D7F43: db $52;X
L1D7F44: db $F7;X
L1D7F45: db $24;X
L1D7F46: db $E6;X
L1D7F47: db $D7;X
L1D7F48: db $10;X
L1D7F49: db $0F;X
L1D7F4A: db $F0;X
L1D7F4B: db $00;X
L1D7F4C: db $FF;X
L1D7F4D: db $1F;X
L1D7F4E: db $08;X
L1D7F4F: db $1E;X
L1D7F50: db $07;X
L1D7F51: db $04;X
L1D7F52: db $06;X
L1D7F53: db $10;X
L1D7F54: db $4C;X
L1D7F55: db $48;X
L1D7F56: db $D8;X
L1D7F57: db $50;X
L1D7F58: db $D0;X
L1D7F59: db $B0;X
L1D7F5A: db $60;X
L1D7F5B: db $10;X
L1D7F5C: db $50;X
L1D7F5D: db $A1;X
L1D7F5E: db $C1;X
L1D7F5F: db $E1;X
L1D7F60: db $99;X
L1D7F61: db $20;X
L1D7F62: db $41;X
L1D7F63: db $81;X
L1D7F64: db $40;X
L1D7F65: db $20;X
L1D7F66: db $83;X
L1D7F67: db $03;X
L1D7F68: db $10;X
L1D7F69: db $84;X
L1D7F6A: db $02;X
L1D7F6B: db $78;X
L1D7F6C: db $60;X
L1D7F6D: db $D8;X
L1D7F6E: db $E0;X
L1D7F6F: db $11;X
L1D7F70: db $F8;X
L1D7F71: db $C0;X
L1D7F72: db $52;X
L1D7F73: db $FC;X
L1D7F74: db $14;X
L1D7F75: db $BC;X
L1D7F76: db $12;X
L1D7F77: db $FE;X
L1D7F78: db $80;X
L1D7F79: db $11;X
L1D7F7A: db $00;X
L1D7F7B: db $A0;X
L1D7F7C: db $0C;X
L1D7F7D: db $07;X
L1D7F7E: db $10;X
L1D7F7F: db $1B;X
L1D7F80: db $03;X
L1D7F81: db $33;X
L1D7F82: db $14;X
L1D7F83: db $6D;X
L1D7F84: db $00;X
L1D7F85: db $30;X
L1D7F86: db $52;X
L1D7F87: db $20;X
L1D7F88: db $65;X
L1D7F89: db $01;X
L1D7F8A: db $47;X
L1D7F8B: db $02;X
L1D7F8C: db $4D;X
L1D7F8D: db $0D;X
L1D7F8E: db $06;X
L1D7F8F: db $0B;X
L1D7F90: db $04;X
L1D7F91: db $0A;X
L1D7F92: db $12;X
L1D7F93: db $60;X
L1D7F94: db $00;X
L1D7F95: db $11;X
L1D7F96: db $C4;X
L1D7F97: db $C0;X
L1D7F98: db $10;X
L1D7F99: db $3B;X
L1D7F9A: db $C4;X
L1D7F9B: db $FF;X
L1D7F9C: db $30;X
L1D7F9D: db $F7;X
L1D7F9E: db $98;X
L1D7F9F: db $90;X
L1D7FA0: db $30;X
L1D7FA1: db $27;X
L1D7FA2: db $BE;X
L1D7FA3: db $C0;X
L1D7FA4: db $7E;X
L1D7FA5: db $46;X
L1D7FA6: db $AE;X
L1D7FA7: db $C6;X
L1D7FA8: db $18;X
L1D7FA9: db $6E;X
L1D7FAA: db $86;X
L1D7FAB: db $4E;X
L1D7FAC: db $10;X
L1D7FAD: db $40;X
L1D7FAE: db $02;X
L1D7FAF: db $C7;X
L1D7FB0: db $03;X
L1D7FB1: db $05;X
L1D7FB2: db $C3;X
L1D7FB3: db $01;X
L1D7FB4: db $61;X
L1D7FB5: db $00;X
L1D7FB6: db $60;X
L1D7FB7: db $10;X
L1D7FB8: db $20;X
L1D7FB9: db $10;X
L1D7FBA: db $C0;X
L1D7FBB: db $60;X
L1D7FBC: db $10;X
L1D7FBD: db $3F;X
L1D7FBE: db $24;X
L1D7FBF: db $1F;X
L1D7FC0: db $10;X
L1D7FC1: db $0F;X
L1D7FC2: db $0A;X
L1D7FC3: db $69;X
L1D7FC4: db $05;X
L1D7FC5: db $70;X
L1D7FC6: db $01;X
L1D7FC7: db $81;X
L1D7FC8: db $10;X
L1D7FC9: db $C0;X
L1D7FCA: db $40;X
L1D7FCB: db $11;X
L1D7FCC: db $40;X
L1D7FCD: db $80;X
L1D7FCE: db $00;X
L1D7FCF: db $E0;X
L1D7FD0: db $20;X
L1D7FD1: db $7A;X
L1D7FD2: db $16;X
L1D7FD3: db $14;X
L1D7FD4: db $0C;X
L1D7FD5: db $2A;X
L1D7FD6: db $0F;X
L1D7FD7: db $03;X
L1D7FD8: db $00;X
L1D7FD9: db $01;X
L1D7FDA: db $00;X
L1D7FDB: db $00;X
L1D7FDC: db $01;X
L1D7FDD: db $BF;X
L1D7FDE: db $B6;X
L1D7FDF: db $80;X
L1D7FE0: db $FF;X
L1D7FE1: db $10;X
L1D7FE2: db $30;X
L1D7FE3: db $2F;X
L1D7FE4: db $11;X
L1D7FE5: db $50;X
L1D7FE6: db $1F;X
L1D7FE7: db $16;X
L1D7FE8: db $F3;X
L1D7FE9: db $33;X
L1D7FEA: db $03;X
L1D7FEB: db $00;X
L1D7FEC: db $07;X
L1D7FED: db $02;X
L1D7FEE: db $E0;X
L1D7FEF: db $0E;X
L1D7FF0: db $00;X
L1D7FF1: db $1E;X
L1D7FF2: db $1D;X
L1D7FF3: db $3F;X
L1D7FF4: db $3B;X
L1D7FF5: db $7C;X
L1D7FF6: db $74;X
L1D7FF7: db $F8;X
L1D7FF8: db $C8;X
L1D7FF9: db $00;X
L1D7FFA: db $EF;X
L1D7FFB: db $00;X
L1D7FFC: db $21;X
L1D7FFD: db $01;X
L1D7FFE: db $FF;X
L1D7FFF: db $14;X
